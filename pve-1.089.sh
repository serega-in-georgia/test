





<!DOCTYPE html>
<html
  lang="en"
  
  data-color-mode="auto" data-light-theme="light" data-dark-theme="dark"
  data-a11y-animated-images="system" data-a11y-link-underlines="true"
  
  >



  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">
  <link rel="preconnect" href="https://github.githubassets.com" crossorigin>
  <link rel="preconnect" href="https://avatars.githubusercontent.com">

  


  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/light_experimental-d0637bbdaa51.css" /><link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/dark_experimental-b3eb81810916.css" /><link data-color-theme="light_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_high_contrast_experimental-10abdc3747c3.css" /><link data-color-theme="light_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_colorblind_experimental-49cf0efe982a.css" /><link data-color-theme="light_colorblind_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_colorblind_high_contrast_experimental-e379dad4f96f.css" /><link data-color-theme="light_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_tritanopia_experimental-73918b3a2f64.css" /><link data-color-theme="light_tritanopia_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_tritanopia_high_contrast_experimental-b843cf381204.css" /><link data-color-theme="dark_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_high_contrast_experimental-5748739a6b50.css" /><link data-color-theme="dark_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_colorblind_experimental-c45cc62af0e7.css" /><link data-color-theme="dark_colorblind_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_colorblind_high_contrast_experimental-32b00a22b284.css" /><link data-color-theme="dark_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_tritanopia_experimental-dfdb41647a89.css" /><link data-color-theme="dark_tritanopia_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_tritanopia_high_contrast_experimental-66cec90757f5.css" /><link data-color-theme="dark_dimmed" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_dimmed_experimental-a537244628ca.css" /><link data-color-theme="dark_dimmed_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_dimmed_high_contrast_experimental-dc9a2a96cdc6.css" />


    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-primitives-225433424a87.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-b4bd0459f984.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-46e30a0a488d.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/github-ef14fd9f242b.css" />
  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/repository-fa462f1c51f1.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/code-177d21388df8.css" />

  


  <script type="application/json" id="client-env">{"locale":"en","featureFlags":["alternate_user_config_repo","api_insights_show_missing_data_banner","appearance_settings","billing_sku_level_budgets","client_version_header","codespaces_prebuild_region_target_update","contact_requests_implicit_opt_in","contentful_lp_flex_features","contentful_lp_footnotes","contentful_lp_form_phone_e164","copilot_chat_attach_images","copilot_chat_attach_multiple_images","copilot_chat_attachments","copilot_chat_autocomplete","copilot_chat_custom_instructions","copilot_chat_opening_thread_switch","copilot_chat_repo_custom_instructions_preview","copilot_chat_vision_in_claude","copilot_chat_wholearea_dd","copilot_custom_copilots_feature_preview","copilot_dotcom_chat_file_upload","copilot_duplicate_thread","copilot_free_to_paid_telem","copilot_ftp_settings_upgrade","copilot_ftp_upgrade_to_pro_from_models","copilot_ftp_your_copilot_settings","copilot_immersive_draft_issue_template_required","copilot_immersive_issue_creation_cta","copilot_immersive_issue_preview","copilot_new_conversation_starters","copilot_new_immersive_references_ui","copilot_no_floating_button","copilot_read_shared_conversation","copilot_share_active_subthread","copilot_showcase_icebreakers","copilot_task_oriented_assistive_prompts","copilot_topics_as_references","copilot_workbench_iterate_panel","copilot_workbench_preview_analytics","copilot_workbench_refresh_on_wsod","copilot_workbench_user_limits","custom_copilots_capi_mode","direct_to_salesforce","dnd_no_touch_device_check","dotcom_chat_client_side_skills","ghost_pilot_confidence_truncation_25","ghost_pilot_confidence_truncation_40","insert_before_patch","issues_react_blur_item_picker_on_close","issues_react_bots_timeline_pagination","issues_react_create_milestone","issues_react_include_bots_in_pickers","issues_react_prohibit_title_fallback","issues_react_remove_placeholders","lifecycle_label_name_updates","link_contact_sales_swp_marketo","marketing_pages_search_explore_provider","memex_mwl_filter_field_delimiter","memex_roadmap_drag_style","nonreporting_relay_graphql_status_codes","primer_primitives_experimental","primer_react_css_modules_ga","primer_react_select_panel_with_modern_action_list","progress_bar_delay_99","remove_child_patch","repository_suggester_elastic_search","sample_network_conn_type","sanitize_nested_mathjax_macros","site_homepage_contentful","site_msbuild_hide_integrations","site_msbuild_launch","site_msbuild_webgl_hero","spark_auth_token_endpoint","spark_commit_on_default_branch","spark_update_user_edit_status","swp_enterprise_contact_form","use_copilot_avatar","use_paginated_org_picker_cost_center_form","use_paginated_repo_picker_cost_center_form"],"login":"korolcov"}</script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/wp-runtime-ed8567247130.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js-a8c266e5f126.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-1d3d52-babac9434833.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_failbot_failbot_ts-25fbe4f052b4.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/environment-89128d48c6ff.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_primer_behaviors_dist_esm_index_mjs-c44edfed7f0d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_selector-observer_dist_index_esm_js-cdf2757bd188.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_relative-time-element_dist_index_js-5913bc24f35d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_text-expander-element_dist_index_js-e50fb7a5fe8c.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_auto-complete-element_dist_index_js-node_modules_github_catalyst_-8e9f78-c1e2fb329866.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_remote-inp-d8c643-251bc3964eb6.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_markdown-toolbar-element_dist_index_js-6a8c7d9a08fe.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_primer_view-co-cadbad-fad3eaf3c7ec.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/github-elements-a0eacac9865b.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/element-registry-d0efed5dc7c8.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec-34c4b68b1dd3.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_lit-html_lit-html_js-b93a87060d31.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_morphdom_dist_morphdom-esm_js-300e8e4e0414.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_fzy_js_index_js-node_modules_github_paste-markdown_dist_index_js-63a26702fa42.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js-595819d3686f.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-893f9f-1bcf38e06f01.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_color-convert_index_js-1a149db8dc99.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_quote-selection_dist_index_js-node_modules_github_session-resume_-c1aa61-91618cb63471.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_updatable-content_updatable-content_ts-a5daa16ae903.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_task-list_ts-app_assets_modules_github_sso_ts-ui_packages-900dde-f953ddf42948.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_sticky-scroll-into-view_ts-84e0c4a441a7.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_ajax-error_ts-app_assets_modules_github_behaviors_include-d0d0a6-a7da4270c5f4.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_commenting_edit_ts-app_assets_modules_github_behaviors_ht-83c235-567e0f340e27.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/behaviors-b02c9c945bf2.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_delegated-events_dist_index_js-node_modules_github_catalyst_lib_index_js-ea8eaa-eefe25567449.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/notifications-global-eadae94940d6.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_catalyst_lib_inde-dbbea9-558c1f223d1d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/code-menu-6d3334d79340.js" defer="defer"></script>
  
  <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/primer-react-957709c85fcc.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/react-core-577edb5c37f8.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/react-lib-8705026b409a.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/octicons-react-9fd6ca6872cc.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-b1c483-b5947865157f.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-ui_packages_react-router_node_modules_cookie_dist_index_js-node_modules_primer_live-r-4288ca-b9012d3355e6.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_dompurify_dist_purify_es_mjs-7457ebdd1a1f.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_lodash-es__Stack_js-node_modules_lodash-es__Uint8Array_js-node_modules_l-4faaa6-16c4e2c524de.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_lodash-es_isEqual_js-a0841ced23fc.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_tanstack_react-virtual_dist_esm_index_js-807aab04afeb.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_catalyst_lib_index_js-node_modules_github_hydro-analytics-client_-189aa3-aa0d1c491a18.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_fzy_js_index_js-node_mo-296806-a0e432a5dd85.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_document-metadata_document-metadata_ts-ui_packages_history_history_ts-ui_packages-417c81-00e1a3522739.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_paths_index_ts-2c6108a4a75d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_ref-selector_RefSelector_tsx-2403bac2539f.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_commit-attribution_index_ts-ui_packages_commit-checks-status_index_ts-ui_packages-762eaa-0e1369379126.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_app-uuid_app-uuid_ts-ui_packages_repos-file-tree-view_repos-file-tree-view_ts-ui_-e7c631-8808400bf5af.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_diffs_diff-parts_ts-3d204ed86299.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_hydro-analytics_hydro-analytics_ts-ui_packages_use-client-value_use-client-value_-6f712e-5abe20edbfb5.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_code-view-shared_hooks_use-canonical-object_ts-ui_packages_code-view-shared_hooks-7b64b1-b9ed65eb20ca.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_blob-anchor_ts-ui_packages_code-nav_code-nav_ts-ui_packages_filter--8253c1-5fde020dbad1.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/react-code-view-d2179f9d5494.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.c212c596cc6bbefb1798.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/react-code-view.f828e7c17d2129f3c506.module.css" />


  <title>red-builder/pve_installer/pve-1.089.sh at main · kashapovalov/red-builder</title>



  <meta name="route-pattern" content="/:user_id/:repository/blob/*name(/*path)" data-turbo-transient>
  <meta name="route-controller" content="blob" data-turbo-transient>
  <meta name="route-action" content="show" data-turbo-transient>
  <meta name="fetch-nonce" content="v2:b4fd1a7a-0002-58ff-d776-e30ace6b8b2d">

    
  <meta name="current-catalog-service-hash" content="f3abb0cc802f3d7b95fc8762b94bdcb13bf39634c40c357301c4aa1d67a256fb">


  <meta name="request-id" content="EBC0:22280C:16944F0:1780B1A:684FB542" data-turbo-transient="true" /><meta name="html-safe-nonce" content="4ebbd7b2924f74696fffced618eba87737e749bc6d235e41619e14f4bf99a0a3" data-turbo-transient="true" /><meta name="visitor-payload" content="eyJyZWZlcnJlciI6Imh0dHBzOi8vZ2l0aHViLmNvbS9rYXNoYXBvdmFsb3YvcmVkLWJ1aWxkZXIvdHJlZS9tYWluL3B2ZV9pbnN0YWxsZXIiLCJyZXF1ZXN0X2lkIjoiRUJDMDoyMjI4MEM6MTY5NDRGMDoxNzgwQjFBOjY4NEZCNTQyIiwidmlzaXRvcl9pZCI6Ijc4ODMzNTk0NDM1OTI4MDU4NjgiLCJyZWdpb25fZWRnZSI6ImZyYSIsInJlZ2lvbl9yZW5kZXIiOiJpYWQifQ==" data-turbo-transient="true" /><meta name="visitor-hmac" content="8a751f9aabca1f57762e4b2e41465bbbea3a79d12dc8d306f3af3ce8de37d366" data-turbo-transient="true" />


    <meta name="hovercard-subject-tag" content="repository:797606284" data-turbo-transient>


  <meta name="github-keyboard-shortcuts" content="repository,source-code,file-tree,copilot" data-turbo-transient="true" />
  

  <meta name="selected-link" value="repo_source" data-turbo-transient>
  <link rel="assets" href="https://github.githubassets.com/">

    <meta name="google-site-verification" content="Apib7-x98H0j5cPqHWwSMm6dNU4GmODRoqxLiDzdx9I">

<meta name="octolytics-url" content="https://collector.github.com/github/collect" /><meta name="octolytics-actor-id" content="107488339" /><meta name="octolytics-actor-login" content="korolcov" /><meta name="octolytics-actor-hash" content="8035c264d4b40493cf69b17fa41038f5ccba971665f05ebe8e46b60b13459a79" />

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-turbo-transient="true" />

  




    <meta name="user-login" content="korolcov">

  <link rel="sudo-modal" href="/sessions/sudo_modal">

    <meta name="viewport" content="width=device-width">

    

      <meta name="description" content="Contribute to kashapovalov/red-builder development by creating an account on GitHub.">

      <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">

    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <meta property="fb:app_id" content="1401488693436528">
    <meta name="apple-itunes-app" content="app-id=1477376905, app-argument=https://github.com/kashapovalov/red-builder/blob/main/pve_installer/pve-1.089.sh" />

      <meta name="twitter:image" content="https://avatars.githubusercontent.com/u/48432941?s=400&amp;v=4" /><meta name="twitter:site" content="@github" /><meta name="twitter:card" content="summary" /><meta name="twitter:title" content="red-builder/pve_installer/pve-1.089.sh at main · kashapovalov/red-builder" /><meta name="twitter:description" content="Contribute to kashapovalov/red-builder development by creating an account on GitHub." />
  <meta property="og:image" content="https://avatars.githubusercontent.com/u/48432941?s=400&amp;v=4" /><meta property="og:image:alt" content="Contribute to kashapovalov/red-builder development by creating an account on GitHub." /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="red-builder/pve_installer/pve-1.089.sh at main · kashapovalov/red-builder" /><meta property="og:url" content="https://github.com/kashapovalov/red-builder/blob/main/pve_installer/pve-1.089.sh" /><meta property="og:description" content="Contribute to kashapovalov/red-builder development by creating an account on GitHub." />
  


      <link rel="shared-web-socket" href="wss://alive.github.com/_sockets/u/107488339/ws?session=eyJ2IjoiVjMiLCJ1IjoxMDc0ODgzMzksInMiOjE2NDA5NzMyMDUsImMiOjE2NzAyMjEzODYsInQiOjE3NTAwNTQyMTN9--7bcdf2852611c5745a2912b2711a14deab891679c3cd1be2bc6f0f781b9f1ed2" data-refresh-url="/_alive" data-session-id="40e5a8a137f1f834b4ec25a676b3b9ed28641fc1161203b2d7dde8defe62e676">
      <link rel="shared-web-socket-src" href="/assets-cdn/worker/socket-worker-719e0337f526.js">


      <meta name="hostname" content="github.com">


      <meta name="keyboard-shortcuts-preference" content="all">
      <meta name="hovercards-preference" content="true">
      <meta name="announcement-preference-hovercard" content="true">

        <meta name="expected-hostname" content="github.com">


  <meta http-equiv="x-pjax-version" content="4671293dff3f592e3319b65c7fc797aee10efa385d74a64706a830a5d5848b90" data-turbo-track="reload">
  <meta http-equiv="x-pjax-csp-version" content="352e51c42d5f5727a7c545752bf34d1f83f40219e7036c6959817149a51651bc" data-turbo-track="reload">
  <meta http-equiv="x-pjax-css-version" content="4e8d942c1e58aee61c7c4c8c9889c1c76351814c062c507d76d301fb8bcb7735" data-turbo-track="reload">
  <meta http-equiv="x-pjax-js-version" content="42da424b19d541f486772b732f7df5c31a35a38b9cc22cb9806f986ba9ba67e0" data-turbo-track="reload">

  <meta name="turbo-cache-control" content="no-preview" data-turbo-transient="">

      <meta name="turbo-cache-control" content="no-cache" data-turbo-transient>

    <meta data-hydrostats="publish">
  <meta name="go-import" content="github.com/kashapovalov/red-builder git https://github.com/kashapovalov/red-builder.git">

  <meta name="octolytics-dimension-user_id" content="48432941" /><meta name="octolytics-dimension-user_login" content="kashapovalov" /><meta name="octolytics-dimension-repository_id" content="797606284" /><meta name="octolytics-dimension-repository_nwo" content="kashapovalov/red-builder" /><meta name="octolytics-dimension-repository_public" content="false" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="797606284" /><meta name="octolytics-dimension-repository_network_root_nwo" content="kashapovalov/red-builder" />



    

    <meta name="turbo-body-classes" content="logged-in env-production page-responsive">


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <meta name="release" content="8c2b97e8f0893f1d84b25ff48135c4d40da109b5">

  <link rel="mask-icon" href="https://github.githubassets.com/assets/pinned-octocat-093da3e6fa40.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg" data-base-href="https://github.githubassets.com/favicons/favicon">

<meta name="theme-color" content="#1e2327">
<meta name="color-scheme" content="light dark" />


  <link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-in env-production page-responsive" style="word-wrap: break-word;">
    <div data-turbo-body class="logged-in env-production page-responsive" style="word-wrap: break-word;">
      



    <div class="position-relative header-wrapper js-header-wrapper ">
      <a href="#start-of-content" data-skip-target-assigned="false" class="p-3 color-bg-accent-emphasis color-fg-on-emphasis show-on-focus js-skip-to-content">Skip to content</a>

      <span data-view-component="true" class="progress-pjax-loader Progress position-fixed width-full">
    <span style="width: 0%;" data-view-component="true" class="Progress-item progress-pjax-loader-bar left-0 top-0 color-bg-accent-emphasis"></span>
</span>      
      
      <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_ui-commands_ui-commands_ts-eb77c4447210.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/keyboard-shortcuts-dialog-693d9bb9de03.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.c212c596cc6bbefb1798.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/keyboard-shortcuts-dialog.47de85e2c17af43cefd5.module.css" />

<react-partial
  partial-name="keyboard-shortcuts-dialog"
  data-ssr="false"
  data-attempted-ssr="false"
  data-react-profiling="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"docsUrl":"https://docs.github.com/get-started/accessibility/keyboard-shortcuts"}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>




      

          

              <header class="AppHeader" role="banner">
  <h2 class="sr-only">Navigation Menu</h2>


    

    <div class="AppHeader-globalBar pb-2 js-global-bar">
      <div class="AppHeader-globalBar-start responsive-context-region">
        <div class="">
            <deferred-side-panel data-url="/_side-panels/global">
  <include-fragment data-target="deferred-side-panel.fragment" data-nonce="v2:b4fd1a7a-0002-58ff-d776-e30ace6b8b2d" data-view-component="true">
  
      <button aria-label="Open global navigation menu" data-action="click:deferred-side-panel#loadPanel click:deferred-side-panel#panelOpened" data-show-dialog-id="dialog-f8b48813-9e8e-41e2-9955-cc833175a55d" id="dialog-show-dialog-f8b48813-9e8e-41e2-9955-cc833175a55d" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button p-0 color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-three-bars Button-visual">
    <path d="M1 2.75A.75.75 0 0 1 1.75 2h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 2.75Zm0 5A.75.75 0 0 1 1.75 7h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 7.75ZM1.75 12h12.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Z"></path>
</svg>
</button>

<dialog-helper>
  <dialog data-target="deferred-side-panel.panel" id="dialog-f8b48813-9e8e-41e2-9955-cc833175a55d" aria-modal="true" aria-labelledby="dialog-f8b48813-9e8e-41e2-9955-cc833175a55d-title" aria-describedby="dialog-f8b48813-9e8e-41e2-9955-cc833175a55d-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-small-portrait Overlay--motion-scaleFade Overlay--placement-left SidePanel Overlay--disableScroll">
    <div styles="flex-direction: row;" data-view-component="true" class="Overlay-header">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title sr-only" id="dialog-f8b48813-9e8e-41e2-9955-cc833175a55d-title">
        Global navigation
      </h1>
            <div data-view-component="true" class="d-flex">
      <div data-view-component="true" class="AppHeader-logo position-relative">
        <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-mark-github">
    <path d="M12 1C5.9225 1 1 5.9225 1 12C1 16.8675 4.14875 20.9787 8.52125 22.4362C9.07125 22.5325 9.2775 22.2025 9.2775 21.9137C9.2775 21.6525 9.26375 20.7862 9.26375 19.865C6.5 20.3737 5.785 19.1912 5.565 18.5725C5.44125 18.2562 4.905 17.28 4.4375 17.0187C4.0525 16.8125 3.5025 16.3037 4.42375 16.29C5.29 16.2762 5.90875 17.0875 6.115 17.4175C7.105 19.0812 8.68625 18.6137 9.31875 18.325C9.415 17.61 9.70375 17.1287 10.02 16.8537C7.5725 16.5787 5.015 15.63 5.015 11.4225C5.015 10.2262 5.44125 9.23625 6.1425 8.46625C6.0325 8.19125 5.6475 7.06375 6.2525 5.55125C6.2525 5.55125 7.17375 5.2625 9.2775 6.67875C10.1575 6.43125 11.0925 6.3075 12.0275 6.3075C12.9625 6.3075 13.8975 6.43125 14.7775 6.67875C16.8813 5.24875 17.8025 5.55125 17.8025 5.55125C18.4075 7.06375 18.0225 8.19125 17.9125 8.46625C18.6138 9.23625 19.04 10.2125 19.04 11.4225C19.04 15.6437 16.4688 16.5787 14.0213 16.8537C14.42 17.1975 14.7638 17.8575 14.7638 18.8887C14.7638 20.36 14.75 21.5425 14.75 21.9137C14.75 22.2025 14.9563 22.5462 15.5063 22.4362C19.8513 20.9787 23 16.8537 23 12C23 5.9225 18.0775 1 12 1Z"></path>
</svg>
</div></div>
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="dialog-f8b48813-9e8e-41e2-9955-cc833175a55d" aria-label="Close" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="dialog-f8b48813-9e8e-41e2-9955-cc833175a55d-title">
        <div data-view-component="true" class="Overlay-body d-flex flex-column px-2">    <div data-view-component="true" class="d-flex flex-column mb-3">
        <nav aria-label="Site navigation" data-view-component="true" class="ActionList">
  
  <nav-list>
    <ul data-target="nav-list.topLevelList" data-view-component="true" class="ActionListWrap">
        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-hotkey="g d" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;HOME&quot;,&quot;label&quot;:null}" id="item-a321e1eb-9446-4d44-91ff-9e69c6af0168" href="/dashboard" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-home">
    <path d="M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Home
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-hotkey="g i" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;ISSUES&quot;,&quot;label&quot;:null}" id="item-1d01afa5-d913-4db5-a21b-0d82dc56ca6a" href="/issues" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Issues
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-hotkey="g p" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;PULL_REQUESTS&quot;,&quot;label&quot;:null}" id="item-fcfe45fa-e134-4217-9738-0640b8430b90" href="/pulls" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Pull requests
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-item-id="projects" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;PROJECTS&quot;,&quot;label&quot;:null}" id="item-8ffe839e-ff82-4377-bbc2-6ac47dee8fef" href="/projects" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-table">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Projects
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;DISCUSSIONS&quot;,&quot;label&quot;:null}" id="item-5028fcf7-e6f3-4063-9320-082a24a2cb4a" href="/discussions" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Discussions
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;CODESPACES&quot;,&quot;label&quot;:null}" id="item-3add4bc3-19e7-4c5f-98da-8c9f92c3ea70" href="https://github.com/codespaces" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-codespaces">
    <path d="M0 11.25c0-.966.784-1.75 1.75-1.75h12.5c.966 0 1.75.784 1.75 1.75v3A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm2-9.5C2 .784 2.784 0 3.75 0h8.5C13.216 0 14 .784 14 1.75v5a1.75 1.75 0 0 1-1.75 1.75h-8.5A1.75 1.75 0 0 1 2 6.75Zm1.75-.25a.25.25 0 0 0-.25.25v5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-5a.25.25 0 0 0-.25-.25Zm-2 9.5a.25.25 0 0 0-.25.25v3c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-3a.25.25 0 0 0-.25-.25Z"></path><path d="M7 12.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Zm-4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Codespaces
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;COPILOT&quot;,&quot;label&quot;:null}" id="item-3ab3643a-e076-4942-981d-f34da189556f" href="/copilot" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot">
    <path d="M7.998 15.035c-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.201-.508-.254-1.084-.254-1.656 0-.87.128-1.769.693-2.484.579-.733 1.494-1.124 2.724-1.261 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095v1.872c0 .766-3.351 3.795-8.002 3.795Zm0-1.485c2.28 0 4.584-1.11 5.002-1.433V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-1.146 0-2.059-.327-2.71-.991A3.222 3.222 0 0 1 8 6.303a3.24 3.24 0 0 1-.544.743c-.65.664-1.563.991-2.71.991-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433ZM6.762 2.83c-.193-.206-.637-.413-1.682-.297-1.019.113-1.479.404-1.713.7-.247.312-.369.789-.369 1.554 0 .793.129 1.171.308 1.371.162.181.519.379 1.442.379.853 0 1.339-.235 1.638-.54.315-.322.527-.827.617-1.553.117-.935-.037-1.395-.241-1.614Zm4.155-.297c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Z"></path><path d="M6.25 9.037a.75.75 0 0 1 .75.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 .75-.75Zm4.25.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 1.5 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Copilot
</span>      
</a>
  
</li>

        
          <li role="presentation" aria-hidden="true" data-view-component="true" class="ActionList-sectionDivider"></li>
        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;EXPLORE&quot;,&quot;label&quot;:null}" id="item-fe8c8f3e-d9d8-4e08-b607-ee418a38ec85" href="/explore" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-telescope">
    <path d="M14.184 1.143v-.001l1.422 2.464a1.75 1.75 0 0 1-.757 2.451L3.104 11.713a1.75 1.75 0 0 1-2.275-.702l-.447-.775a1.75 1.75 0 0 1 .53-2.32L11.682.573a1.748 1.748 0 0 1 2.502.57Zm-4.709 9.32h-.001l2.644 3.863a.75.75 0 1 1-1.238.848l-1.881-2.75v2.826a.75.75 0 0 1-1.5 0v-2.826l-1.881 2.75a.75.75 0 1 1-1.238-.848l2.049-2.992a.746.746 0 0 1 .293-.253l1.809-.87a.749.749 0 0 1 .944.252ZM9.436 3.92h-.001l-4.97 3.39.942 1.63 5.42-2.61Zm3.091-2.108h.001l-1.85 1.26 1.505 2.605 2.016-.97a.247.247 0 0 0 .13-.151.247.247 0 0 0-.022-.199l-1.422-2.464a.253.253 0 0 0-.161-.119.254.254 0 0 0-.197.038ZM1.756 9.157a.25.25 0 0 0-.075.33l.447.775a.25.25 0 0 0 .325.1l1.598-.769-.83-1.436-1.465 1Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Explore
</span>      
</a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;MARKETPLACE&quot;,&quot;label&quot;:null}" id="item-98cfa62f-56b8-481a-851d-0a56178d24ca" href="/marketplace" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-gift">
    <path d="M2 2.75A2.75 2.75 0 0 1 4.75 0c.983 0 1.873.42 2.57 1.232.268.318.497.668.68 1.042.183-.375.411-.725.68-1.044C9.376.42 10.266 0 11.25 0a2.75 2.75 0 0 1 2.45 4h.55c.966 0 1.75.784 1.75 1.75v2c0 .698-.409 1.301-1 1.582v4.918A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V9.332C.409 9.05 0 8.448 0 7.75v-2C0 4.784.784 4 1.75 4h.55c-.192-.375-.3-.8-.3-1.25ZM7.25 9.5H2.5v4.75c0 .138.112.25.25.25h4.5Zm1.5 0v5h4.5a.25.25 0 0 0 .25-.25V9.5Zm0-4V8h5.5a.25.25 0 0 0 .25-.25v-2a.25.25 0 0 0-.25-.25Zm-7 0a.25.25 0 0 0-.25.25v2c0 .138.112.25.25.25h5.5V5.5h-5.5Zm3-4a1.25 1.25 0 0 0 0 2.5h2.309c-.233-.818-.542-1.401-.878-1.793-.43-.502-.915-.707-1.431-.707ZM8.941 4h2.309a1.25 1.25 0 0 0 0-2.5c-.516 0-1 .205-1.43.707-.337.392-.646.975-.879 1.793Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Marketplace
</span>      
</a>
  
</li>

</ul>  </nav-list>
</nav>

        <div data-view-component="true" class="my-3 d-flex flex-justify-center height-full">
          <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>    <span class="sr-only">Loading</span>
</span>
</div>
</div>
      <div data-view-component="true" class="flex-1"></div>


      <div data-view-component="true" class="px-2">      <p class="color-fg-subtle text-small text-light">&copy; 2025 GitHub, Inc.</p>

      <div data-view-component="true" class="d-flex flex-wrap text-small text-light">
          <a target="_blank" href="https://github.com/about" data-view-component="true" class="Link mr-2">About</a>
          <a target="_blank" href="https://github.blog" data-view-component="true" class="Link mr-2">Blog</a>
          <a target="_blank" href="https://docs.github.com/site-policy/github-terms/github-terms-of-service" data-view-component="true" class="Link mr-2">Terms</a>
          <a target="_blank" href="https://docs.github.com/site-policy/privacy-policies/github-privacy-statement" data-view-component="true" class="Link mr-2">Privacy</a>
          <a target="_blank" href="https://github.com/security" data-view-component="true" class="Link mr-2">Security</a>
          <a target="_blank" href="https://www.githubstatus.com/" data-view-component="true" class="Link mr-3">Status</a>

</div></div>
</div>
      </scrollable-region>
      
</dialog></dialog-helper>


  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">
      

      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment></deferred-side-panel>
        </div>

        <a class="AppHeader-logo ml-1 "
          href="https://github.com/"
          data-hotkey="g d"
          aria-label="Homepage "
          data-turbo="false"
          data-analytics-event="{&quot;category&quot;:&quot;Header&quot;,&quot;action&quot;:&quot;go to dashboard&quot;,&quot;label&quot;:&quot;icon:logo&quot;}"
        >
          <svg height="32" aria-hidden="true" viewBox="0 0 24 24" version="1.1" width="32" data-view-component="true" class="octicon octicon-mark-github v-align-middle">
    <path d="M12 1C5.9225 1 1 5.9225 1 12C1 16.8675 4.14875 20.9787 8.52125 22.4362C9.07125 22.5325 9.2775 22.2025 9.2775 21.9137C9.2775 21.6525 9.26375 20.7862 9.26375 19.865C6.5 20.3737 5.785 19.1912 5.565 18.5725C5.44125 18.2562 4.905 17.28 4.4375 17.0187C4.0525 16.8125 3.5025 16.3037 4.42375 16.29C5.29 16.2762 5.90875 17.0875 6.115 17.4175C7.105 19.0812 8.68625 18.6137 9.31875 18.325C9.415 17.61 9.70375 17.1287 10.02 16.8537C7.5725 16.5787 5.015 15.63 5.015 11.4225C5.015 10.2262 5.44125 9.23625 6.1425 8.46625C6.0325 8.19125 5.6475 7.06375 6.2525 5.55125C6.2525 5.55125 7.17375 5.2625 9.2775 6.67875C10.1575 6.43125 11.0925 6.3075 12.0275 6.3075C12.9625 6.3075 13.8975 6.43125 14.7775 6.67875C16.8813 5.24875 17.8025 5.55125 17.8025 5.55125C18.4075 7.06375 18.0225 8.19125 17.9125 8.46625C18.6138 9.23625 19.04 10.2125 19.04 11.4225C19.04 15.6437 16.4688 16.5787 14.0213 16.8537C14.42 17.1975 14.7638 17.8575 14.7638 18.8887C14.7638 20.36 14.75 21.5425 14.75 21.9137C14.75 22.2025 14.9563 22.5462 15.5063 22.4362C19.8513 20.9787 23 16.8537 23 12C23 5.9225 18.0775 1 12 1Z"></path>
</svg>
        </a>

          <context-region-controller
  class="AppHeader-context responsive-context-region"
  data-is-responsive
  data-max-items=5
  
>

  <div class="AppHeader-context-full">
    <nav role="navigation" aria-label="GitHub Breadcrumb">
        
<context-region data-target="context-region-controller.contextRegion" role="list"  data-action="context-region-changed:context-region-controller#crumbsChanged" data-is-responsive>
    <context-region-crumb
      data-crumb-id="contextregion-usercrumb-kashapovalov"
      data-targets="context-region.crumbs"
      data-label="kashapovalov"
      data-href="/kashapovalov"
      data-pre-rendered
      data-is-responsive
      role="listitem"
      
    >
      <a data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_crumb&quot;,&quot;label&quot;:&quot;kashapovalov&quot;,&quot;screen_size&quot;:&quot;full&quot;}" data-hovercard-type="user" data-hovercard-url="/users/kashapovalov/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" data-target="context-region-crumb.linkElement" href="/kashapovalov" id="contextregion-usercrumb-kashapovalov-link" data-view-component="true" class="AppHeader-context-item">
        <span data-target="context-region-crumb.labelElement" class="AppHeader-context-item-label ">
          kashapovalov
        </span>

</a>
      <context-region-divider data-target="context-region-crumb.dividerElement" data-pre-rendered >
  <span class="AppHeader-context-item-separator">
    <span class="sr-only">/</span>
    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M10.956 1.27994L6.06418 14.7201L5 14.7201L9.89181 1.27994L10.956 1.27994Z" fill="currentcolor" />
    </svg>
  </span>
</context-region-divider>

    </context-region-crumb>

      <li data-target="context-region-controller.overflowMenuContainer context-region.overflowMenuContainer" role="listitem" hidden>
        <action-menu data-target="context-region-controller.overflowActionMenu" data-select-variant="none" data-view-component="true">
  <focus-group direction="vertical" mnemonics retain>
    <button id="action-menu-70dd8dcd-2f2b-4e55-aade-30f03586f4f0-button" popovertarget="action-menu-70dd8dcd-2f2b-4e55-aade-30f03586f4f0-overlay" aria-controls="action-menu-70dd8dcd-2f2b-4e55-aade-30f03586f4f0-list" aria-haspopup="true" aria-labelledby="tooltip-07542244-54d2-43ee-88d0-e1908f42a3a5" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal Button-visual">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg>
</button><tool-tip id="tooltip-07542244-54d2-43ee-88d0-e1908f42a3a5" for="action-menu-70dd8dcd-2f2b-4e55-aade-30f03586f4f0-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Show more breadcrumb items</tool-tip>


<anchored-position data-target="action-menu.overlay" id="action-menu-70dd8dcd-2f2b-4e55-aade-30f03586f4f0-overlay" anchor="action-menu-70dd8dcd-2f2b-4e55-aade-30f03586f4f0-button" align="start" side="outside-bottom" anchor-offset="normal" popover="auto" data-view-component="true">
  <div data-view-component="true" class="Overlay Overlay--size-auto">
    
      <div data-view-component="true" class="Overlay-body Overlay-body--paddingNone">          <action-list>
  <div data-view-component="true">
    <ul aria-labelledby="action-menu-70dd8dcd-2f2b-4e55-aade-30f03586f4f0-button" id="action-menu-70dd8dcd-2f2b-4e55-aade-30f03586f4f0-list" role="menu" data-view-component="true" class="ActionListWrap--inset ActionListWrap">
        <li hidden="hidden" data-crumb-id="contextregion-usercrumb-kashapovalov" data-targets="context-region.overflowCrumbs action-list.items" data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_overflow_menu_crumb&quot;,&quot;label&quot;:&quot;global-navigation&quot;}" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-20216fb6-0fe2-4ca7-923c-0dd32e450d0b" href="/kashapovalov" role="menuitem" data-view-component="true" class="ActionListContent">
      
        <span data-view-component="true" class="ActionListItem-label">
          kashapovalov
</span>      
</a>
  
</li>
        <li hidden="hidden" data-crumb-id="contextregion-repositorycrumb-red-builder" data-targets="context-region.overflowCrumbs action-list.items" data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_overflow_menu_crumb&quot;,&quot;label&quot;:&quot;global-navigation&quot;}" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-2464759e-29c1-4b05-aeaf-e757432e8282" href="/kashapovalov/red-builder" role="menuitem" data-view-component="true" class="ActionListContent">
      
        <span data-view-component="true" class="ActionListItem-label">
          red-builder
</span>      
</a>
  
</li>
</ul>    
</div></action-list>


</div>
      
</div></anchored-position>  </focus-group>
</action-menu>
  <context-region-divider data-target="context-region-crumb.dividerElement" data-pre-rendered >
  <span class="AppHeader-context-item-separator">
    <span class="sr-only">/</span>
    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M10.956 1.27994L6.06418 14.7201L5 14.7201L9.89181 1.27994L10.956 1.27994Z" fill="currentcolor" />
    </svg>
  </span>
</context-region-divider>


      </li>
    <context-region-crumb
      data-crumb-id="contextregion-repositorycrumb-red-builder"
      data-targets="context-region.crumbs"
      data-label="red-builder"
      data-href="/kashapovalov/red-builder"
      data-pre-rendered
      data-is-responsive
      role="listitem"
      
    >
      <a data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_crumb&quot;,&quot;label&quot;:&quot;red-builder&quot;,&quot;screen_size&quot;:&quot;full&quot;}" data-target="context-region-crumb.linkElement" href="/kashapovalov/red-builder" id="contextregion-repositorycrumb-red-builder-link" data-view-component="true" class="AppHeader-context-item">
        <span data-target="context-region-crumb.labelElement" class="AppHeader-context-item-label ">
          red-builder
        </span>

          <svg data-target="context-region-crumb.trailingIcon" aria-hidden="true" height="12" viewBox="0 0 16 16" version="1.1" width="12" data-view-component="true" class="octicon octicon-lock ml-1">
    <path d="M4 4a4 4 0 0 1 8 0v2h.25c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 12.25 15h-8.5A1.75 1.75 0 0 1 2 13.25v-5.5C2 6.784 2.784 6 3.75 6H4Zm8.25 3.5h-8.5a.25.25 0 0 0-.25.25v5.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25ZM10.5 6V4a2.5 2.5 0 1 0-5 0v2Z"></path>
</svg>
</a>
      <context-region-divider data-target="context-region-crumb.dividerElement" data-pre-rendered >
  <span class="AppHeader-context-item-separator">
    <span class="sr-only">/</span>
    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M10.956 1.27994L6.06418 14.7201L5 14.7201L9.89181 1.27994L10.956 1.27994Z" fill="currentcolor" />
    </svg>
  </span>
</context-region-divider>

    </context-region-crumb>

</context-region>

    </nav>
  </div>
</context-region-controller>

      </div>
      <div class="AppHeader-globalBar-end">
          <div class="AppHeader-search" >
              


<qbsearch-input class="search-input" data-scope="repo:kashapovalov/red-builder" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="JnleSJz1mELe8keItHsI5v2Xs9Cu7iYOERijMApE4SpPHOi49GyLAsc0_S2-ePHGwyIDZWkKyedfEbdHG4ziEw" data-max-custom-scopes="10" data-header-redesign-enabled="true" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="kashapovalov/red-builder" data-current-org="" data-current-owner="kashapovalov" data-logged-in="true" data-copilot-chat-enabled="false" data-nl-search-enabled="false">
  <div
    class="search-input-container search-with-dialog position-relative d-flex flex-row flex-items-center height-auto color-bg-transparent border-0 color-fg-subtle mx-0"
    data-action="click:qbsearch-input#searchInputContainerClicked"
  >
      
            <button type="button" data-action="click:qbsearch-input#handleExpand" class="AppHeader-button AppHeader-search-whenNarrow" aria-label="Search or jump to…" aria-expanded="false" aria-haspopup="dialog">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
          </button>


<div class="AppHeader-search-whenRegular">
  <div class="AppHeader-search-wrap AppHeader-search-wrap--hasTrailing">
    <div class="AppHeader-search-control AppHeader-search-control-overflow">
      <label
        for="AppHeader-searchInput"
        aria-label="Search or jump to…"
        class="AppHeader-search-visual--leading"
      >
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
      </label>

                <button
            type="button"
            data-target="qbsearch-input.inputButton"
            data-action="click:qbsearch-input#handleExpand"
            class="AppHeader-searchButton form-control input-contrast text-left color-fg-subtle no-wrap"
            data-hotkey="s,/"
            data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;searchbar&quot;,&quot;context&quot;:&quot;global&quot;,&quot;tag&quot;:&quot;input&quot;,&quot;label&quot;:&quot;searchbar_input_global_navbar&quot;}"
            aria-describedby="search-error-message-flash"
          >
            <div class="overflow-hidden">
              <span id="qb-input-query" data-target="qbsearch-input.inputButtonText">
                  Type <kbd class="AppHeader-search-kbd">/</kbd> to search
              </span>
            </div>
          </button>

    </div>


  </div>
</div>

    <input type="hidden" name="type" class="js-site-search-type-field">

    
<div class="Overlay--hidden " data-modal-dialog-overlay>
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true" class="Overlay Overlay--width-medium Overlay--height-auto">
      <h1 id="search-suggestions-dialog-header" class="sr-only">Search code, repositories, users, issues, pull requests...</h1>
    <div class="Overlay-body Overlay-body--paddingNone">
      
          <div data-view-component="true">        <div class="search-suggestions position-absolute width-full color-shadow-large border color-fg-default color-bg-default overflow-hidden d-flex flex-column query-builder-container"
          style="border-radius: 12px;"
          data-target="qbsearch-input.queryBuilderContainer"
          hidden
        >
          <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="query-builder-test-form" action="" accept-charset="UTF-8" method="get">
  <query-builder data-target="qbsearch-input.queryBuilder" id="query-builder-query-builder-test" data-filter-key=":" data-view-component="true" class="QueryBuilder search-query-builder">
    <div class="FormControl FormControl--fullWidth">
      <label id="query-builder-test-label" for="query-builder-test" class="FormControl-label sr-only">
        Search
      </label>
      <div
        class="QueryBuilder-StyledInput width-fit "
        data-target="query-builder.styledInput"
      >
          <span id="query-builder-test-leadingvisual-wrap" class="FormControl-input-leadingVisualWrap QueryBuilder-leadingVisualWrap">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search FormControl-input-leadingVisual">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
          </span>
        <div data-target="query-builder.styledInputContainer" class="QueryBuilder-StyledInputContainer">
          <div
            aria-hidden="true"
            class="QueryBuilder-StyledInputContent"
            data-target="query-builder.styledInputContent"
          ></div>
          <div class="QueryBuilder-InputWrapper">
            <div aria-hidden="true" class="QueryBuilder-Sizer" data-target="query-builder.sizer"></div>
            <input id="query-builder-test" name="query-builder-test" value="" autocomplete="off" type="text" role="combobox" spellcheck="false" aria-expanded="false" aria-describedby="validation-e9098a40-f9f9-4e2a-a538-c73508635146" data-target="query-builder.input" data-action="
          input:query-builder#inputChange
          blur:query-builder#inputBlur
          keydown:query-builder#inputKeydown
          focus:query-builder#inputFocus
        " data-view-component="true" class="FormControl-input QueryBuilder-Input FormControl-medium" />
          </div>
        </div>
          <span class="sr-only" id="query-builder-test-clear">Clear</span>
          <button role="button" id="query-builder-test-clear-button" aria-labelledby="query-builder-test-clear query-builder-test-label" data-target="query-builder.clearButton" data-action="
                click:query-builder#clear
                focus:query-builder#clearButtonFocus
                blur:query-builder#clearButtonBlur
              " variant="small" hidden="hidden" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium mr-1 px-2 py-0 d-flex flex-items-center rounded-1 color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x-circle-fill Button-visual">
    <path d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path>
</svg>
</button>

      </div>
      <template id="search-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
</template>

<template id="code-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</template>

<template id="file-code-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-file-code">
    <path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06ZM3.28 7.78 1.81 9.25l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Zm8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path>
</svg>
</template>

<template id="history-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-history">
    <path d="m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z"></path>
</svg>
</template>

<template id="repo-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo">
    <path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"></path>
</svg>
</template>

<template id="bookmark-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bookmark">
    <path d="M3 2.75C3 1.784 3.784 1 4.75 1h6.5c.966 0 1.75.784 1.75 1.75v11.5a.75.75 0 0 1-1.227.579L8 11.722l-3.773 3.107A.751.751 0 0 1 3 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.91l3.023-2.489a.75.75 0 0 1 .954 0l3.023 2.49V2.75a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="plus-circle-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-plus-circle">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7.25-3.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</template>

<template id="circle-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-dot-fill">
    <path d="M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"></path>
</svg>
</template>

<template id="trash-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-trash">
    <path d="M11 1.75V3h2.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75ZM4.496 6.675l.66 6.6a.25.25 0 0 0 .249.225h5.19a.25.25 0 0 0 .249-.225l.66-6.6a.75.75 0 0 1 1.492.149l-.66 6.6A1.748 1.748 0 0 1 10.595 15h-5.19a1.75 1.75 0 0 1-1.741-1.575l-.66-6.6a.75.75 0 1 1 1.492-.15ZM6.5 1.75V3h3V1.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25Z"></path>
</svg>
</template>

<template id="team-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-people">
    <path d="M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"></path>
</svg>
</template>

<template id="project-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-project">
    <path d="M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z"></path>
</svg>
</template>

<template id="pencil-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-pencil">
    <path d="M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Zm.176 4.823L9.75 4.81l-6.286 6.287a.253.253 0 0 0-.064.108l-.558 1.953 1.953-.558a.253.253 0 0 0 .108-.064Zm1.238-3.763a.25.25 0 0 0-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 0 0 0-.354Z"></path>
</svg>
</template>

<template id="copilot-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot">
    <path d="M7.998 15.035c-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.201-.508-.254-1.084-.254-1.656 0-.87.128-1.769.693-2.484.579-.733 1.494-1.124 2.724-1.261 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095v1.872c0 .766-3.351 3.795-8.002 3.795Zm0-1.485c2.28 0 4.584-1.11 5.002-1.433V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-1.146 0-2.059-.327-2.71-.991A3.222 3.222 0 0 1 8 6.303a3.24 3.24 0 0 1-.544.743c-.65.664-1.563.991-2.71.991-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433ZM6.762 2.83c-.193-.206-.637-.413-1.682-.297-1.019.113-1.479.404-1.713.7-.247.312-.369.789-.369 1.554 0 .793.129 1.171.308 1.371.162.181.519.379 1.442.379.853 0 1.339-.235 1.638-.54.315-.322.527-.827.617-1.553.117-.935-.037-1.395-.241-1.614Zm4.155-.297c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Z"></path><path d="M6.25 9.037a.75.75 0 0 1 .75.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 .75-.75Zm4.25.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</template>

<template id="copilot-error-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot-error">
    <path d="M16 11.24c0 .112-.072.274-.21.467L13 9.688V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-.198 0-.388-.009-.571-.029L6.833 5.226a4.01 4.01 0 0 0 .17-.782c.117-.935-.037-1.395-.241-1.614-.193-.206-.637-.413-1.682-.297-.683.076-1.115.231-1.395.415l-1.257-.91c.579-.564 1.413-.877 2.485-.996 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095Zm-5.083-8.707c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Zm2.511 11.074c-1.393.776-3.272 1.428-5.43 1.428-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.18-.455-.241-.963-.252-1.475L.31 4.107A.747.747 0 0 1 0 3.509V3.49a.748.748 0 0 1 .625-.73c.156-.026.306.047.435.139l14.667 10.578a.592.592 0 0 1 .227.264.752.752 0 0 1 .046.249v.022a.75.75 0 0 1-1.19.596Zm-1.367-.991L5.635 7.964a5.128 5.128 0 0 1-.889.073c-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433 1.539 0 3.089-.505 4.063-.934Z"></path>
</svg>
</template>

<template id="workflow-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-workflow">
    <path d="M0 1.75C0 .784.784 0 1.75 0h3.5C6.216 0 7 .784 7 1.75v3.5A1.75 1.75 0 0 1 5.25 7H4v4a1 1 0 0 0 1 1h4v-1.25C9 9.784 9.784 9 10.75 9h3.5c.966 0 1.75.784 1.75 1.75v3.5A1.75 1.75 0 0 1 14.25 16h-3.5A1.75 1.75 0 0 1 9 14.25v-.75H5A2.5 2.5 0 0 1 2.5 11V7h-.75A1.75 1.75 0 0 1 0 5.25Zm1.75-.25a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Zm9 9a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="book-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-book">
    <path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path>
</svg>
</template>

<template id="code-review-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code-review">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 13H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25v-8.5C0 1.784.784 1 1.75 1ZM1.5 2.75v8.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm5.28 1.72a.75.75 0 0 1 0 1.06L5.31 7l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.06 0Zm2.44 0a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L10.69 7 9.22 5.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</template>

<template id="codespaces-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-codespaces">
    <path d="M0 11.25c0-.966.784-1.75 1.75-1.75h12.5c.966 0 1.75.784 1.75 1.75v3A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm2-9.5C2 .784 2.784 0 3.75 0h8.5C13.216 0 14 .784 14 1.75v5a1.75 1.75 0 0 1-1.75 1.75h-8.5A1.75 1.75 0 0 1 2 6.75Zm1.75-.25a.25.25 0 0 0-.25.25v5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-5a.25.25 0 0 0-.25-.25Zm-2 9.5a.25.25 0 0 0-.25.25v3c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-3a.25.25 0 0 0-.25-.25Z"></path><path d="M7 12.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Zm-4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75Z"></path>
</svg>
</template>

<template id="comment-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment">
    <path d="M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 13.25 12H9.06l-2.573 2.573A1.458 1.458 0 0 1 4 13.543V12H2.75A1.75 1.75 0 0 1 1 10.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h4.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="comment-discussion-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
</template>

<template id="organization-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-organization">
    <path d="M1.75 16A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0h8.5C11.216 0 12 .784 12 1.75v12.5c0 .085-.006.168-.018.25h2.268a.25.25 0 0 0 .25-.25V8.285a.25.25 0 0 0-.111-.208l-1.055-.703a.749.749 0 1 1 .832-1.248l1.055.703c.487.325.779.871.779 1.456v5.965A1.75 1.75 0 0 1 14.25 16h-3.5a.766.766 0 0 1-.197-.026c-.099.017-.2.026-.303.026h-3a.75.75 0 0 1-.75-.75V14h-1v1.25a.75.75 0 0 1-.75.75Zm-.25-1.75c0 .138.112.25.25.25H4v-1.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 .75.75v1.25h2.25a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM3.75 6h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 3.75A.75.75 0 0 1 3.75 3h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 3.75Zm4 3A.75.75 0 0 1 7.75 6h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 7 6.75ZM7.75 3h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 9.75A.75.75 0 0 1 3.75 9h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 9.75ZM7.75 9h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"></path>
</svg>
</template>

<template id="rocket-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-rocket">
    <path d="M14.064 0h.186C15.216 0 16 .784 16 1.75v.186a8.752 8.752 0 0 1-2.564 6.186l-.458.459c-.314.314-.641.616-.979.904v3.207c0 .608-.315 1.172-.833 1.49l-2.774 1.707a.749.749 0 0 1-1.11-.418l-.954-3.102a1.214 1.214 0 0 1-.145-.125L3.754 9.816a1.218 1.218 0 0 1-.124-.145L.528 8.717a.749.749 0 0 1-.418-1.11l1.71-2.774A1.748 1.748 0 0 1 3.31 4h3.204c.288-.338.59-.665.904-.979l.459-.458A8.749 8.749 0 0 1 14.064 0ZM8.938 3.623h-.002l-.458.458c-.76.76-1.437 1.598-2.02 2.5l-1.5 2.317 2.143 2.143 2.317-1.5c.902-.583 1.74-1.26 2.499-2.02l.459-.458a7.25 7.25 0 0 0 2.123-5.127V1.75a.25.25 0 0 0-.25-.25h-.186a7.249 7.249 0 0 0-5.125 2.123ZM3.56 14.56c-.732.732-2.334 1.045-3.005 1.148a.234.234 0 0 1-.201-.064.234.234 0 0 1-.064-.201c.103-.671.416-2.273 1.15-3.003a1.502 1.502 0 1 1 2.12 2.12Zm6.94-3.935c-.088.06-.177.118-.266.175l-2.35 1.521.548 1.783 1.949-1.2a.25.25 0 0 0 .119-.213ZM3.678 8.116 5.2 5.766c.058-.09.117-.178.176-.266H3.309a.25.25 0 0 0-.213.119l-1.2 1.95ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
</template>

<template id="shield-check-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield-check">
    <path d="m8.533.133 5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667l5.25-1.68a1.748 1.748 0 0 1 1.066 0Zm-.61 1.429.001.001-5.25 1.68a.251.251 0 0 0-.174.237V7c0 1.36.275 2.666 1.057 3.859.784 1.194 2.121 2.342 4.366 3.298a.196.196 0 0 0 .154 0c2.245-.957 3.582-2.103 4.366-3.297C13.225 9.666 13.5 8.358 13.5 7V3.48a.25.25 0 0 0-.174-.238l-5.25-1.68a.25.25 0 0 0-.153 0ZM11.28 6.28l-3.5 3.5a.75.75 0 0 1-1.06 0l-1.5-1.5a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l.97.97 2.97-2.97a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
</template>

<template id="heart-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-heart">
    <path d="m8 14.25.345.666a.75.75 0 0 1-.69 0l-.008-.004-.018-.01a7.152 7.152 0 0 1-.31-.17 22.055 22.055 0 0 1-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.066 22.066 0 0 1-3.744 2.584l-.018.01-.006.003h-.002ZM4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.58 20.58 0 0 0 8 13.393a20.58 20.58 0 0 0 3.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.749.749 0 0 1-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5Z"></path>
</svg>
</template>

<template id="server-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-server">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v4c0 .372-.116.717-.314 1 .198.283.314.628.314 1v4a1.75 1.75 0 0 1-1.75 1.75H1.75A1.75 1.75 0 0 1 0 12.75v-4c0-.358.109-.707.314-1a1.739 1.739 0 0 1-.314-1v-4C0 1.784.784 1 1.75 1ZM1.5 2.75v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm.25 5.75a.25.25 0 0 0-.25.25v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25ZM7 4.75A.75.75 0 0 1 7.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 7 4.75ZM7.75 10h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM3 4.75A.75.75 0 0 1 3.75 4h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 4.75ZM3.75 10h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"></path>
</svg>
</template>

<template id="globe-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-globe">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM5.78 8.75a9.64 9.64 0 0 0 1.363 4.177c.255.426.542.832.857 1.215.245-.296.551-.705.857-1.215A9.64 9.64 0 0 0 10.22 8.75Zm4.44-1.5a9.64 9.64 0 0 0-1.363-4.177c-.307-.51-.612-.919-.857-1.215a9.927 9.927 0 0 0-.857 1.215A9.64 9.64 0 0 0 5.78 7.25Zm-5.944 1.5H1.543a6.507 6.507 0 0 0 4.666 5.5c-.123-.181-.24-.365-.352-.552-.715-1.192-1.437-2.874-1.581-4.948Zm-2.733-1.5h2.733c.144-2.074.866-3.756 1.58-4.948.12-.197.237-.381.353-.552a6.507 6.507 0 0 0-4.666 5.5Zm10.181 1.5c-.144 2.074-.866 3.756-1.58 4.948-.12.197-.237.381-.353.552a6.507 6.507 0 0 0 4.666-5.5Zm2.733-1.5a6.507 6.507 0 0 0-4.666-5.5c.123.181.24.365.353.552.714 1.192 1.436 2.874 1.58 4.948Z"></path>
</svg>
</template>

<template id="issue-opened-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
</template>

<template id="device-mobile-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-device-mobile">
    <path d="M3.75 0h8.5C13.216 0 14 .784 14 1.75v12.5A1.75 1.75 0 0 1 12.25 16h-8.5A1.75 1.75 0 0 1 2 14.25V1.75C2 .784 2.784 0 3.75 0ZM3.5 1.75v12.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM8 13a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>
</template>

<template id="package-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-package">
    <path d="m8.878.392 5.25 3.045c.54.314.872.89.872 1.514v6.098a1.75 1.75 0 0 1-.872 1.514l-5.25 3.045a1.75 1.75 0 0 1-1.756 0l-5.25-3.045A1.75 1.75 0 0 1 1 11.049V4.951c0-.624.332-1.201.872-1.514L7.122.392a1.75 1.75 0 0 1 1.756 0ZM7.875 1.69l-4.63 2.685L8 7.133l4.755-2.758-4.63-2.685a.248.248 0 0 0-.25 0ZM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432Zm6.25 8.271 4.625-2.683a.25.25 0 0 0 .125-.216V5.677L8.75 8.432Z"></path>
</svg>
</template>

<template id="credit-card-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-credit-card">
    <path d="M10.75 9a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5h-1.5Z"></path><path d="M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25ZM14.5 6.5h-13v5.75c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25Zm0-2.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25V5h13Z"></path>
</svg>
</template>

<template id="play-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
</template>

<template id="gift-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-gift">
    <path d="M2 2.75A2.75 2.75 0 0 1 4.75 0c.983 0 1.873.42 2.57 1.232.268.318.497.668.68 1.042.183-.375.411-.725.68-1.044C9.376.42 10.266 0 11.25 0a2.75 2.75 0 0 1 2.45 4h.55c.966 0 1.75.784 1.75 1.75v2c0 .698-.409 1.301-1 1.582v4.918A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V9.332C.409 9.05 0 8.448 0 7.75v-2C0 4.784.784 4 1.75 4h.55c-.192-.375-.3-.8-.3-1.25ZM7.25 9.5H2.5v4.75c0 .138.112.25.25.25h4.5Zm1.5 0v5h4.5a.25.25 0 0 0 .25-.25V9.5Zm0-4V8h5.5a.25.25 0 0 0 .25-.25v-2a.25.25 0 0 0-.25-.25Zm-7 0a.25.25 0 0 0-.25.25v2c0 .138.112.25.25.25h5.5V5.5h-5.5Zm3-4a1.25 1.25 0 0 0 0 2.5h2.309c-.233-.818-.542-1.401-.878-1.793-.43-.502-.915-.707-1.431-.707ZM8.941 4h2.309a1.25 1.25 0 0 0 0-2.5c-.516 0-1 .205-1.43.707-.337.392-.646.975-.879 1.793Z"></path>
</svg>
</template>

<template id="code-square-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code-square">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Zm7.47 3.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L10.69 8 9.22 6.53a.75.75 0 0 1 0-1.06ZM6.78 6.53 5.31 8l1.47 1.47a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
</template>

<template id="device-desktop-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-device-desktop">
    <path d="M14.25 1c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 14.25 12h-3.727c.099 1.041.52 1.872 1.292 2.757A.752.752 0 0 1 11.25 16h-6.5a.75.75 0 0 1-.565-1.243c.772-.885 1.192-1.716 1.292-2.757H1.75A1.75 1.75 0 0 1 0 10.25v-7.5C0 1.784.784 1 1.75 1ZM1.75 2.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25ZM9.018 12H6.982a5.72 5.72 0 0 1-.765 2.5h3.566a5.72 5.72 0 0 1-.765-2.5Z"></path>
</svg>
</template>

        <div class="position-relative">
                <ul
                  role="listbox"
                  class="ActionListWrap QueryBuilder-ListWrap"
                  aria-label="Suggestions"
                  data-action="
                    combobox-commit:query-builder#comboboxCommit
                    mousedown:query-builder#resultsMousedown
                  "
                  data-target="query-builder.resultsList"
                  data-persist-list=false
                  id="query-builder-test-results"
                ></ul>
        </div>
      <div class="FormControl-inlineValidation" id="validation-e9098a40-f9f9-4e2a-a538-c73508635146" hidden="hidden">
        <span class="FormControl-inlineValidation--visual">
          <svg aria-hidden="true" height="12" viewBox="0 0 12 12" version="1.1" width="12" data-view-component="true" class="octicon octicon-alert-fill">
    <path d="M4.855.708c.5-.896 1.79-.896 2.29 0l4.675 8.351a1.312 1.312 0 0 1-1.146 1.954H1.33A1.313 1.313 0 0 1 .183 9.058ZM7 7V3H5v4Zm-1 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"></path>
</svg>
        </span>
        <span></span>
</div>    </div>
    <div data-target="query-builder.screenReaderFeedback" aria-live="polite" aria-atomic="true" class="sr-only"></div>
</query-builder></form>
          <div class="d-flex flex-row color-fg-muted px-3 text-small color-bg-default search-feedback-prompt">
            <a target="_blank" href="https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax" data-view-component="true" class="Link color-fg-accent text-normal ml-2">Search syntax tips</a>            <div class="d-flex flex-1"></div>
              <button data-action="click:qbsearch-input#showFeedbackDialog" type="button" data-view-component="true" class="Button--link Button--medium Button color-fg-accent text-normal ml-2">  <span class="Button-content">
    <span class="Button-label">Give feedback</span>
  </span>
</button>
          </div>
        </div>
</div>

    </div>
</modal-dialog></div>
  </div>
  <div data-action="click:qbsearch-input#retract" class="dark-backdrop position-fixed" hidden data-target="qbsearch-input.darkBackdrop"></div>
  <div class="color-fg-default">
    
<dialog-helper>
  <dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="feedback-dialog" aria-modal="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade Overlay--disableScroll">
    <div data-view-component="true" class="Overlay-header">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="feedback-dialog-title">
        Provide feedback
      </h1>
        
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="feedback-dialog" aria-label="Close" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        <div data-view-component="true" class="Overlay-body">        <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="code-search-feedback-form" data-turbo="false" action="/search/feedback" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="YEmZG6rFzEVd6f3yOIHogDZ5zLFg7mZ15yMKN_vPPI62-UvCnyVyf2ND2OQXVqj_QlIkCzKQaqTQBCatEuIxAg" />
          <p>We read every piece of feedback, and take your input very seriously.</p>
          <textarea name="feedback" class="form-control width-full mb-2" style="height: 120px" id="feedback"></textarea>
          <input name="include_email" id="include_email" aria-label="Include my email address so I can be contacted" class="form-control mr-2" type="checkbox">
          <label for="include_email" style="font-weight: normal">Include my email address so I can be contacted</label>
</form></div>
      </scrollable-region>
      <div data-view-component="true" class="Overlay-footer Overlay-footer--alignEnd">          <button data-close-dialog-id="feedback-dialog" type="button" data-view-component="true" class="btn">    Cancel
</button>
          <button form="code-search-feedback-form" data-action="click:qbsearch-input#submitFeedback" type="submit" data-view-component="true" class="btn-primary btn">    Submit feedback
</button>
</div>
</dialog></dialog-helper>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<dialog-helper>
  <dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="custom-scopes-dialog" aria-modal="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade Overlay--disableScroll">
    <div data-view-component="true" class="Overlay-header Overlay-header--divided">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="custom-scopes-dialog-title">
        Saved searches
      </h1>
        <h2 id="custom-scopes-dialog-description" class="Overlay-description">Use saved searches to filter your results more quickly</h2>
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="custom-scopes-dialog" aria-label="Close" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        <div data-view-component="true" class="Overlay-body">        <div data-target="custom-scopes.customScopesModalDialogFlash"></div>

        <div hidden class="create-custom-scope-form" data-target="custom-scopes.createCustomScopeForm">
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="custom-scopes-dialog-form" data-turbo="false" action="/search/custom_scopes" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="ddo0PPFroGufR6o9W7OEZAakgbdSzUIU3KSPyjz6rtW1FOWUU0N3u07ETNL6BNZ6s7h4BUyOBmH_LMcCyIFuNw" />
          <div data-target="custom-scopes.customScopesModalDialogFlash"></div>

          <input type="hidden" id="custom_scope_id" name="custom_scope_id" data-target="custom-scopes.customScopesIdField">

          <div class="form-group">
            <label for="custom_scope_name">Name</label>
            <auto-check src="/search/custom_scopes/check_name" required>
              <input
                type="text"
                name="custom_scope_name"
                id="custom_scope_name"
                data-target="custom-scopes.customScopesNameField"
                class="form-control"
                autocomplete="off"
                placeholder="github-ruby"
                required
                maxlength="50">
              <input type="hidden" value="5Pn4weLvYW-TAAOKB9IOPe8dLlJ06o85uePBrrpo6XgSl_XQFMq1EhxuC53quXmRcONC2b6J63Y9w6TQwPT8hQ" data-csrf="true" />
            </auto-check>
          </div>

          <div class="form-group">
            <label for="custom_scope_query">Query</label>
            <input
              type="text"
              name="custom_scope_query"
              id="custom_scope_query"
              data-target="custom-scopes.customScopesQueryField"
              class="form-control"
              autocomplete="off"
              placeholder="(repo:mona/a OR repo:mona/b) AND lang:python"
              required
              maxlength="500">
          </div>

          <p class="text-small color-fg-muted">
            To see all available qualifiers, see our <a class="Link--inTextBlock" href="https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax">documentation</a>.
          </p>
</form>        </div>

        <div data-target="custom-scopes.manageCustomScopesForm">
          <div data-target="custom-scopes.list"></div>
        </div>

</div>
      </scrollable-region>
      <div data-view-component="true" class="Overlay-footer Overlay-footer--alignEnd Overlay-footer--divided">          <button data-action="click:custom-scopes#customScopesCancel" type="button" data-view-component="true" class="btn">    Cancel
</button>
          <button form="custom-scopes-dialog-form" data-action="click:custom-scopes#customScopesSubmit" data-target="custom-scopes.customScopesSubmitButton" type="submit" data-view-component="true" class="btn-primary btn">    Create saved search
</button>
</div>
</dialog></dialog-helper>
    </custom-scopes>
  </div>
</qbsearch-input>  <input type="hidden" value="6uHrUYZuWbK8TEe7wyBmivJVS7kVO3WCffcQxp2dUCwsOVq-YL7lz_5AOlAgoJ7MqMoTcVwmDn5uKF4klgdKrQ" data-csrf="true" class="js-data-jump-to-suggestions-path-csrf" />


          </div>

        
          <div class="AppHeader-CopilotChat hide-sm hide-md">
  <react-partial-anchor>
      <a href="/copilot" data-target="react-partial-anchor.anchor" id="copilot-chat-header-button" aria-labelledby="tooltip-1e06379f-876d-45a0-945c-e05f6463dae3" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button AppHeader-buttonLeft cursor-wait">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot Button-visual">
    <path d="M7.998 15.035c-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.201-.508-.254-1.084-.254-1.656 0-.87.128-1.769.693-2.484.579-.733 1.494-1.124 2.724-1.261 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095v1.872c0 .766-3.351 3.795-8.002 3.795Zm0-1.485c2.28 0 4.584-1.11 5.002-1.433V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-1.146 0-2.059-.327-2.71-.991A3.222 3.222 0 0 1 8 6.303a3.24 3.24 0 0 1-.544.743c-.65.664-1.563.991-2.71.991-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433ZM6.762 2.83c-.193-.206-.637-.413-1.682-.297-1.019.113-1.479.404-1.713.7-.247.312-.369.789-.369 1.554 0 .793.129 1.171.308 1.371.162.181.519.379 1.442.379.853 0 1.339-.235 1.638-.54.315-.322.527-.827.617-1.553.117-.935-.037-1.395-.241-1.614Zm4.155-.297c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Z"></path><path d="M6.25 9.037a.75.75 0 0 1 .75.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 .75-.75Zm4.25.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</a><tool-tip id="tooltip-1e06379f-876d-45a0-945c-e05f6463dae3" for="copilot-chat-header-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Chat with Copilot</tool-tip>

    <template data-target="react-partial-anchor.template">
      <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_tanstack_query-core_build_modern_queryObserver_js-node_modules_tanstack_-defd52-0024bc0658ed.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_react-relay_index_js-a597b32944e2.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_remark-gfm_lib_index_js-node_modules_remark-parse_lib_index_js-node_modu-44d0fc-a919845a804c.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_hastscript_lib_index_js-node_modules_lowlight_lib_all_js-node_modules_re-713cc1-b7c90cd7720d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_accname_dist_access-690142-222222869963.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_github_hotkey_dist_inde-9239ad-9003aa70891d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_item-picker_components_RepositoryPicker_tsx-ui_packages_safe-html_SafeHTML_tsx-7f3b157d05b4.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_copilot-chat_utils_copilot-chat-helpers_ts-6d6f969373ea.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_copilot-markdown_MarkdownRenderer_tsx-085b7bc88355.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_copilot-chat_utils_CopilotChatContext_tsx-055a28ee9a61.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_copilot-chat_components_CopilotIconAnimation_tsx-ui_packages_copilot-chat_compone-8be2e4-63d882cd4d67.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/copilot-chat-4fa9dc83b1f3.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.c212c596cc6bbefb1798.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/copilot-chat.2ae6ba95f674bcf88bc3.module.css" />
      <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/copilot-markdown-rendering-f6845e8f5d6b.css" />
      <include-fragment src="/github-copilot/chat?skip_anchor=true" data-nonce="v2:b4fd1a7a-0002-58ff-d776-e30ace6b8b2d" data-view-component="true">
  
  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">
      

      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment>
    </template>
  </react-partial-anchor>
  <react-partial-anchor>
    <button id="global-copilot-menu-button" data-target="react-partial-anchor.anchor" aria-expanded="false" aria-labelledby="tooltip-bc949a46-8905-4b88-87f6-7645691ddbf0" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button AppHeader-buttonRight">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down Button-visual">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
</button><tool-tip id="tooltip-bc949a46-8905-4b88-87f6-7645691ddbf0" for="global-copilot-menu-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Open Copilot…</tool-tip>

    <template data-target="react-partial-anchor.template">
      <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/global-copilot-menu-e4af1f6d8af8.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.c212c596cc6bbefb1798.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-copilot-menu.972c8de5acbdcb17b799.module.css" />

<react-partial
  partial-name="global-copilot-menu"
  data-ssr="false"
  data-attempted-ssr="false"
  data-react-profiling="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>

    </template>
  </react-partial-anchor>
</div>


        <div class="AppHeader-actions position-relative">
             <react-partial-anchor>
      <button id="global-create-menu-anchor" aria-label="Create something new" data-target="react-partial-anchor.anchor" type="button" disabled="disabled" data-view-component="true" class="AppHeader-button global-create-button cursor-wait Button--secondary Button--medium Button width-auto color-fg-muted">  <span class="Button-content">
      <span class="Button-visual Button-leadingVisual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-plus">
    <path d="M7.75 2a.75.75 0 0 1 .75.75V7h4.25a.75.75 0 0 1 0 1.5H8.5v4.25a.75.75 0 0 1-1.5 0V8.5H2.75a.75.75 0 0 1 0-1.5H7V2.75A.75.75 0 0 1 7.75 2Z"></path>
</svg>
      </span>
    <span class="Button-label"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg></span>
  </span>
</button><tool-tip id="tooltip-937183d3-d211-4fe8-9da5-931624b37ea2" for="global-create-menu-anchor" popover="manual" data-direction="s" data-type="description" data-view-component="true" class="sr-only position-absolute">Create new...</tool-tip>

      <template data-target="react-partial-anchor.template">
        <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_catalyst_lib_index_js-node_modules_github_hydro-analytics-client_-4da1df-de7253948a7c.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_document-metadata_document-metadata_ts-ui_packages_promise-with-resolvers-polyfil-b81d9e-bf9e0c14eede.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/global-create-menu-25d44959288c.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.c212c596cc6bbefb1798.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-create-menu.b1ee6a6bae56a89148b1.module.css" />

<react-partial
  partial-name="global-create-menu"
  data-ssr="false"
  data-attempted-ssr="false"
  data-react-profiling="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"createRepo":true,"importRepo":true,"codespaces":true,"spark":false,"gist":true,"createOrg":true,"createProject":false,"createProjectUrl":"/korolcov?tab=projects","createLegacyProject":false,"createIssue":false,"org":null,"owner":"kashapovalov","repo":"red-builder"}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>

      </template>
    </react-partial-anchor>


            <a href="/issues" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;ISSUES_HEADER&quot;,&quot;label&quot;:null}" id="icon-button-319e1bfb-15ff-4738-aa5b-d6a6cc5075c4" aria-labelledby="tooltip-77429d92-a00b-43c6-8143-49f22163858e" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened Button-visual">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
</a><tool-tip id="tooltip-77429d92-a00b-43c6-8143-49f22163858e" for="icon-button-319e1bfb-15ff-4738-aa5b-d6a6cc5075c4" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Your issues</tool-tip>

            <a href="/pulls" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;PULL_REQUESTS_HEADER&quot;,&quot;label&quot;:null}" id="icon-button-219ea666-1932-431c-9592-eadcbc62415a" aria-labelledby="tooltip-b366e6ed-3ce5-4842-aa6d-9e0134133276" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request Button-visual">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
</a><tool-tip id="tooltip-b366e6ed-3ce5-4842-aa6d-9e0134133276" for="icon-button-219ea666-1932-431c-9592-eadcbc62415a" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Your pull requests</tool-tip>

        </div>

          <notification-indicator data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6MTA3NDg4MzM5IiwidCI6MTc1MDA1NDIxM30=--dedafbb52500ff4c999619b96de050b1bd8b01beb95be35f50c02878436c5398" data-indicator-mode="none" data-tooltip-global="You have unread notifications" data-tooltip-unavailable="Notifications are unavailable at the moment." data-tooltip-none="You have no unread notifications" data-header-redesign-enabled="true" data-fetch-indicator-src="/notifications/indicator" data-fetch-indicator-enabled="true" data-view-component="true" class="js-socket-channel">
    <a id="AppHeader-notifications-button" href="/notifications" aria-labelledby="notification-indicator-tooltip" data-hotkey="g n" data-target="notification-indicator.link" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;NOTIFICATIONS_HEADER&quot;,&quot;label&quot;:null}" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button  color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-inbox Button-visual">
    <path d="M2.8 2.06A1.75 1.75 0 0 1 4.41 1h7.18c.7 0 1.333.417 1.61 1.06l2.74 6.395c.04.093.06.194.06.295v4.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25v-4.5c0-.101.02-.202.06-.295Zm1.61.44a.25.25 0 0 0-.23.152L1.887 8H4.75a.75.75 0 0 1 .6.3L6.625 10h2.75l1.275-1.7a.75.75 0 0 1 .6-.3h2.863L11.82 2.652a.25.25 0 0 0-.23-.152Zm10.09 7h-2.875l-1.275 1.7a.75.75 0 0 1-.6.3h-3.5a.75.75 0 0 1-.6-.3L4.375 9.5H1.5v3.75c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25Z"></path>
</svg>
</a>

    <tool-tip id="notification-indicator-tooltip" data-target="notification-indicator.tooltip" for="AppHeader-notifications-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Notifications</tool-tip>
</notification-indicator>

        <div class="AppHeader-user">
          <deferred-side-panel data-url="/_side-panels/user?repository_id=797606284">
  <include-fragment data-target="deferred-side-panel.fragment" data-nonce="v2:b4fd1a7a-0002-58ff-d776-e30ace6b8b2d" data-view-component="true">
  
    <react-partial-anchor
  
>
  <button data-target="react-partial-anchor.anchor" data-login="korolcov" aria-label="Open user navigation menu" type="button" data-view-component="true" class="cursor-wait Button--invisible Button--medium Button Button--invisible-noVisuals color-bg-transparent p-0">  <span class="Button-content">
    <span class="Button-label"><img src="https://avatars.githubusercontent.com/u/107488339?v=4" alt="" size="32" height="32" width="32" data-view-component="true" class="avatar circle" /></span>
  </span>
</button>
  <template data-target="react-partial-anchor.template">
    <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/global-user-nav-drawer-43e174f4fe91.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.c212c596cc6bbefb1798.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-user-nav-drawer.f5c870dfa3e88b836b2b.module.css" />

<react-partial
  partial-name="global-user-nav-drawer"
  data-ssr="false"
  data-attempted-ssr="false"
  data-react-profiling="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"owner":{"login":"korolcov","name":null,"avatarUrl":"https://avatars.githubusercontent.com/u/107488339?v=4"},"drawerId":"global-user-nav-drawer","lazyLoadItemDataFetchUrl":"/_side-panels/user.json","canAddAccount":true,"addAccountPath":"/login?add_account=1\u0026return_to=https%3A%2F%2Fgithub.com%2Fkashapovalov%2Fred-builder%2Fblob%2Fmain%2Fpve_installer%2Fpve-1.089.sh","switchAccountPath":"/switch_account","loginAccountPath":"/login?add_account=1","projectsPath":"/korolcov?tab=projects","gistsUrl":"https://gist.github.com/mine","docsUrl":"https://docs.github.com","yourEnterpriseUrl":null,"enterpriseSettingsUrl":null,"supportUrl":"https://support.github.com","showAccountSwitcher":true,"showCopilot":true,"showEnterprises":true,"showEnterprise":false,"showGists":true,"showOrganizations":true,"showSponsors":true,"showUpgrade":true,"showFeaturesPreviews":true,"showEnterpriseSettings":false,"createMenuProps":{"createRepo":true,"importRepo":true,"codespaces":true,"spark":false,"gist":true,"createOrg":true,"createProject":false,"createProjectUrl":"/korolcov?tab=projects","createLegacyProject":false,"createIssue":false,"org":null,"owner":"kashapovalov","repo":"red-builder"}}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>

  </template>
</react-partial-anchor>


  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">
      

      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment></deferred-side-panel>
        </div>

        <div class="position-absolute mt-2">
            
<site-header-logged-in-user-menu>

</site-header-logged-in-user-menu>

        </div>
      </div>
    </div>


    
        <div class="AppHeader-localBar" >
          <nav data-pjax="#js-repo-pjax-container" aria-label="Repository" data-view-component="true" class="js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav">

  <ul data-view-component="true" class="UnderlineNav-body list-style-none">
      <li data-view-component="true" class="d-inline-flex">
  <a id="code-tab" href="/kashapovalov/red-builder" data-tab-item="i0code-tab" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments repo_attestations /kashapovalov/red-builder" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g c" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Code&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code UnderlineNav-octicon d-none d-sm-inline">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
        <span data-content="Code">Code</span>
          <span id="code-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="issues-tab" href="/kashapovalov/red-builder/issues" data-tab-item="i1issues-tab" data-selected-links="repo_issues repo_labels repo_milestones /kashapovalov/red-builder/issues" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g i" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Issues&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
        <span data-content="Issues">Issues</span>
          <span id="issues-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="1" data-view-component="true" class="Counter">1</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="pull-requests-tab" href="/kashapovalov/red-builder/pulls" data-tab-item="i2pull-requests-tab" data-selected-links="repo_pulls checks /kashapovalov/red-builder/pulls" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g p" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Pull requests&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
        <span data-content="Pull requests">Pull requests</span>
          <span id="pull-requests-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="0" hidden="hidden" data-view-component="true" class="Counter">0</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="actions-tab" href="/kashapovalov/red-builder/actions" data-tab-item="i3actions-tab" data-selected-links="repo_actions /kashapovalov/red-builder/actions" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g a" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Actions&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play UnderlineNav-octicon d-none d-sm-inline">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
        <span data-content="Actions">Actions</span>
          <span id="actions-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="projects-tab" href="/kashapovalov/red-builder/projects" data-tab-item="i4projects-tab" data-selected-links="repo_projects new_repo_project repo_project /kashapovalov/red-builder/projects" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g b" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Projects&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-table UnderlineNav-octicon d-none d-sm-inline">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"></path>
</svg>
        <span data-content="Projects">Projects</span>
          <span id="projects-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="0" hidden="hidden" data-view-component="true" class="Counter">0</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="security-tab" href="/kashapovalov/red-builder/security" data-tab-item="i5security-tab" data-selected-links="security overview alerts policy token_scanning code_scanning /kashapovalov/red-builder/security" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g s" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Security&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline">
    <path d="M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        <span data-content="Security">Security</span>
          <include-fragment src="/kashapovalov/red-builder/security/overall-count" accept="text/fragment+html" data-nonce="v2:b4fd1a7a-0002-58ff-d776-e30ace6b8b2d" data-view-component="true">
  
  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">
      

      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment>

    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="insights-tab" href="/kashapovalov/red-builder/network/dependencies" data-tab-item="i6insights-tab" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /kashapovalov/red-builder/network/dependencies" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Insights&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline">
    <path d="M1.5 1.75V13.5h13.75a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75V1.75a.75.75 0 0 1 1.5 0Zm14.28 2.53-5.25 5.25a.75.75 0 0 1-1.06 0L7 7.06 4.28 9.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0L10 7.94l4.72-4.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
        <span data-content="Insights">Insights</span>
          <span id="insights-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
</ul>
    <div style="visibility:hidden;" data-view-component="true" class="UnderlineNav-actions js-responsive-underlinenav-overflow position-absolute pr-3 pr-md-4 pr-lg-5 right-0">      <action-menu data-select-variant="none" data-view-component="true">
  <focus-group direction="vertical" mnemonics retain>
    <button id="action-menu-b1254adc-3b3b-4a19-901b-872654402da6-button" popovertarget="action-menu-b1254adc-3b3b-4a19-901b-872654402da6-overlay" aria-controls="action-menu-b1254adc-3b3b-4a19-901b-872654402da6-list" aria-haspopup="true" aria-labelledby="tooltip-6df74afb-5c76-4878-bc75-b50abcf0e2c7" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium UnderlineNav-item">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal Button-visual">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg>
</button><tool-tip id="tooltip-6df74afb-5c76-4878-bc75-b50abcf0e2c7" for="action-menu-b1254adc-3b3b-4a19-901b-872654402da6-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Additional navigation options</tool-tip>


<anchored-position data-target="action-menu.overlay" id="action-menu-b1254adc-3b3b-4a19-901b-872654402da6-overlay" anchor="action-menu-b1254adc-3b3b-4a19-901b-872654402da6-button" align="start" side="outside-bottom" anchor-offset="normal" popover="auto" data-view-component="true">
  <div data-view-component="true" class="Overlay Overlay--size-auto">
    
      <div data-view-component="true" class="Overlay-body Overlay-body--paddingNone">          <action-list>
  <div data-view-component="true">
    <ul aria-labelledby="action-menu-b1254adc-3b3b-4a19-901b-872654402da6-button" id="action-menu-b1254adc-3b3b-4a19-901b-872654402da6-list" role="menu" data-view-component="true" class="ActionListWrap--inset ActionListWrap">
        <li hidden="hidden" data-menu-item="i0code-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-1ed5a479-b49f-4039-a9ce-c6951cb4f13f" href="/kashapovalov/red-builder" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Code
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i1issues-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-e121a63e-6c3b-4a6c-b4ce-27de2dcaaa62" href="/kashapovalov/red-builder/issues" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Issues
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i2pull-requests-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-2071f2cc-fec2-4572-93ca-6ec3e0907c6e" href="/kashapovalov/red-builder/pulls" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Pull requests
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i3actions-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-cb6492a0-3049-4c57-90fd-ddf2cae52fde" href="/kashapovalov/red-builder/actions" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Actions
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i4projects-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-40f2f667-da67-4655-b716-b459052466f3" href="/kashapovalov/red-builder/projects" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-table">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Projects
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i5security-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-d76f0f9e-f438-4c4e-8262-e244585de3aa" href="/kashapovalov/red-builder/security" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield">
    <path d="M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Security
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i6insights-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-365b8f47-13c0-4cf2-b09b-b9a3fcca5070" href="/kashapovalov/red-builder/network/dependencies" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-graph">
    <path d="M1.5 1.75V13.5h13.75a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75V1.75a.75.75 0 0 1 1.5 0Zm14.28 2.53-5.25 5.25a.75.75 0 0 1-1.06 0L7 7.06 4.28 9.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0L10 7.94l4.72-4.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Insights
</span>      
</a>
  
</li>
</ul>    
</div></action-list>


</div>
      
</div></anchored-position>  </focus-group>
</action-menu></div>
</nav>
          
        </div>
</header>


      <div hidden="hidden" data-view-component="true" class="js-stale-session-flash stale-session-flash flash flash-warn flash-full">
  
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        <span class="js-stale-session-flash-signed-in" hidden>You signed in with another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-signed-out" hidden>You signed out in another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-switched" hidden>You switched accounts on another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>

    <button id="icon-button-3f63c19e-65c3-4bf2-adb7-93d6b93dacd0" aria-labelledby="tooltip-13c98280-7a70-4809-a3cc-d2fbaa30d997" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium flash-close js-flash-close">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x Button-visual">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</button><tool-tip id="tooltip-13c98280-7a70-4809-a3cc-d2fbaa30d997" for="icon-button-3f63c19e-65c3-4bf2-adb7-93d6b93dacd0" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Dismiss alert</tool-tip>


  
</div>
          
    </div>

  <div id="start-of-content" class="show-on-focus"></div>








    <div id="js-flash-container" class="flash-container" data-turbo-replace>




  <template class="js-flash-template">
    
<div class="flash flash-full   {{ className }}">
  <div >
    <button autofocus class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
    </button>
    <div aria-atomic="true" role="alert" class="js-flash-alert">
      
      <div>{{ message }}</div>

    </div>
  </div>
</div>
  </template>
</div>


    
  <notification-shelf-watcher data-base-url="https://github.com/notifications/beta/shelf" data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6MTA3NDg4MzM5IiwidCI6MTc1MDA1NDIxM30=--dedafbb52500ff4c999619b96de050b1bd8b01beb95be35f50c02878436c5398" data-view-component="true" class="js-socket-channel"></notification-shelf-watcher>
  <div hidden data-initial data-target="notification-shelf-watcher.placeholder"></div>






  <div
    class="application-main "
    data-commit-hovercards-enabled
    data-discussion-hovercards-enabled
    data-issue-and-pr-hovercards-enabled
    data-project-hovercards-enabled
  >
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main id="js-repo-pjax-container" >
      
      






    
  <div id="repository-container-header" data-turbo-replace hidden ></div>




<turbo-frame id="repo-content-turbo-frame" target="_top" data-turbo-action="advance" class="">
    <div id="repo-content-pjax-container" class="repository-content " >
      <a href="https://github.dev/" class="d-none js-github-dev-shortcut" data-hotkey=".,Mod+Alt+.">Open in github.dev</a>
  <a href="https://github.dev/" class="d-none js-github-dev-new-tab-shortcut" data-hotkey="Shift+.,Shift+&gt;,&gt;" target="_blank" rel="noopener noreferrer">Open in a new github.dev tab</a>
    <a class="d-none" data-hotkey=",,Mod+Alt+," target="_blank" href="/codespaces/new/kashapovalov/red-builder/tree/main?resume=1">Open in codespace</a>




    
      
    








<react-app
  app-name="react-code-view"
  initial-path="/kashapovalov/red-builder/blob/main/pve_installer/pve-1.089.sh"
    style="display: block; min-height: calc(100vh - 64px);"
  data-attempted-ssr="true"
  data-ssr="true"
  data-lazy="false"
  data-alternate="false"
  data-data-router-enabled="false"
  data-react-profiling="false"
>
  
  <script type="application/json" data-target="react-app.embeddedData">{"payload":{"allShortcutsEnabled":true,"fileTree":{"pve_installer":{"items":[{"name":"pve-1.089.sh","path":"pve_installer/pve-1.089.sh","contentType":"file"},{"name":"pve-1.090.sh","path":"pve_installer/pve-1.090.sh","contentType":"file"},{"name":"pve-1.091.sh","path":"pve_installer/pve-1.091.sh","contentType":"file"},{"name":"pve-1.092.sh","path":"pve_installer/pve-1.092.sh","contentType":"file"},{"name":"pve.sh","path":"pve_installer/pve.sh","contentType":"file"},{"name":"pve_release.sh","path":"pve_installer/pve_release.sh","contentType":"file"}],"totalCount":6},"":{"items":[{"name":"devhook","path":"devhook","contentType":"directory"},{"name":"pve_installer","path":"pve_installer","contentType":"directory"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":"freeze.txt","path":"freeze.txt","contentType":"file"},{"name":"pve.sh","path":"pve.sh","contentType":"file"}],"totalCount":5}},"fileTreeProcessingTime":24.557636000000002,"foldersToFetch":[],"incompleteFileTree":false,"repo":{"id":797606284,"defaultBranch":"main","name":"red-builder","ownerLogin":"kashapovalov","currentUserCanPush":true,"isFork":false,"isEmpty":false,"createdAt":"2024-05-08T11:03:47.000+04:00","ownerAvatar":"https://avatars.githubusercontent.com/u/48432941?v=4","public":false,"private":true,"isOrgOwned":false},"codeLineWrapEnabled":false,"symbolsExpanded":false,"treeExpanded":true,"refInfo":{"name":"main","listCacheKey":"v0:1715594373.0","canEdit":true,"refType":"branch","currentOid":"8859467cc9742dd437098c4e8e95e4241f9ac441"},"path":"pve_installer/pve-1.089.sh","currentUser":{"id":107488339,"login":"korolcov","userEmail":"korolc@mail.ru"},"blob":{"rawLines":["#!/bin/bash","","# tested: centOS7, centOS8, centOS9, debian10, debian11,","# debian12, Ubuntu 20.04, Ubuntu 22.04, AstraLinux 1.74,","# RedOS 7.3.2, AltLinux 8.2, AltLinux 9.0, AltLinux 10.1","","##########################","# общее описание скрипта #","##########################","# скрипт устанавливает pve (python virtual enviroment), набор модулей питона для работы других сервисов","","############################################","# критические переменные для быстрой смены #","############################################","# версия питона для установки","# CentOS 7","python_ver_centos=\"3.9.16\"","# Debian дистрибутивы","python_ver_debian=\"3.9.16\"","# Red Hat дистрибутивы","python_ver_rhel=\"3.9.16\"","# AltLinux","python_ver_altlinux=\"3.9.16\"","# адрес pip репозитория DevPI","python_devpi=\"repo.connect2ai.net\"","# заголовок установщика, хеш врутреннего архива, версия и релиз, меняются при сборки пакета","int_service_name=\"pve\"","int_pve_install_dir=\"/opt/pve\"","int_ups_install_dir=\"/opt/ups/pve\"","int_urs_install_dir=\"/opt/urs/pve\"","int_ses_install_dir=\"/opt/ses/pve\"","int_repo_url=\"https://repo.connect2ai.net/api\"","# каталог куда распакуется внутренний архив","int_arch_dir=\"/tmp/archive\"","# каталог системных пакетов созданных через --build","int_arch_pack_dir=\"$int_arch_dir/packages\"","","##############","# переменные #","##############","","# статус доступа в интернет","internetstatus=0","# тип установки, для оффлайн установки","build_type=\"install\"","# расположение скрипта","actual_path=$(readlink -f \"${BASH_SOURCE[0]}\")","script_dir=$(dirname \"$actual_path\")","script_name=$(basename \"$actual_path\")","# временная папка","temp_dir=\"$script_dir/temp\"","# внешний файл списка модулей pip3","list_pip3_modules_ext=\"$script_dir/freeze.txt\"","# NVIDIA CUDA Toolkit","install_nvcc=()","","","# список пакетов для скачивания","# CentOS 7","# минимально необходимый набор системных пакетов","packages_system_centos7=(\"python3\" \"cmake\" \"gcc\" \"gcc-c++\" \"curl\" \"wget\" \"ca-certificates\" \"git\" \"patch\" \"lsyncd\" \"bzip2\" \"unzip\" \"dmidecode\")","","# остальные пакеты","packages_main_centos7=(\"python3-pip\" \"python3-devel\" \"libsndfile\" \"python3-wheel\" \"python3-virtualenv\" \\","                      \"mariadb-devel.x86_64\" \"python3*-mysql.x86_64\" \"rustc\" \"cargo\" \"openssl\" \"openssl11\" \"openssl-devel\" \"openssl11-devel\" \"libffi\" \\","                      \"libffi-devel\" \"zlib\" \"zlib-devel\" \"bzip2\" \"bzip2-devel\" \"libxml2\" \"libxml2-devel\" \\","                      \"xmlsec1-openssl\" \"xmlsec1\" \"readline\" \"readline-devel\" \"sqlite\" \"sqlite-devel\" \\","                      \"xz\" \"xz-devel\" \"ffmpeg\" \"ffmpeg-devel\" \"sox\" \"jq\" \"checkpolicy\" \"policycoreutils-python\")","","# Debian дистрибутивы","# минимально необходимый набор системных пакетов","packages_system_debian=(\"curl\" \"wget\" \"ca-certificates\" \"git\" \"patch\" \"cmake\" \"build-essential\" \"apt-transport-https\" \"gnupg2\" \"lsyncd\" \"unzip\" \"dmidecode\")","# остальные пакеты","packages_main_debian=(\"python3-pip\" \"python3-dev\" \"libsndfile1\" \"python3-wheel\" \"python3-venv\" \\","                      \"libmariadb-dev\" \"python3-mysqldb\" \"rustc\" \"cargo\" \"openssl\" \"libssl-dev\" \"libncurses-dev\" \\","                      \"libffi-dev\" \"zlib1g\" \"zlib1g-dev\" \"bzip2\" \"libbz2-dev\" \"libxml2\" \"libxml2-dev\" \\","                      \"xmlsec1\" \"libxmlsec1-dev\" \"libreadline-dev\" \"sqlite3\" \\","                      \"libsqlite3-dev\" \"xz-utils\" \"lzma\" \"liblzma-dev\" \"ffmpeg\" \"sox\" \"jq\")","","# Red Hat дистрибутивы","# минимально необходимый набор системных пакетов","packages_system_rhel=(\"python3\" \"cmake\" \"gcc\" \"gcc-c++\" \"curl\" \"wget\" \"ca-certificates\" \"git\" \"patch\" \"lsyncd\" \"unzip\" \"dmidecode\")","","# остальные пакеты","packages_main_rhel=(\"python3-pip\" \"python3-devel\" \"libsndfile\" \"python3-wheel\" \"python3-virtualenv\" \\","                    \"mariadb-devel.x86_64\" \"python3*-mysql.x86_64\" \"rustc\" \"cargo\" \"openssl\" \"openssl-devel\" \"libffi\" \\","                    \"libffi-devel\" \"zlib\" \"zlib-devel\" \"bzip2\" \"bzip2-devel\" \"libxml2\" \"libxml2-devel\" \\","                    \"xmlsec1-openssl\" \"xmlsec1\" \"readline\" \"readline-devel\" \"sqlite\" \"sqlite-devel\" \\","                    \"xz\" \"xz-devel\" \"ffmpeg\" \"ffmpeg-devel\" \"sox\" \"jq\")","","# Altlinux","# минимально необходимый набор системных пакетов","packages_system_altlinux=(\"python3\" \"openssl\" \"curl\" \"wget\" \"ca-certificates\" \"git\" \"patch\" \"cmake\" \"boost-devel\" \"apt-https\" \"gnupg2\" \"lsyncd\" \"unzip\" \"dmidecode\")","","# остальные пакеты","packages_main_altlinux=(\"rpm-build-python3\" \"python3-module-pip\" \"python3-dev\" \"libsndfile\" \"python3-module-wheel\" \\","                        \"libmariadb-devel\" \"python3-module-mysql\" \"rust\" \"rust-cargo\" \"openssl\" \"libssl-devel\" \\","                        \"libffi-devel\" \"zlib\" \"zlib-devel\" \"bzip2\" \"bzip2-devel\" \"libxml2\" \"libxml2-devel\" \\","                        \"libxmlsec1\" \"libxmlsec1-devel\" \"libreadline-devel\" \"sqlite3\" \\","                        \"libsqlite3-devel\" \"xz\" \"liblzma\" \"liblzma-devel\" \"glibc-devel-static\" \"bzip2-devel\" \\","                        \"ffmpeg\" \"ffprobe\" \"sox\" \"jq\")","","# в массивах модулей используется |, это нужно для фиксации версий зависимостей модулей","# базовый набор модулей для всех установок","modules_pip3_base=(\"pip\" \"wheel\" \"scikit-build|packaging==23.2|setuptools==65.5.1\" \"setuptools==65.5.1|setuptools_rust|ctranslate2==4.4.0|numpy==1.23.5\" \"cython\" \"tomli\" \"gunicorn|packaging==23.2\" \\","                   \"Flask==2.2.5|flask-restx==1.3.0|Werkzeug==2.3.3\" \"pydub==0.25.1\" \"PyJWT\" \"gevent|youtokentome==1.0.3|setuptools==65.5.1\" \"requests\")","","# набор модулей для всех сервисов","modules_pip3_back=(${modules_pip3_base[@]} \\","                   \"librosa==0.10.0|braceexpand==0.1.7|transformers==4.38.2|faster-whisper|tokenizers==0.15.2|huggingface-hub==0.23.3|numpy==1.23.5|onnxruntime==1.18.1|ctranslate2==4.4.0|hydra-core==1.3.2|packaging==23.2|setuptools==65.5.1\" \\","                   \"inflect==6.0.4|pydantic==1.10.2\" \"webdataset==0.1.62|pyannote.core==5.0.0|pyannote.database==5.1.0|pyannote.metrics==3.2.1|faiss_cpu==1.8.0|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\" \\","                   \"editdistance==0.6.2\" \"jiwer==3.0.1\" \"ipython==8.13.2\" \"seaborn|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\" \"einops\" \"wandb==0.18.7|setuptools==65.5.1\" \"pymorphy2|natasha==1.6.0|razdel\" \"progressbar2\" \\","                   \"webrtcvad\" \"h5py|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\" \"ijson\" \"sacrebleu|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\" \"rouge_score|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\" \"opencc==1.1.5\" \"pangu\" \"ipadic\" \"mecab-python3\" \\","                   \"pybind11\" \"fasttext==0.9.1|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\" \"sacremoses\" \"watchdog\" \"deepfilternet==0.5.6|numpy==1.23.5|packaging==23.2|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\" \"aiohttp\" \"python-crfsuite\" \"elasticsearch\" \"mysqlclient==2.1.1\" \"vk_api\" \\","                   \"websockets==11.0.3\" \"mitmproxy\" \"bcrypt==4.0.1\" \"swig==3.0.10\" \"python-ESL==1.4.18\" \"websocket==0.2.1\" \"websocket-client==1.8.0\" \"typing_extensions==4.4.0\")","","# дополненый набор модулей для сервисов под CPU","modules_pip3_cpu=(${modules_pip3_back[@]} \\","                    \"torch==2.3.1+cpu|torchaudio==2.3.1+cpu|torchvision==0.18.1+cpu|torchmetrics==1.0.3|pytorch-lightning==1.9.5|nemo-toolkit==1.20.0|sentence-transformers==2.3.0|triton==2.3.1|Werkzeug==2.3.3|sentencepiece==0.1.99|transformers==4.38.2|huggingface-hub==0.23.3|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\" \\","                    \"llama-cpp-python==0.3.6|numpy==1.23.5\")","","# дополненый набор модулей для сервисов под GPU CU11","modules_pip3_cu11=(${modules_pip3_back[@]} \\","                    \"torch==2.3.1+cu118|torchaudio==2.3.1+cu118|torchvision==0.18.1+cu118|torchmetrics==1.0.3|pytorch-lightning==1.9.5|nemo-toolkit==1.20.0|sentence-transformers==2.3.0|triton==2.3.1|Werkzeug==2.3.3|sentencepiece==0.1.99|transformers==4.38.2|huggingface-hub==0.23.3|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1|onnxruntime-gpu==1.19.2\" \\","                    \"llama-cpp-python-cu==0.3.6|numpy==1.23.5\")","","# дополненый набор модулей для сервисов под GPU CU12","modules_pip3_cu12=(${modules_pip3_back[@]} \\","                    \"torch==2.3.1+cu121|torchaudio==2.3.1+cu121|torchvision==0.18.1+cu121|torchmetrics==1.0.3|pytorch-lightning==1.9.5|nemo-toolkit==1.20.0|sentence-transformers==2.3.0|triton==2.3.1|Werkzeug==2.3.3|sentencepiece==0.1.99|transformers==4.38.2|huggingface-hub==0.23.3|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1|onnxruntime-gpu==1.19.2\" \\","                    \"llama-cpp-python-cu==0.3.6|numpy==1.23.5\")","","# набор модулей индивидуально под сервис","# UPS и RES","modules_pip3_ups=(${modules_pip3_base[@]} \"jiwer==3.0.1\" \"elasticsearch\" \"mitmproxy\" \"bcrypt==4.0.1\" \"typing_extensions==4.4.0\")","# URS","modules_pip3_urs=(${modules_pip3_base[@]} \"mysqlclient==2.1.1\")","# SES","modules_pip3_ses=(${modules_pip3_base[@]} \"pymorphy2\" \"vk_api\" \"websockets==11.0.3\" \"swig==3.0.10\" \"python-ESL==1.4.18\" \"websocket==0.2.1\" \"websocket-client==1.8.0\")","","# все модули, для сборки полного оффлайн инсталятора","modules_pip3_full=(\"\")","for i in ${modules_pip3_cu12[*]} ${modules_pip3_cu11[*]} ${modules_pip3_cpu[*]} ${modules_pip3_ups[*]} ${modules_pip3_urs[*]} ${modules_pip3_ses[*]}; do","  [ $(echo ${modules_pip3_full[@]} | grep -c \"$i\") -eq 0 ] \u0026\u0026 modules_pip3_full+=(\"$i\")","done","","######################","## функции-процедуры #","######################","","#обработчик ошибок, поток ошибок","function echo_error {","  if [ ! -z \"$1\" ]; then","    deactivate \u003e /dev/null 2\u003e\u00261","    echo -e \"\\e[31m\u003e \"$1\"\\e[0m\\n\" \u003e\u00262","    clear_temp 2\u003e /dev/null; proxy_configuration unset","    install_repo remlocal \u003e /dev/null; exit 1","  fi","}","","#обработчик предупреждений, поток ошибок","function echo_warning {","  if [ ! -z \"$1\" ]; then","    echo -e \"\\e[33m\u003e \"$1\"\\e[0m\" \u003e\u00262","  fi","}","","#процесс выполнения, стандартный поток","function echo_info {","  if [ ! -z \"$1\" ]; then","    echo -e \"\\e[32m\u003e \"$1\"\\e[0m ...\"","  fi","}","","# определяем версию текущей OS","$(grep -oEi '^(ID|ID_LIKE|VERSION_CODENAME|VERSION_ID)=[\"A-z0-9.]+' /etc/os-release | sed -e 's/^ID_LIKE/os_like/i' -e 's/^ID/os_id/i' -e 's/^VERSION_CODENAME/os_codename/i' -e 's/^VERSION_ID/os_version/i' | awk '{gsub(\"\\\"\",\"\",$0);print \"export \"tolower($0)}')","if [[ $os_codename == \"\" ]]; then $(grep -oEi '^(NAME|PRETTY_NAME)=[^$]+' /etc/os-release | sed -e 's/\\s/_/g' | awk '{gsub(\"\\\"\",\"\",$0);print \"export \"tolower($0)}'); os_codename=$(echo $pretty_name | sed \"s/$name//\" | grep -oE \"[a-z]+\"); unset name pretty_name; fi","if [[ $os_codename == \"\" ]]; then os_codename=$os_version; fi","if [[ $os_id == 'centos' \u0026\u0026 $os_version == '7' ]]; then  os_install=$os_id$os_version; elif [[ -z $os_like || $os_like == \"\" ]]; then os_install=$os_id; elif [[ ! -z $os_like ]]; then os_install=$(echo $os_like | grep -oEi '^[a-z]+'); unset os_like; fi","# если возникли проблемы с определением параметров","if [[ $os_id == \"\" || $os_codename == \"\" || $os_version == \"\" || $os_install == \"\" ]]; then echo_error \"Ошибка детектирования OS\"; fi","","# конфигурация подключения к прокси серверу, для онлайн установки","function proxy_configuration {","  # установка если интернет, если не доступен","  if [[ $1 == \"set\" \u0026\u0026 $internetstatus -eq 0 ]]; then","    echo_info \"Проверка подключения к интернету\"","    if [[ -z $(for i in {1..3}; do ping -i 1 -c 5 $python_devpi \u0026\u003e /dev/null || curl -s -o /dev/null -m 5 --connect-timeout 5 \"$int_repo_url\" 2\u003e/dev/null \u0026\u0026 echo 1 \u0026\u0026 break || sleep 0.5; done) ]]; then","      # подгружаем конфигурацию прокси из файла","      setproxy=($(cat $int_install_dir/.proxy 2\u003e/dev/null|head -1|tr \"\" \"\\r\\n\"))","      [ -z $setproxy ] \u0026\u0026 setproxy=($(cat $int_pve_install_dir/.proxy 2\u003e/dev/null|head -1|tr \"\" \"\\r\\n\"))","      # если не удалось получить данные конфигурации","      if [[ -z $setproxy || ${#setproxy[@]} -eq 2 || ${#setproxy[@]} -gt 3 ]]; then","        echo -e \"\\e[32m\u003e Настройка HTTP/HTTPS/SOCKS proxy (\\e[0mпример: http://example.com:3128; socks5://example.com:1080\\e[32m):\\e[0m\\n\"","        read -p \"Адрес proxy: \" -r iaddress","        read -p \"Пользователь: \" -r iuser","        read -p \"Пароль: \" -r ipass; echo","        setproxy=(\"$iaddress $iuser $ipass\")","      fi","      if [[ $(echo ${setproxy[0]} | grep -ciE \"^(http|https|socks[4-5]):\\/\\/([0-9a-zа-я-]+\\.){1,}[0-9a-zа-я-]+:[0-9]{2,5}$\") -ne 0 ]]; then","        iprotocol=$(echo ${setproxy[0]} | grep -Eo \"(http|https|socks[4-5])\")","        iaddress=$(echo ${setproxy[0]} | sed -r \"s/^[^:]+:\\/\\///\")","        iuserpass=\"\"; [[ ! -z \"${setproxy[1]}\" \u0026\u0026 ! -z \"${setproxy[2]}\" ]] \u0026\u0026 iuserpass=\"${setproxy[1]}:${setproxy[2]}@\"","        export {http,https,ftp,all}_proxy=\"${iprotocol}://${iuserpass}${iaddress}\"","        export {HTTP,HTTPS,FTP,ALL}_PROXY=\"${iprotocol}://${iuserpass}${iaddress}\"","      else","        echo_error \"Некорректный адрес прокси сервера\"","      fi","      # что не проксиреуем","      export no_proxy=\"localhost,*.local,127.0.0.0/8,::1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16\"","      export NO_PROXY=\"localhost,*.local,127.0.0.0/8,::1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16\"","","      # проверка, подключение через прокси","      [[ -z $(for i in {1..3}; do curl -s -o /dev/null -m 5 --connect-timeout 5 \"$int_repo_url\" 2\u003e/dev/null \u0026\u0026 echo 1 \u0026\u0026 break || sleep 0.5; done) ]] \u0026\u0026 echo_error \"Не удалось подключится к интернету\"","      internetstatus=1","    fi","  # удаляем proxy переменные среды","  elif [ $1 == \"unset\" ]; then","    unset {http,https,ftp,all}_proxy","    unset {HTTP,HTTPS,FTP,ALL}_PROXY","    unset no_proxy; unset NO_PROXY","  fi","}","","# получаем последнию версию библиотеки gcc, cpp, ... доступных в репозитории для пакетного менеджера apt-get","function apt_get_lib {","  # ищем пакеты в базе apt-cache для установки","  for p in \"^gcc([-.1-9]+)*(-c\\+\\+)*$\" \"^cpp([-.1-9]+)*$\" \"^libreadline[-.1-9]+$\" \"^g\\+\\+$\" \"^libstdc\\+\\+[-.1-9]+(dev|devel)(-static)*$\"; do","    for i in $(apt-cache search $p | grep -Eo \"^[^ ]+\"); do","      ver=$(echo $i | grep -Eo \"[.0-9]+\")","       # добавляем в установку пакеты без версии","      [ -z \"$ver\" ] \u0026\u0026 out_nv=\"$out_nv $i\" \u0026\u0026 continue","      # вычистяем версию текущего пакета","      tmp_ver=$ver; ver=$(echo $ver | sed \"s/\\.//\"); [ \"$ver\" == \"$tmp_ver\" ] \u0026\u0026 ver=\"${ver}0\"","      # если версия новее, начинаем с нуля. если версия совпадает то дописываем","      if [[ -z $old_ver || $ver -gt $old_ver ]]; then tmp_out=$i; elif [[ $ver -eq $old_ver ]]; then tmp_out=\"$tmp_out $i\"; fi; old_ver=$ver","    done","\t  # дописываем пакеты по маске к выводу","    unset old_ver; out=\"$out $tmp_out\"","  done","  # выводим список всех пакетов для установки","  echo \"$out $out_nv\" | sed -e \"s/  / /g\" -e \"s/^ //\" -e \"s/ $//\"","}","","# установка репозиториев","function install_repo {","  # онлайн режим установки","  if [[ $1 == \"online\" || $build_type == \"update\" || ($build_type == \"install\" \u0026\u0026 \"$build_os\" != \"${os_id}-${os_version}\") ]]; then","    proxy_configuration set","    echo_info \"Настройка репозиториев и фиксация версий пакетов\"","    case $os_install in","      centos7)","        # решение проблемы поддержки centOS7 с 01.07.2024","        sed -i s/mirror.centos.org/vault.centos.org/g /etc/yum.repos.d/*.repo 2\u003e /dev/null","        sed -i s/^#.*baseurl=http/baseurl=http/g /etc/yum.repos.d/*.repo 2\u003e /dev/null","        sed -i s/^mirrorlist=http/#mirrorlist=http/g /etc/yum.repos.d/*.repo","        yum install -y epel-release || echo_error \"Ошибка подлючения repo с Epel\"","        # пакет основных утилит ставится заранее перед скачиванием пакетов через repotrack","        yum install -y yum-utils || echo_error \"Ошибка установки основных утилит\"","        # ffmpeg репозиторий, содержащий ffmpeg 3,2 версии.","        yum localinstall -y --nogpgcheck https://download1.rpmfusion.org/free/el/rpmfusion-free-release-7.noarch.rpm 2\u003e\u00261 || echo_error \"Ошибка подлючения repo с FFmpeg\"","        # обновление списка пакетов после добавления репы","        yum makecache \u003e /dev/null 2\u003e\u00261","      ;;","      debian)","        # подключаем репозитория base и external для AstraLinux и обновления списка пакетов","        if [ $os_id == \"astra\" ]; then","          repo=\"/etc/apt/sources.list\"","          i=$(grep -iEo \"^#[ ]*deb.*astralinux.*-base.+\" $repo -m1); o=$(echo $i | grep -Eo \"[^#]+\"); [[ ! -z $i \u0026\u0026 ! -z $o ]] \u0026\u0026 sed -i \"s|$i|$o|\" $repo \u003e /dev/null 2\u003e\u00261","          i=$(grep -iEo \"^#[ ]*deb.*astralinux.*-extended.+\" $repo -m1); o=$(echo $i | grep -Eo \"[^#]+\"); [[ ! -z $i \u0026\u0026 ! -z $o ]] \u0026\u0026 sed -i \"s|$i|$o|\" $repo \u003e /dev/null 2\u003e\u00261","        fi","        # очищаем локальный кеш пакетов","        rm -rf /var/cache/apt/archives/*.deb \u0026\u003e /dev/null","        # обновление списка пакетов","        apt-get update \u003e /dev/null 2\u003e\u00261","      ;;","      rhel)","        # пакет основных утилит ставится заранее перед скачиванием пакетов через repotrack","        yum install -y yum-utils || echo_error \"Ошибка установки основных утилит\"","        # подключения репозирория ffmpeg для CentOS 8 и ContOS 9","        if [ $os_id == \"centos\" ]; then","          yum install -y epel-release || echo_error \"Ошибка подлючения repo с Epel\"","          dnf config-manager --set-enabled powertools \u003e /dev/null 2\u003e\u00261 || dnf config-manager --set-enabled crb \u003e /dev/null 2\u003e\u00261 || echo_error \"Ошибка подлючения repo с FFmpeg\"","          dnf install --nogpgcheck https://mirrors.rpmfusion.org/free/el/rpmfusion-free-release-$os_version.noarch.rpm -y 2\u003e\u00261 || echo_error \"Ошибка подлючения repo с FFmpeg\"","          dnf install --nogpgcheck https://mirrors.rpmfusion.org/nonfree/el/rpmfusion-nonfree-release-$os_version.noarch.rpm -y 2\u003e\u00261 || echo_error \"Ошибка подлючения repo с FFmpeg\"","        fi","        # обновление списка пакетов после добавления репы","        yum makecache \u003e /dev/null 2\u003e\u00261","      ;;","      altlinux)","        # очищаем локальный кеш пакетов","        rm -rf /var/cache/apt/archives/*.rpm \u0026\u003e /dev/null","        # обновление списка пакетов","        apt-get update \u003e /dev/null 2\u003e\u00261","      ;;","    esac","  # оффлайн режим установки","  elif [ $1 == \"offline\" ]; then","    case $os_install in","      centos7)","        # отключаем все репозитории и включаем локальный","        echo_info \"Отключаем все репозитории и подключаем локальный $int_arch_pack_dir\"","        repo=$(grep -rliE \"^[ #]*baseurl.+\" /etc/yum.repos.d/* 2\u003e/dev/null); [[ ! -z $repo ]] \u0026\u0026 for o in $repo; do sed -i \"s|^|###pve###|g\" $o \u003e /dev/null 2\u003e\u00261; done","        repo=$(grep -rliE \"^[ #]*baseurl.+\" /etc/distro.repos.d/* 2\u003e/dev/null); [[ ! -z $repo ]] \u0026\u0026 for o in $repo; do sed -i \"s|^|###pve###|g\" $o \u003e /dev/null 2\u003e\u00261; done","        echo \"[PVE]","name = PVE","baseurl = file://$int_arch_pack_dir/$os_codename","enabled = 1","gpgcheck = 0\" \u003e /etc/yum.repos.d/pve.repo","        # обновление списка пакетов","        yum makecache \u003e /dev/null 2\u003e\u00261","      ;;","      debian)","        # отключаем все репозитории и включаем локальный","        echo_info \"Отключаем все репозитории и подключаем локальный $int_arch_pack_dir\"","        repo=$(grep -rliE \"^[ ]*deb.+\" /etc/apt/sources.list* 2\u003e/dev/null); [[ ! -z $repo ]] \u0026\u0026 for o in $repo; do sed -i \"s|^[ ]*deb|###pve###deb|\" $o \u003e /dev/null 2\u003e\u00261; done","        echo \"deb [arch=$(dpkg --print-architecture) trusted=yes] file://$int_arch_pack_dir $os_codename pve\" \u003e /etc/apt/sources.list.d/pve.list || echo_error \"Ошибка настройки репозитория\"","        # очищаем локальный кеш пакетов","        rm -rf /var/cache/apt/archives/*.deb \u0026\u003e /dev/null","        # обновление списка пакетов","        apt-get update \u003e /dev/null 2\u003e\u00261","      ;;","      rhel)","        # отключаем все репозитории и включаем локальный","        echo_info \"Отключаем все репозитории и подключаем локальный $int_arch_pack_dir\"","        repo=$(grep -rliE \"^[ #]*baseurl.+\" /etc/yum.repos.d/* 2\u003e/dev/null); [[ ! -z $repo ]] \u0026\u0026 for o in $repo; do sed -i \"s|^|###pve###|g\" $o \u003e /dev/null 2\u003e\u00261; done","        repo=$(grep -rliE \"^[ #]*baseurl.+\" /etc/distro.repos.d/* 2\u003e/dev/null); [[ ! -z $repo ]] \u0026\u0026 for o in $repo; do sed -i \"s|^|###pve###|g\" $o \u003e /dev/null 2\u003e\u00261; done","        echo \"[PVE]","name = PVE","baseurl = file://$int_arch_pack_dir/$os_codename","enabled = 1","gpgcheck = 0\" \u003e /etc/yum.repos.d/pve.repo","        # обновление списка пакетов","        yum makecache \u003e /dev/null 2\u003e\u00261","      ;;","      altlinux)","        # отключаем все репозитории и включаем локальный","        echo_info \"Отключаем все репозитории и подключаем локальный $int_arch_pack_dir\"","        repo=$(grep -rliE \"^[ ]*rpm.+\" /etc/apt/sources.list* 2\u003e/dev/null); [[ ! -z $repo ]] \u0026\u0026 for o in $repo; do sed -i \"s|^[ ]*rpm|###pve###rpm|\" $o \u003e /dev/null 2\u003e\u00261; done","        echo \"rpm file://$int_arch_pack_dir $os_codename pve\" \u003e /etc/apt/sources.list.d/pve.list || echo_error \"Ошибка настройки репозитория\"","        # очищаем локальный кеш пакетов","        rm -rf /var/cache/apt/archives/*.rpm \u0026\u003e /dev/null","        # обновление списка пакетов","        apt-get update \u003e /dev/null 2\u003e\u00261","      ;;","    esac","  # удаление локального","  elif [ $1 == \"remlocal\" ]; then","    case $os_install in","      centos7)","        echo_info \"Настройка списка репозиториев в исходное состояние\"","        repo=$(grep -rliE \"^###pve###$\" /etc/yum.repos.d/* 2\u003e/dev/null); [[ ! -z $repo ]] \u0026\u0026 for o in $repo; do sed -i -r \"s|^(###pve###)+||\" $o \u003e /dev/null 2\u003e\u00261; done","        repo=$(grep -rliE \"^###pve###$\" /etc/distro.repos.d/* 2\u003e/dev/null); [[ ! -z $repo ]] \u0026\u0026 for o in $repo; do sed -i -r \"s|^(###pve###)+||\" $o \u003e /dev/null 2\u003e\u00261; done","        rm -f /etc/yum.repos.d/pve.repo \u0026\u003e /dev/null","      ;;","      debian)","        # включаем все репозитории и отключаем локальный","        echo_info \"Настройка списка репозиториев в исходное состояние\"","        repo=$(grep -rliE \"^###pve###deb.+\" /etc/apt/sources.list* 2\u003e/dev/null); [[ ! -z $repo ]] \u0026\u0026 for o in $repo; do sed -i \"s|^###pve###deb|deb|\" $o \u003e /dev/null 2\u003e\u00261; done","        rm -f /etc/apt/sources.list.d/pve.list \u0026\u003e /dev/null","      ;;","      rhel)","        echo_info \"Настройка списка репозиториев в исходное состояние\"","        repo=$(grep -rliE \"^###pve###$\" /etc/yum.repos.d/* 2\u003e/dev/null); [[ ! -z $repo ]] \u0026\u0026 for o in $repo; do sed -i -r \"s|^(###pve###)+||\" $o \u003e /dev/null 2\u003e\u00261; done","        repo=$(grep -rliE \"^###pve###$\" /etc/distro.repos.d/* 2\u003e/dev/null); [[ ! -z $repo ]] \u0026\u0026 for o in $repo; do sed -i -r \"s|^(###pve###)+||\" $o \u003e /dev/null 2\u003e\u00261; done","        rm -f /etc/yum.repos.d/pve.repo \u0026\u003e /dev/null","      ;;","      altlinux)","        # включаем все репозитории и отключаем локальный","        echo_info \"Настройка списка репозиториев в исходное состояние\"","        repo=$(grep -rliE \"^###pve###rpm.+\" /etc/apt/sources.list* 2\u003e/dev/null); [[ ! -z $repo ]] \u0026\u0026 for o in $repo; do sed -i \"s|^###pve###rpm|rpm|\" $o \u003e /dev/null 2\u003e\u00261; done","        rm -f /etc/apt/sources.list.d/pve.list \u0026\u003e /dev/null","      ;;","    esac","  fi","}","","# проверка драйвера на GPU","function check_installed_gpu {","  if [ ! -z \"$1\" ]; then","    # проверка наличия карты в системе","    echo_info \"Проверка наличия видеокарт(ы) NVIDIA в системе\"","    lGPU=$(lspci 2\u003e /dev/null | grep -iEo \".+(3d|vga).+controller.+nvidia.+\")","    [[ -z \"$lGPU\" ]] \u0026\u0026 echo_error \"Не найдено ни одной видеокарты NVIDIA в системе\" || echo $lGPU","    # проверка корректности установленного драйвера","    echo_info \"Проверка корректности установленного драйвера NVIDIA\"","    [[ $(lsmod 2\u003e /dev/null | grep -ic nvidia) -eq 0 ]] \u0026\u0026 echo_error \"Модуль ядра видео драйвера NVIDIA не загружен\"","    cat /proc/driver/nvidia/version 2\u003e/dev/null","    echo_info \"Проверка корректности инициализации видеокарт(ы) драйвером\"","    dGPU=$(ls /proc/driver/nvidia/gpus 2\u003e /dev/null)","    [[ -z \"$dGPU\" ]] \u0026\u0026 echo_error \"Драйвер NVIDIA не инициализировал ни одной видеокарты\"","    for d in $dGPU; do cat \"/proc/driver/nvidia/gpus/$d/information\" 2\u003e /dev/null \u0026\u0026 echo; done","    # проверка версии CUDA Toolkit","    echo_info \"Проверка установки CUDA Toolkit\"","    iCU=$(echo $1 | tr -d cu 2\u003e/dev/null)","    mapfile -t install_nvcc \u003c \u003c(find /usr -path '*cuda*' -regex '.*/cuda-[0-9.]*' -type d 2\u003e/dev/null)","    # проверка корректности установки CUDA Toolkit","    [[ ${#install_nvcc[@]} -gt 1 ]] \u0026\u0026 for s in \"${install_nvcc[@]}\"; do tree -L 1 --noreport 2\u003e/dev/null $s \u0026\u0026 echo || echo $s; done \u0026\u0026 echo_error \"Найдено несколько версий CUDA Toolkit. Необходимо оставить одну\"","    [[ ${#install_nvcc[@]} -eq 0 || -z \"$(${install_nvcc[0]}/bin/nvcc --version 2\u003e/dev/null)\" ]] \u0026\u0026 echo_error \"CUDA Toolkit не установлен\"","    basename ${install_nvcc[0]} 2\u003e/dev/null | awk -F'-' '{print \"CUDA Toolkit: v\"$NF}' 2\u003e/dev/null","    # определяем версию CUDA Toolkit (должен быть \u003c= версии CUDA, поддерживаемой драйвером)","    vCUDAt=$(grep -iEo \"CUDA_VERSION[ ]*[0-9.]+\" -m1 $(find ${install_nvcc[0]} -iname cuda.h -type f 2\u003e/dev/null | head -1 2\u003e/dev/null) 2\u003e/dev/null | sed -e 's/CUDA_VERSION\\s*//i' -e 's/\\.//g' 2\u003e/dev/null)","    # сравнение версии CUDA Toolkit с ключем установки","    [[ -z \"$iCU\" || (! -z \"$vCUDAt\" \u0026\u0026 $iCU -ne $(($vCUDAt / 1000))) ]] \u0026\u0026 echo_error \"Версия CUDA Toolkit, в системе, не совпадает с ключом установки $1\"","    # сравнение версии CUDA Toolkit с версией, поддерживаемой драйвером","    vCUDAd=($(awk 'BEGIN {IGNORECASE=1} {if (FILENAME != \"\") {if (match($0, /release[ ]*[0-9.]+/)) {ver=substr($0, RSTART, RLENGTH); gsub(/release[ ]*/, \"\", ver); gsub(/\\./, \" \", ver); print ver }}}' $(find /usr -iname libnvidia-ptxjitcompiler.so.? 2\u003e/dev/null) 2\u003e/dev/null))","    if [[ ! -z \"$vCUDAd\" \u0026\u0026 ${#vCUDAd[@]} -gt 0 ]]; then","      [ ${#vCUDAd[@]} -eq 1 ] \u0026\u0026 vCUDAd=(${vCUDAd[@]} 0)","      echo \"CUDA Driver: v\"$(echo ${vCUDAd[@]} | tr ' ' '.')","      [[ ! -z \"$vCUDAt\" \u0026\u0026 $vCUDAt -gt $(($((${vCUDAd[0]} * 1000)) + $((${vCUDAd[1]} * 10)))) ]] \u0026\u0026 echo_error \"Версия CUDA Toolkit должна быть меньше или равна версии, поддерживаемой драйвером\"","    fi","    echo_info \"Проверка установки CUDnn\"","    # определяем установлен ли CUDnn","    [[ -z \"$(find /usr -iname cudnn*.h)\" ]] \u0026\u0026 echo_warning \"CUDnn не установлен\" || echo \"ОК\"","  fi","}","","# установка системных пакетов","function install_pac {","  cd $script_dir 2\u003e /dev/null || echo_error \"$script_dir нет такой директории\"","  case $os_install in","    centos7)","      # проверка на \"битые\" и прерванные установки","      yum-complete-transaction --cleanup-only 2\u003e /dev/null","      # создаем деррикторию репозитория, куда будем выгружать пакеты","      if [ ! -z $2 ]; then","        mkdir -p $int_arch_pack_dir/$os_codename/Packages \u0026\u003e /dev/null","        [ ! -d \"$int_arch_pack_dir/$os_codename/Packages\" ] \u0026\u0026 echo_error \"$int_arch_pack_dir/$os_codename/Packages нет такой директории\"","      fi","      # установка основных системных пакетов","      # if [ \"$1\" == \"system\" ]; then","      #   for (( i=0; i\u003c\"${#packages_system_centos7[@]}\"; i++ )); do","      #     echo_info \"Установка ${packages_system_centos7[i]}\"","      #     if [ ! -z $2 ]; then yumdownloader --downloadonly --resolve --downloaddir \"$int_arch_pack_dir/$os_codename/Packages/\" --destdir \"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_system_centos7[i]} || yum install -y --downloadonly --downloaddir=\"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_system_centos7[i]} || echo_error \"Ошибка загрузки  ${packages_system_centos7[i]}\"; fi","      #     if [ ! -z $2 ]; then for p in $(repoquery --suggests ${packages_system_centos7[i]} |xargs -r); do yumdownloader --downloaddir \"$int_arch_pack_dir/$os_codename/Packages/\" --destdir \"$int_arch_pack_dir/$os_codename/Packages/\" $p || echo_error \"Ошибка загрузки ${packages_system_centos7[i]}\"; done; fi","      #     yum install -y ${packages_system_centos7[i]} || yum update -y ${packages_system_centos7[i]} || echo_error \"Ошибка установки ${packages_system_centos7[i]}\"","      #   done","      if [ \"$1\" == \"system\" ]; then","        for (( i=0; i\u003c\"${#packages_system_centos7[@]}\"; i++ )); do","          echo_info \"Установка ${packages_system_centos7[i]}\"","          if [ ! -z $2 ]; then yumdownloader --downloadonly --resolve --alldeps --downloaddir \"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_system_centos7[i]} || yum install -y --downloadonly --downloaddir=\"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_system_centos7[i]} || echo_error \"Ошибка загрузки ${packages_system_centos7[i]}\"; fi","          yum install -y ${packages_system_centos7[i]} || yum reinstall -y ${packages_system_centos7[i]} || echo_error \"Ошибка установки ${packages_system_centos7[i]}\"","        done","      # установка остальных пакетов","      # elif [ \"$1\" == \"main\" ]; then","      #   for (( i=0; i\u003c\"${#packages_main_centos7[@]}\"; i++ )); do","      #     echo_info \"Установка ${packages_main_centos7[i]}\"","      #     if [ ! -z $2 ]; then yumdownloader --downloadonly --resolve --downloaddir \"$int_arch_pack_dir/$os_codename/Packages/\" --destdir \"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_main_centos7[i]} || yum install -y --downloadonly --downloaddir=\"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_main_centos7[i]} || echo_error \"Ошибка загрузки  ${packages_main_centos7[i]}\"; fi","      #     if [ ! -z $2 ]; then for p in $(repoquery --suggests ${packages_main_centos7[i]} |xargs -r); do yumdownloader --downloaddir \"$int_arch_pack_dir/$os_codename/Packages/\" --destdir \"$int_arch_pack_dir/$os_codename/Packages/\" $p || echo_error \"Ошибка загрузки ${packages_main_centos7[i]}\"; done; fi","      #     yum install -y ${packages_main_centos7[i]} || yum update -y ${packages_main_centos7[i]} || echo_error \"Ошибка установки ${packages_main_centos7[i]}\"","      #   done","      # fi","      elif [ \"$1\" == \"main\" ]; then","        for (( i=0; i\u003c\"${#packages_main_centos7[@]}\"; i++ )); do","          echo_info \"Установка ${packages_main_centos7[i]}\"","          if [ ! -z $2 ]; then yumdownloader --downloadonly --resolve --alldeps --downloaddir \"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_main_centos7[i]} || yum install -y --downloadonly --downloaddir=\"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_system_centos7[i]} || echo_error \"Ошибка загрузки ${packages_main_centos7[i]}\"; fi","          yum install -y ${packages_main_centos7[i]} || yum reinstall -y ${packages_main_centos7[i]} || echo_error \"Ошибка установки ${packages_main_centos7[i]}\"","        done","      fi","    ;;","    debian)","      # установка основных системных пакетов","      if [ \"$1\" == \"system\" ]; then","        # ставим последнию версию c/c++ компилятора","        app_get_lib_tmp=$(apt_get_lib)","        echo_info \"Установка последней версии c/c++ компилятора\"","        if [ ! -z $2 ]; then DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef --reinstall -d -y $app_get_lib_tmp || echo_error \"Ошибка загрузки $app_get_lib_tmp\"; fi","        DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y $app_get_lib_tmp || echo_error \"Ошибка установки $app_get_lib_tmp\"","        for (( i=0; i\u003c\"${#packages_system_debian[@]}\"; i++ )); do","          echo_info \"Установка ${packages_system_debian[i]}\"","          if [ ! -z $2 ]; then DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef --reinstall -d -y ${packages_system_debian[i]} || echo_error \"Ошибка загрузки ${packages_system_debian[i]}\"; fi","          DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y ${packages_system_debian[i]} || \\","          DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y ${packages_system_debian[i]} --reinstall || echo_error \"Ошибка установки ${packages_system_debian[i]}\"","        done","      # установка остальных пакетов","      elif [ \"$1\" == \"main\" ]; then","        for (( i=0; i\u003c\"${#packages_main_debian[@]}\"; i++ )); do","          echo_info \"Установка ${packages_main_debian[i]}\"","          if [ ! -z $2 ]; then DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef --reinstall -d -y ${packages_main_debian[i]} || echo_error \"Ошибка загрузки ${packages_main_debian[i]}\"; fi","          DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y ${packages_main_debian[i]} || \\","          DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y ${packages_main_debian[i]} --reinstall || echo_error \"Ошибка установки ${packages_main_debian[i]}\"","        done","      fi","    ;;","    rhel)","      # проверка на \"битые\" и прерванные установки","      yum-complete-transaction --cleanup-only 2\u003e /dev/null","      # создаем деррикторию репозитория, куда будем выгружать пакеты","      if [ ! -z $2 ]; then","        mkdir -p $int_arch_pack_dir/$os_codename/Packages \u0026\u003e /dev/null","        [ ! -d \"$int_arch_pack_dir/$os_codename/Packages\" ] \u0026\u0026 echo_error \"$int_arch_pack_dir/$os_codename/Packages нет такой директории\"","      fi","      # установка основных системных пакетов","      # if [ \"$1\" == \"system\" ]; then","      #   for (( i=0; i\u003c\"${#packages_system_rhel[@]}\"; i++ )); do","      #     echo_info \"Установка ${packages_system_rhel[i]}\"","      #     if [ ! -z $2 ]; then yumdownloader --downloadonly --downloaddir \"$int_arch_pack_dir/$os_codename/Packages/\" --destdir \"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_system_rhel[i]} || yum install -y --downloadonly --downloaddir=\"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_system_rhel[i]} || echo_error \"Ошибка загрузки ${packages_system_rhel[i]}\"; fi","      #     if [ ! -z $2 ]; then for p in $(repoquery -R ${packages_system_rhel[i]} |xargs -r); do yumdownloader --downloaddir \"$int_arch_pack_dir/$os_codename/Packages/\" --destdir \"$int_arch_pack_dir/$os_codename/Packages/\" $p || echo_error \"Ошибка загрузки ${packages_system_rhel[i]}\"; done; fi","      #     yum install -y ${packages_system_rhel[i]} || yum update -y ${packages_system_rhel[i]} || echo_error \"Ошибка установки ${packages_system_rhel[i]}\"","      #   done","      if [ \"$1\" == \"system\" ]; then","        for (( i=0; i\u003c\"${#packages_system_rhel[@]}\"; i++ )); do","          echo_info \"Установка ${packages_system_rhel[i]}\"","          if [ ! -z $2 ]; then yumdownloader --downloadonly --resolve --alldeps --downloaddir \"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_system_rhel[i]} || yum install -y --downloadonly --downloaddir=\"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_system_rhel[i]} || echo_error \"Ошибка загрузки ${packages_system_rhel[i]}\"; fi","          yum install --allowerasing -y ${packages_system_rhel[i]} || yum reinstall --allowerasing -y ${packages_system_rhel[i]} || echo_error \"Ошибка установки ${packages_system_rhel[i]}\"","        done","      # установка остальных пакетов","      # elif [ \"$1\" == \"main\" ]; then","      #   for (( i=0; i\u003c\"${#packages_main_rhel[@]}\"; i++ )); do","      #     echo_info \"Установка ${packages_main_rhel[i]}\"","      #     if [ ! -z $2 ]; then yumdownloader --downloadonly --downloaddir \"$int_arch_pack_dir/$os_codename/Packages/\" --destdir \"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_main_rhel[i]} || yum install -y --downloadonly --downloaddir=\"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_main_rhel[i]} || echo_error \"Ошибка загрузки ${packages_main_rhel[i]}\"; fi","      #     if [ ! -z $2 ]; then for p in $(repoquery -R ${packages_main_rhel[i]} |xargs -r); do yumdownloader --downloaddir \"$int_arch_pack_dir/$os_codename/Packages/\" --destdir \"$int_arch_pack_dir/$os_codename/Packages/\" $p || echo_error \"Ошибка загрузки ${packages_main_rhel[i]}\"; done; fi","      #     # --allowerasing","      #     yum install -y ${packages_main_rhel[i]} || yum update -y ${packages_main_rhel[i]} || echo_error \"Ошибка установки  ${packages_main_rhel[i]}\"","      #   done","      # fi","      elif [ \"$1\" == \"main\" ]; then","        for (( i=0; i\u003c\"${#packages_main_rhel[@]}\"; i++ )); do","          echo_info \"Установка ${packages_main_rhel[i]}\"","          if [ ! -z $2 ]; then yumdownloader --downloadonly --resolve --alldeps --downloaddir \"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_main_rhel[i]} || yum install -y --downloadonly --downloaddir=\"$int_arch_pack_dir/$os_codename/Packages/\" ${packages_main_rhel[i]} || echo_error \"Ошибка загрузки ${packages_main_rhel[i]}\"; fi","          yum install --allowerasing -y ${packages_main_rhel[i]} || yum reinstall --allowerasing -y ${packages_main_rhel[i]} || echo_error \"Ошибка установки  ${packages_main_rhel[i]}\"","        done","      fi","    ;;","    altlinux)","      # установка основных системных пакетов","      if [ \"$1\" == \"system\" ]; then","        # ставим последнию версию c/c++ компилятора","        app_get_lib_tmp=$(apt_get_lib)","        echo_info \"Установка последней версии c/c++ компилятора\"","        if [ ! -z $2 ]; then apt-get install --reinstall -d -y $app_get_lib_tmp || echo_error \"Ошибка загрузки $app_get_lib_tmp\"; fi","        apt-get install -y $app_get_lib_tmp || echo_error \"Ошибка установки $app_get_lib_tmp\"","        for (( i=0; i\u003c\"${#packages_system_altlinux[@]}\"; i++ )); do","          echo_info \"Установка ${packages_system_altlinux[i]}\"","          if [ ! -z $2 ]; then apt-get install --reinstall -d -y ${packages_system_altlinux[i]} || echo_error \"Ошибка загрузки ${packages_system_altlinux[i]}\"; fi","          apt-get install -y ${packages_system_altlinux[i]} || apt-get install -y ${packages_system_altlinux[i]} --reinstall || echo_error \"Ошибка установки ${packages_system_altlinux[i]}\"","        done","      # установка остальных пакетов","      elif [ \"$1\" == \"main\" ]; then","        for (( i=0; i\u003c\"${#packages_main_altlinux[@]}\"; i++ )); do","          echo_info \"Установка ${packages_main_altlinux[i]}\"","          if [ ! -z $2 ]; then apt-get install --reinstall -d -y ${packages_main_altlinux[i]} || echo_error \"Ошибка загрузки ${packages_main_altlinux[i]}\"; fi","          apt-get install -y ${packages_main_altlinux[i]} || apt-get install -y ${packages_main_altlinux[i]} --reinstall || echo_error \"Ошибка установки ${packages_main_altlinux[i]}\"","        done","      fi","    ;;","  esac","}","","# создание временных директорий","function create_temp_dirs {","  cd $script_dir 2\u003e /dev/null || echo_error \"$script_dir нет такой директории\"","  if [ ! -d $int_arch_dir ]; then mkdir $int_arch_dir; fi","  if [ ! -d $int_arch_dir/packages ]; then mkdir $int_arch_dir/packages; fi","}","","# работа с файлом переменных для офлайн установки","function offline_env {","  cd $int_arch_dir 2\u003e /dev/null || echo_error \"$int_arch_dir нет такой директории\"","  # если файл с переменными не сущетвует","  # сохраняем","  if [ ! -f $int_arch_dir/env ]; then","    echo_info \"Создание внешнего файла конфигурации установки\"","    for i in $@; do","      echo $i \u003e\u003e $int_arch_dir/env 2\u003e /dev/null || echo_error \"Ошибка создания внешнего файла конфигурации установки\"","    done","  # иначе подгружаем","  else","    echo_info \"Подключение внешнего файла конфигурации установки\"","    . $int_arch_dir/env 2\u003e /dev/null || echo_error \"Ошибка подключения внешнего файла конфигурации установки\"","    [[ -z $int_pve_install_dir || -z $build_modules || -z $build_type ]] \u0026\u0026 echo_error \"Ошибка конфигурации установки\"","  fi","}","","# загрузка ffmpeg 5.1 для установки поверх 3.2. Актуально только для центос7","function download_ffmpeg {","  if [ $1 == \"online\" ]; then","    # в онлайн режиме загружаем архив просто рядом со скриптом","    cd $script_dir 2\u003e /dev/null || echo_error \"$script_dir нет такой директории\"","    case $os_install in","      centos7)","        echo_info \"Загрузка bin FFmpeg 5.1.2\"","        if ! $(for i in {1..5}; do curl -C - -L --connect-timeout 15 -# --output $script_dir/ffmpeg-5.1.2.tar.bz2 https://github.com/q3aql/ffmpeg-builds/releases/download/v5.1.2/ffmpeg-5.1.2-linux-gnu-64bit-build.tar.bz2 \u0026\u0026 echo true \u0026\u0026 break || echo false; done | tail -1); then","          echo_error \"Ошибка загрузки bin FFmpeg 5.1.2\"","        fi","      ;;","      debian)","      ;;","      rhel)","      ;;","      altlinux)","      ;;","    esac","  elif [ $1 == \"offline\" ]; then","    # для сборки оффлайн инсталлера загружаем архив в папку archive","    cd $int_arch_dir 2\u003e /dev/null || echo_error \"$int_arch_dir нет такой директории\"","    echo_info \"Загрузка bin FFmpeg 5.1.2\"","    if ! $(for i in {1..5}; do curl -C - -L --connect-timeout 15 -# --output $int_arch_dir/ffmpeg-5.1.2.tar.bz2 https://github.com/q3aql/ffmpeg-builds/releases/download/v5.1.2/ffmpeg-5.1.2-linux-gnu-64bit-build.tar.bz2 \u0026\u0026 echo true \u0026\u0026 break || echo false; done | tail -1); then","      echo_error \"Ошибка загрузки bin FFmpeg 5.1.2\"","    fi","  fi","}","","# установка ffmpeg 5.1","function install_ffmpeg {","  if [ $1 == \"online\" ]; then","    # в онлайн режиме устанавливает из директории скрипта","    cd $script_dir 2\u003e /dev/null || echo_error \"$script_dir нет такой директории\"","    case $os_install in","      centos7)","        # установка происходит просто рахорхивированием архива в корень","        echo_info \"Копирование bin FFmpeg 5.1.2 из архива\"","        tar jxvf $script_dir/ffmpeg-5.1.2.tar.bz2 -C / 2\u003e/dev/null || echo_error \"Ошибка копирования bin FFmpeg 5.1.2 из архива\"","      ;;","      debian)","      ;;","      rhel)","      ;;","      altlinux)","      ;;","    esac","  elif [ $1 == \"offline\" ]; then","    # в оффлайн ставим из папки archive","    cd $int_arch_dir 2\u003e /dev/null || echo_error \"$int_arch_dir нет такой директории\"","    case $os_install in","      centos7)","        # установка происходит просто рахорхивированием архива в корень","        echo_info \"Копирование bin FFmpeg 5.1.2 из архива\"","        tar jxvf $int_arch_dir/ffmpeg-5.1.2.tar.bz2 -C / 2\u003e/dev/null || echo_error \"Ошибка копирования bin FFmpeg 5.1.2 из архива\"","      ;;","      debian)","      ;;","      rhel)","      ;;","      altlinux)","      ;;","    esac","  fi","}","","# скачать пакеты","function download_pac {","  # ставим пакеты, с выгрузкой бинарных файлов","  install_pac system d; install_pac main d;","  cd $int_arch_pack_dir 2\u003e /dev/null || echo_error \"$script_dir нет такой директории\"","  case $os_install in","    centos7)","      # ставим пакеты для работы с репозиторием","      echo_info \"Установка createrepo\"","      yum install -y createrepo || echo_error \"Ошибка установки createrepo\"","      # обновляем метаинформации о пакетах","      echo_info \"Обновление метаинформации о пакетах\"","      createrepo -v $PWD/$os_codename || echo_error \"Ошибка обновления метаинформации о пакетах\"","    ;;","    debian)","      # создаем структуру каталогов репозитория и перемещаем пакеты","      architecture=$(dpkg --print-architecture)","      mkdir -p $PWD/dists/$os_codename/pve \u0026\u003e /dev/null","      mkdir -p $PWD/dists/$os_codename/pve/binary-$architecture \u0026\u003e /dev/null","      cp -p /var/cache/apt/archives/*.deb $PWD/dists/$os_codename/pve 2\u003e /dev/null || echo_error \"Ошибка копирование cache(а) пакетов apt-get\"","      # ставим пакеты для работы с репозиторием","      echo_info \"Установка dpkg-dev apt-utils\"","      apt-get install -y dpkg-dev apt-utils || echo_error \"Ошибка установки dpkg-dev apt-utils\"","      # обновляем метаинформации о пакетах","      echo_info \"Обновление метаинформации о пакетах\"","      #dpkg-scanpackages -t deb $PWD/dists/$os_codename/pve | gzip -c9 \u003e $PWD/dists/$os_codename/pve/Packages.gz || echo_error \"Ошибка обновления метаинформации о пакетах\"","      dpkg-scanpackages -a $architecture dists/$os_codename/pve \u003e $PWD/dists/$os_codename/pve/binary-$architecture/Packages 2\u003e/dev/null \u0026\u0026 \\","      dpkg-scanpackages -a $architecture dists/$os_codename/pve | gzip -c9 \u003e $PWD/dists/$os_codename/pve/binary-$architecture/Packages.gz 2\u003e/dev/null \u0026\u0026 \\","      dpkg-scanpackages -a $architecture dists/$os_codename/pve | bzip2 -c9 \u003e $PWD/dists/$os_codename/pve/binary-$architecture/Packages.bz2 2\u003e/dev/null || \\","      echo_error \"Ошибка обновления метаинформации о пакетах\"","      echo_info \"Генерации файла Release\"","      echo -n \"Origin: Unknown","Label: Unknown","Suite: Unknown","Codename: $os_codename","Architectures: $architecture","Components: pve","Description: Not Available","\" \u003e $PWD/dists/$os_codename/Release \u0026\u0026 apt-ftparchive release $PWD/dists/$os_codename \u003e\u003e $PWD/dists/$os_codename/Release || echo_error \"Ошибка генерации файла Release\"","    ;;","    rhel)","      # ставим пакеты для работы с репозиторием","      echo_info \"Установка createrepo\"","      yum install -y createrepo || echo_error \"Ошибка установки createrepo\"","      # обновляем метаинформации о пакетах","      echo_info \"Обновление метаинформации о пакетах\"","      createrepo -v $PWD/$os_codename || echo_error \"Ошибка обновления метаинформации о пакетах\"","    ;;","    altlinux)","      # создаем структуру каталогов репозитория и перемещаем пакеты","      mkdir -p $PWD/$os_codename/base \u0026\u003e /dev/null","      mkdir -p $PWD/$os_codename/RPMS.pve \u0026\u003e /dev/null","      cp -p /var/cache/apt/archives/*.rpm $PWD/$os_codename/RPMS.pve 2\u003e /dev/null || echo_error \"Ошибка копирование cache(а) пакетов apt-get\"","      # ставим пакеты для работы с репозиторием","      echo_info \"Установка apt-repo-tools\"","      apt-get install -y apt-repo-tools || echo_error \"Ошибка установки apt-repo-tools\"","      # обновляем метаинформации о пакетах","      echo_info \"Обновление метаинформации о пакетах\"","      genbasedir --bloat --progress --topdir=$PWD $os_codename pve || echo_error \"Ошибка обновления метаинформации о пакетах\"","    ;;","  esac","}","","function set_devpi_repo {","  # если доступен локальный репозиторий pip, подключаем его","  echo_info \"Подключение \\\"$python_devpi\\\" репозитория DevPI\"","  python_pip_repo=https://pypi.org/simple/","  [[ $(for i in {1..3}; do curl -s -o /dev/null -m 5 --connect-timeout 5 -w \"%{http_code}\" https://$python_devpi/devpi/root/pypi/+simple/ 2\u003e/dev/null \u0026\u0026 break || sleep 0.5; done | tail -1 | rev | cut -c 1-3 | rev) -eq 200 ]] \u0026\u0026 python_pip_repo=\"--index-url https://$python_devpi/devpi/root/pypi/+simple/ --trusted-host $python_devpi\" || \\","  echo_warning \"Ошибка подключения, репозиторий $python_devpi недоступен\"","}","","# определяем набор модулей python для установки","function list_pip3_modules {","  if [ -z $1 ]; then echo_error \"Ошибка определения набора модулей Python\"; fi","  # установка модулей питона из списка в массиве или из внешнего файла модулей","  if [[ -f $list_pip3_modules_ext \u0026\u0026 -z \"$build_modules\" ]]; then","    echo_info \"Существует внешний файл списока модулей pip3\"","    mapfile -t not_install \u003c $list_pip3_modules_ext","  elif [[ $1 == \"full\" || $1 == \"cpu\" || $1 == \"cu11\" || $1 == \"cu12\" || $1 == \"ups\" || $1 == \"urs\" || $1 == \"ses\" || $1 == \"online\" || $1 == \"offline\" ]]; then","    # набор модулей","    eval not_install=(\"\\${modules_pip3_$1[@]}\")","    # проверка версии компилятора, исключаем","    if [[ $(echo ${not_install[@]}) == *\"llama-cpp-python\"* \u0026\u0026 ($(g++ -std=\"c++17\" /dev/null 2\u003e\u00261) != *\"collect2\"* || $(g++ -dumpversion 2\u003e/dev/null| cut -c1) -le 8) ]]; then","      [ $1 == \"qas\" ] \u0026\u0026 echo_error \"Ваш C++ компилятор устарел. Можорная версия должна быть \u003e=9 с поддержкой стандарта \u003e=C++17. Окружение для OAS не поддерживается\"","      echo_warning \"Ваш C++ компилятор устарел. Можорная версия должна быть \u003e=9 с поддержкой стандарта \u003e=C++17. Окружение без поддержки QAS\"","      not_install=($(echo ${not_install[@]} | sed -r 's#(^| )llama-cpp-python[^ ]*##g'))","    fi","    # 2 набора модулей","    if [[ $2 == \"full\" || $2 == \"cpu\" || $2 == \"cu11\" || $2 == \"cu12\" || $2 == \"ups\" || $2 == \"urs\" || $2 == \"ses\" ]]; then","      echo_info \"Определение типа установки\"","      echo \"Установка: $1; собрано: $2\"","      modules_pip3_offline=\"${not_install[@]}\"; modules_pip3_online=\"\";","      eval not_install_tmp=\"\\${modules_pip3_$2[@]}\"","      for c in ${not_install[@]}; do","        if [ $(echo $not_install_tmp | grep -c \"$c\" -m1) -eq 0 ]; then","          modules_pip3_offline=$(echo $modules_pip3_offline | sed \"s/$c//\")","          modules_pip3_online=\"$modules_pip3_online $c\"","        fi","      done","      unset not_install","      unset not_install_tmp","      # настраиваем прокси","      if [ ! -z \"$modules_pip3_online\" ]; then","        echo_warning \"Требуется загрузить недостающие модули\"","        echo $modules_pip3_online","        proxy_configuration set","      fi","      modules_pip3_offline=($modules_pip3_offline)","      modules_pip3_online=($modules_pip3_online)","    fi","  fi","}","","# перенос pyenv из root директории","function download_pyenv {"," cd $script_dir 2\u003e /dev/null || echo_error \"$script_dir нет такой директории\""," # удаление всех версий питона из папки pyenv"," rm -rf $HOME/.pyenv/versions/*"," # перенос системного pyenv в папку формируемого архива"," cp -rp $HOME/.pyenv $int_arch_dir/ \u0026\u0026 rm -rf $HOME/.pyenv"," # создание папки кэш куда будет скачан архив для оффлайн установки версии питона"," mkdir $int_arch_dir/.pyenv/cache"," # перенос архива установки питона в папку кэш(установщик там ищет архив)"," case $os_install in","  centos7)","    mv $int_arch_dir/.pyenv/sources/$python_ver_centos/Python-$python_ver_centos.tar.xz $int_arch_dir/.pyenv/cache","    ;;","  debian)","    mv $int_arch_dir/.pyenv/sources/$python_ver_debian/Python-$python_ver_debian.tar.xz $int_arch_dir/.pyenv/cache","    ;;","  rhel)","    mv $int_arch_dir/.pyenv/sources/$python_ver_rhel/Python-$python_ver_rhel.tar.xz $int_arch_dir/.pyenv/cache","    ;;","  altlinux)","    mv $int_arch_dir/.pyenv/sources/$python_ver_altlinux/Python-$python_ver_altlinux.tar.xz $int_arch_dir/.pyenv/cache","    ;;"," esac","}","","# скачивание модулей python","function download_modules {","  cd $script_dir 2\u003e /dev/null || echo_error \"$script_dir нет такой директории\"","  # подключаем локальный pip репозиторий","  set_devpi_repo","  # переход локально на $python_ver_дистрибутив","  case $os_install in","    centos7)","      pyenv local $python_ver_centos","    ;;","    debian)","      pyenv local $python_ver_debian","    ;;","    rhel)","      pyenv local $python_ver_rhel","    ;;","    altlinux)","      pyenv local $python_ver_altlinux","    ;;","  esac","  # удаляем старый кеш pip","  rm -rf $HOME/.cache/pip \u0026\u003e /dev/null","  # временные папки","  echo_info \"Создание временной дерриктории $temp_dir\"","  mkdir $temp_dir 2\u003e\u00261 \u003e/dev/null || echo_error \"Ошибка создание временной дерриктории $temp_dir\"","  echo_info \"Создание временной дерриктории $temp_dir/modules\"","  mkdir $temp_dir/modules 2\u003e\u00261 \u003e/dev/null || echo_error \"Ошибка создание временной дерриктории $temp_dir/modules\"","  # создание окружения на базе питона","  echo_info \"Создание временного PVE окружения в $temp_dir\"","  TMPDIR=/var/tmp python3 -m venv $temp_dir","  # установка всех модулей","   if $(source $temp_dir/bin/activate \u003e/dev/null 2\u003e\u00261 \u0026\u0026 deactivate \u0026\u0026 echo false || echo true); then","    echo_error \"Ошибка создания временного PVE окружения\"","   fi","   source $temp_dir/bin/activate","    # обновление pip3 и других модулей, без их установки не загрузятся модули","    for i in \"pip\" \"wheel\" \"scikit-build\" \"setuptools_rust\" \"setuptools\" \"cython\" \"tomli\"; do","      TMPDIR=/var/tmp python3 -m pip install --no-cache-dir $python_pip_repo --upgrade $i --retries 60 --timeout 60 2\u003e\u00261 \u003e/dev/null","    done","    # создаем файл типа устаноки, для детектирования офлайн установки","    list_pip3_modules $1;","    cd $temp_dir/modules; f_done=0","    # предпринемаем 3 попытки на установку модулей","    while [[ ! -z $not_install \u0026\u0026 $f_done -lt 3 ]]; do","      for (( i=0; i\u003c\"${#not_install[@]}\"; i++ )); do","        pip_modules=$(echo ${not_install[i]} | tr '|' ' ')","        echo_info \"Загрузка модуля(ей) Python $pip_modules\"","        # загрузка torch","        if [ $(echo $pip_modules | grep -cE \"(^| )torch.*\\+(cpu|cu[0-9]+)\") -ne 0 ]; then","          TMPDIR=/var/tmp python3 -m pip download --index-url https://download.pytorch.org/whl/$(echo $pip_modules | grep -Eo \"(cpu|cu[0-9]+) -m1\") \\","          $(echo $python_pip_repo | sed \"s#--index-url#--extra-index-url#\") $pip_modules --timeout 60 || \\","          (echo_warning \"Ошибка загрузки модуля(ей) Python $pip_modules\" \u0026\u0026 not_install_tmp=\"$not_install_tmp ${not_install[i]}\")","        elif [ $(echo $pip_modules | grep -cE \"(^| )llama-cpp-python-cu\") -ne 0 ]; then","            not_install[i]=$(echo ${not_install[i]} | sed 's/llama-cpp-python-cu/llama-cpp-python/')","            TMPDIR=/var/tmp python3 -m pip download $python_pip_repo $(echo $pip_modules | sed 's/llama-cpp-python-cu/llama-cpp-python/') --timeout 60 || (echo_warning \"Ошибка загрузки модуля(ей) Python $pip_modules\" \u0026\u0026 not_install_tmp=\"$not_install_tmp ${not_install[i]}\")","        else","          TMPDIR=/var/tmp python3 -m pip download $python_pip_repo $pip_modules --timeout 60 || (echo_warning \"Ошибка загрузки модуля(ей) Python $pip_modules\" \u0026\u0026 not_install_tmp=\"$not_install_tmp ${not_install[i]}\")","        fi","      done","      not_install=($not_install_tmp); f_done=$(($f_done + 1)); unset not_install_tmp","    done","    # если за 3 попытки не удалось загрузить нужные модули","    [[ -z $not_install \u0026\u0026 $f_done -ge 3 ]] \u0026\u0026 echo_error \"Ошибка загрузки модуля(ей) Python ${not_install[@]}\"","  deactivate","  # переход локально на системную версию чтобы не сломать то что уже работает на системной","  pyenv local system","  rm -rf .python-version","  cd $script_dir 2\u003e /dev/null || echo_error \"$script_dir нет такой директории\"","  # перемещение с временной папки в основную папку архива","  cp -rp $temp_dir/modules $int_arch_dir/","  # удаление временной папки","  rm -rf $temp_dir","}","","function export_pyenv_enviroment {","  export PYENV_ROOT=\"$HOME/.pyenv\" \u0026\u0026  export PATH=\"$PYENV_ROOT/bin:$PATH\"","  eval \"$(pyenv init -)\"","}","","function install_pyenv {","  cd $script_dir 2\u003e /dev/null || echo_error \"$script_dir нет такой директории\"","  # удаляем старый кеш pip","  rm -rf $HOME/.cache/pip \u0026\u003e /dev/null","  # онлайн установка","  if [ $1 == \"online\" ]; then","    echo_info \"Загрузка и установка Pyenv\"","    rm -rf $HOME/.pyenv \u0026\u0026 export_pyenv_enviroment \u003e/dev/null 2\u003e\u00261 \u0026\u0026 for i in {1..3}; do curl --connect-timeout 15 https://pyenv.run 2\u003e/dev/null \u0026\u0026 break || sleep 0.5; done | bash 2\u003e\u00261 \u0026\u0026 export_pyenv_enviroment \u003e/dev/null 2\u003e\u00261 \u0026\u0026 sleep 0.5 || echo_error \"Ошибка загрузки и установки Pyenv\"","    # установка питона с сохранением исходников ключ -k","    case $os_install in","      centos7)","        # создание дерриктории","        mkdir -p \"/root/.pyenv/versions/$python_ver_centos/bin\"","        echo_info \"Pyenv: загрузка и установка версии Python$python_ver_centos\"","        # проверка наличия нужной версии питона в репозитории pyenv","        if [ \"`pyenv install --list 2\u003e /dev/null | sed 's/^ *//g' | grep ^$python_ver_centos`\" == \"$python_ver_centos\" ]; then","          CPPFLAGS=\"-I/usr/include/openssl11\" LDFLAGS=\"-L/usr/lib64/openssl11 -lssl -lcrypto\" pyenv install -k -f $python_ver_centos 2\u003e\u00261","         else","          echo_error \"Pyenv: нет такой версии Python$python_ver_centos\"","        fi","      ;;","      debian)","        # создание дерриктории","        mkdir -p \"/root/.pyenv/versions/$python_ver_debian/bin\"","        echo_info \"Pyenv: загрузка и установка версии Python$python_ver_debian\"","        if [ \"`pyenv install --list 2\u003e /dev/null | sed 's/^ *//g' | grep ^$python_ver_debian`\" == \"$python_ver_debian\" ]; then","          pyenv install -k -f $python_ver_debian 2\u003e\u00261","         else","          echo_error \"Pyenv: нет такой версии Python$python_ver_debian\"","        fi","      ;;","      rhel)","        # создание дерриктории","        mkdir -p \"/root/.pyenv/versions/$python_ver_rhel/bin\"","        echo_info \"Pyenv: загрузка и установка версии Python$python_ver_rhel\"","        if [ \"`pyenv install --list 2\u003e /dev/null | sed 's/^ *//g' | grep ^$python_ver_rhel`\" == \"$python_ver_rhel\" ]; then","          pyenv install -k -f $python_ver_rhel 2\u003e\u00261","         else","          echo_error \"Pyenv: нет такой версии Python$python_ver_rhel\"","        fi","      ;;","      altlinux)","        # создание дерриктории","        mkdir -p \"/root/.pyenv/versions/$python_ver_altlinux/bin\"","        echo_info \"Pyenv: загрузка и установка версии Python$python_ver_altlinux\"","        if [ \"`pyenv install --list 2\u003e /dev/null | sed 's/^ *//g' | grep ^$python_ver_altlinux`\" == \"$python_ver_altlinux\" ]; then","          pyenv install -k -f $python_ver_altlinux 2\u003e\u00261","         else","          echo_error \"Pyenv: нет такой версии Python$python_ver_altlinux\"","        fi","      ;;","    esac","    # оффлайн установка","    elif [ $1 == \"offline\" ]; then","      # перенести установленную версию pyenv в хом рута","      cp -rp $int_arch_dir/.pyenv /root \u0026\u0026 rm -rf $int_arch_dir/.pyenv","      # прописывание pyenv окружения (действует до первой перезагрузки)","      export_pyenv_enviroment","      # установка питона","      case $os_install in","        centos7)","          echo_info \"Pyenv: установка версии Python$python_ver_centos\"","          # проверка наличия нужной версии питона в репозитории pyenv","          if [ \"`pyenv install --list | sed 's/^ *//g' | grep ^$python_ver_centos`\" == \"$python_ver_centos\" ]; then","            CPPFLAGS=\"-I/usr/include/openssl11\" LDFLAGS=\"-L/usr/lib64/openssl11 -lssl -lcrypto\" pyenv install -s -f $python_ver_centos 2\u003e\u00261","          else","            echo_error \"Pyenv: нет такой версии Python$python_ver_centos\"","          fi","        ;;","        debian)","          echo_info \"Pyenv: установка версии Python$python_ver_debian\"","          if [ \"`pyenv install --list | sed 's/^ *//g' | grep ^$python_ver_debian`\" == \"$python_ver_debian\" ]; then","            pyenv install -s -f $python_ver_debian 2\u003e\u00261","          else","            echo_error \"Pyenv: нет такой версии Python$python_ver_debian\"","          fi","        ;;","        rhel)","          echo_info \"Pyenv: установка версии Python$python_ver_rhel\"","          if [ \"`pyenv install --list | sed 's/^ *//g' | grep ^$python_ver_rhel`\" == \"$python_ver_rhel\" ]; then","            pyenv install -s -f $python_ver_rhel 2\u003e\u00261","          else","            echo_error \"Pyenv: нет такой версии Python$python_ver_rhel\"","          fi","        ;;","        altlinux)","          echo_info \"Pyenv: установка версии Python$python_ver_altlinux\"","          if [ \"`pyenv install --list | sed 's/^ *//g' | grep ^$python_ver_altlinux`\" == \"$python_ver_altlinux\" ]; then","            pyenv install -s -f $python_ver_altlinux 2\u003e\u00261","          else","            echo_error \"Pyenv: нет такой версии Python$python_ver_altlinux\"","          fi","        ;;","      esac","  fi","}","","# установка pve окружения","function install_pve {","  cd $script_dir 2\u003e /dev/null || echo_error \"$script_dir нет такой директории\"","  # удаляем старый кеш pip","  rm -rf $HOME/.cache/pip \u0026\u003e /dev/null","  list_pip3_modules $3;","  # оффлайн установка","  if [ $1 == \"offline\" ]; then","    # переход локально","    case $os_install in","      centos7)","        pyenv local $python_ver_centos","      ;;","      debian)","        pyenv local $python_ver_debian","      ;;","      rhel)","        pyenv local $python_ver_rhel","      ;;","      altlinux)","        pyenv local $python_ver_altlinux","      ;;","        esac","    # создание окружения на базе питона","    if $(source $2/bin/activate \u003e/dev/null 2\u003e\u00261 \u0026\u0026 deactivate \u0026\u0026 echo false || echo true); then","      echo_info \"Создание виртуального PVE окружения в $2\"","      TMPDIR=/var/tmp python3 -m venv $2 \u0026\u0026 sleep 0.5","      # установка модулей","      if $(source $2/bin/activate \u003e/dev/null 2\u003e\u00261 \u0026\u0026 deactivate \u0026\u0026 echo false || echo true); then","        echo_error \"Ошибка создания виртуального PVE окружения\"","      fi","    fi","    source $2/bin/activate","      f_done=0","      cd $int_arch_dir/modules 2\u003e /dev/null || echo_error \"$script_dir нет такой директории\"","      # обновление pip3","      TMPDIR=/var/tmp python3 -m pip install --no-cache-dir --upgrade pip --no-index --find-links '.' --retries 60 --timeout 60 2\u003e\u00261 \u003e/dev/null","      # предпринемаем 3 попытки на установку модулей","      while [[ ! -z $not_install \u0026\u0026 $f_done -lt 3 ]]; do","        for (( i=0; i\u003c\"${#not_install[@]}\"; i++ )); do","          pip_modules=$(echo ${not_install[i]} | tr '|' ' ')","          echo_info \"Установка модуля(ей) Python $pip_modules\"","          if [ $(echo $pip_modules | grep -cE \"(^| )llama-cpp-python-cu\") -ne 0 ]; then","            TMPDIR=/var/tmp CUDACXX=${install_nvcc[0]} CMAKE_ARGS=\"-DGGML_CUDA=on\" FORCE_CMAKE=1 python3 -m pip install --no-cache-dir $(echo $pip_modules | sed 's/llama-cpp-python-cu/llama-cpp-python/') --no-index --find-links '.' --retries 60 --timeout 60 || echo_warning \"Ошибка установкимодуля(ей) Python $pip_modules\"","          else","            TMPDIR=/var/tmp python3 -m pip install --no-cache-dir $pip_modules --no-index --find-links '.' --retries 60 --timeout 60 || echo_warning \"Ошибка установкимодуля(ей) Python $pip_modules\"","          fi","        done","        # контроль установки","        module_install=$(pip3 list | tr -s '\\r\\n' ' ')","        for i in ${not_install[@]}; do","          for j in $(echo $i | tr '|' ' '); do","            s=$(echo $j | sed 's/==/ /'); ss=($s)","            if [[ $module_install != *\"$s\"* \u0026\u0026 $module_install != *\"$(echo $s | tr '-' '_')\"* \u0026\u0026 $module_install != *\"$(echo $s | sed 's/llama-cpp-python-cu/llama_cpp_python/')\"* ]]; then [ -z \"$(find \"$2/lib\" -maxdepth 3 -name \"${ss[0]}*\" 2\u003e/dev/null)\" ]  \u0026\u0026 not_install_tmp=\"$not_install_tmp $i\"; break; fi","          done","        done","        not_install=($not_install_tmp); f_done=$(($f_done + 1)); unset not_install_tmp","      done","      # если за 3 попытки не удалось поставить нужные модули","      [[ -z $not_install \u0026\u0026 $f_done -ge 3 ]] \u0026\u0026 echo_error \"Ошибка установки модуля(ей) Python ${not_install[@]}\"","    deactivate","    # переход локально на системную версию чтобы не сломать то что уже работает на системной","    pyenv local system","   # онлайн установка pve","  elif [[ ($1 == \"online\" \u0026\u0026 -z $modules_pip3_online \u0026\u0026 -z $modules_pip3_offline) || ($1 == \"online\" \u0026\u0026 ! -z $modules_pip3_online \u0026\u0026 ! -z $modules_pip3_offline) ]]; then","    # подключаем локальный pip репозиторий","    set_devpi_repo","    # переход локально на версию питона установленную через pyenv","    # указывает системе работать с версией питона установленного в pyenv","    case $os_install in","      centos7)","        pyenv local $python_ver_centos","        python_ver_check=$python_ver_centos","      ;;","      debian)","        pyenv local $python_ver_debian","        python_ver_check=$python_ver_debian","      ;;","      rhel)","        pyenv local $python_ver_rhel","        python_ver_check=$python_ver_rhel","      ;;","      altlinux)","        pyenv local $python_ver_altlinux","        python_ver_check=$python_ver_altlinux","      ;;","    esac","    # создание виртуального питон окружения в папке","    if $(source $2/bin/activate \u003e/dev/null 2\u003e\u00261 \u0026\u0026 deactivate \u0026\u0026 echo false || echo true); then","      echo_info \"Создание виртуального PVE окружения в $2\"","      TMPDIR=/var/tmp python3 -m venv $2 \u0026\u0026 sleep 0.5","      # установка модулей","      if $(source $2/bin/activate \u003e/dev/null 2\u003e\u00261 \u0026\u0026 deactivate \u0026\u0026 echo false || echo true); then","        echo_error \"Ошибка создания виртуального PVE окружения\"","      fi","    fi","    source $2/bin/activate","      f_done=0","      # проверка на правельную версию Python в окружение, нет смысла выкачивать модули если не совпадает","      [ $(python3 --version | grep -c \"$python_ver_check\") -eq 0 ] \u0026\u0026 echo_error \"Ошибка, установленная версия Python, окружения, не совпадает с $python_ver_check\"","      for i in {1..3}; do curl -sS --connect-timeout 15 https://bootstrap.pypa.io/pip/get-pip.py 2\u003e/dev/null \u0026\u0026 break || sleep 0.5; done | python3","      # обновление pip3","      TMPDIR=/var/tmp python3 -m pip install --no-cache-dir $python_pip_repo --upgrade pip --retries 60 --timeout 60 2\u003e\u00261 \u003e/dev/null","      # предпринемаем 3 попытки на установку модулей","      while [[ ! -z $not_install \u0026\u0026 $f_done -lt 3 ]]; do","        for (( i=0; i\u003c${#not_install[@]}; i++ )); do","          pip_modules=$(echo ${not_install[i]} | tr '|' ' ')","          echo_info \"Установка модуля(ей) Python $pip_modules\"","          # загрузка torch","          if [ $(echo $pip_modules | grep -cE \"(^| )torch.*\\+(cpu|cu[0-9]+)\") -ne 0 ]; then","            TMPDIR=/var/tmp python3 -m pip install --no-cache-dir --index-url https://download.pytorch.org/whl/$(echo $pip_modules | grep -Eo \"(cpu|cu[0-9]+) -m1\") \\","            $(echo $python_pip_repo | sed \"s#--index-url#--extra-index-url#\") $pip_modules --retries 60 --timeout 60 || \\","            echo_warning \"Ошибка установки модуля(ей) Python $pip_modules\"","          elif [ $(echo $pip_modules | grep -cE \"(^| )llama-cpp-python-cu\") -ne 0 ]; then","            TMPDIR=/var/tmp CUDACXX=${install_nvcc[0]} CMAKE_ARGS=\"-DGGML_CUDA=on\" FORCE_CMAKE=1 python3 -m pip install --no-cache-dir $python_pip_repo $(echo $pip_modules | sed 's/llama-cpp-python-cu/llama-cpp-python/') --retries 60 --timeout 60 || echo_warning \"Ошибка установки модуля(ей) Python $pip_modules\"","          else","            TMPDIR=/var/tmp python3 -m pip install --no-cache-dir $python_pip_repo $pip_modules --retries 60 --timeout 60 || echo_warning \"Ошибка установки модуля(ей) Python $pip_modules\"","          fi","        done","        # контроль установки","        module_install=$(pip3 list | tr -s '\\r\\n' ' ')","        for i in ${not_install[@]}; do","          for j in $(echo $i | tr '|' ' '); do","            s=$(echo $j | sed 's/==/ /'); ss=($s)","            if [[ $module_install != *\"$s\"* \u0026\u0026 $module_install != *\"$(echo $s | tr '-' '_')\"* \u0026\u0026 $module_install != *\"$(echo $s | sed 's/llama-cpp-python-cu/llama_cpp_python/')\"* ]]; then [ -z \"$(find \"$2/lib\" -maxdepth 3 -name \"${ss[0]}*\" 2\u003e/dev/null)\" ]  \u0026\u0026 not_install_tmp=\"$not_install_tmp $i\"; break; fi","          done","        done","        not_install=(\"$not_install_tmp\"); f_done=$(($f_done + 1)); unset not_install_tmp","      done","      # если за 3 попытки не удалось поставить нужные модули","      [ $f_done -ge 3 ] \u0026\u0026 echo_error \"Ошибка установки модуля(ей) Python ${not_install[@]}\"","    deactivate","    # переход локально на системную версию чтобы не сломать то что уже работает на системной","    pyenv local system","    # правим пути, актуально для оффлайн сборки","    to_install_dir=$(echo $2 | sed \"s#$int_arch_dir##\")","    if [ $to_install_dir != $2 ]; then sed -i \"s#$2#$to_install_dir#g\" $2/bin/*; fi","  fi","}","","# создание архива для включения в скрипт оффлайн установки","function create_arсhive {","  cd $script_dir 2\u003e /dev/null || echo_error \"$script_dir нет такой директории\"","  echo_info \"Создание архива $int_service_name-${int_version}-${int_release}.tar.gz\"","  tar -vzcf \"$script_dir/$int_service_name-${int_version}-${int_release}.tar.gz\" -C $1 $(ls -A $1) --remove-files 2\u003e /dev/null | grep -Gv \"/$\" || echo_error \"Ошибка создания архива $int_service_name-${int_version}-${int_release}.tar.gz\"","  rm -rf $1 2\u003e /dev/null","}","","# распаковка внутреннего архива","function extract_archive {","  # смещение в байтах до архива","  PAYLOAD_LINE=$(awk '{print $0}/^__PAYLOAD_BEGINS__/{exit 0}' $actual_path | wc -c)","  # сверка хеш суммы архива","  # [[ $(dd if=\"$actual_path\" bs=1M skip=${PAYLOAD_LINE} iflag=skip_bytes 2\u003e /dev/null | md5sum | cut -d' ' -f1) != $int_arch_md5 ]] \u0026\u0026 echo_error \"Ошибка, не соотвествие хеш суммы внутреннего архива\"","  # распаковать в каталог","  if [[ ! -z \"$1\" \u0026\u0026 \"$1\" == \"dir\" ]]; then","    echo_info \"Распаковка внутреннего архива в $2\"","    mkdir -p $2 2\u003e /dev/null","    dd if=\"$actual_path\" bs=1M skip=${PAYLOAD_LINE} iflag=skip_bytes 2\u003e /dev/null | tar -vxz --directory=\"$2\" 2\u003e /dev/null | grep -Gv \"/$\" || echo_error \"Ошибка распаковки внутреннего архива в $2\"","  else","    # скопировать архив рядом со скриптом не распаковывая его","    echo_info \"Копирование внутреннего архива в каталог со скриптом\"","    dd if=\"$actual_path\" of=\"$script_dir/$int_service_name-${int_version}-${int_release}.tar.gz\" bs=1M skip=${PAYLOAD_LINE} iflag=skip_bytes status=progress || echo_error \"Ошибка копирования внутреннего архива в каталог со скриптом\"","  fi","}","","# врезать в скрипт внешний архив","function pack_archive {","  # обновляем значение хеш суммы архива в скрипте","  if [ ! -z $2 ]; then","    script_name=\"$int_service_name-${int_version}-${int_release}$2.sh\"","    out_file=\"$script_dir/$script_name\"","    cat $actual_path | sed 's/^int_arch_md5=.*$/int_arch_md5=\"'$(md5sum $script_dir/$1 2\u003e /dev/null | cut -d' ' -f1)'\"/' \u003e $out_file \u0026\u0026 chmod +x $out_file","  else","    out_file=\"$actual_path\"","    sed -i 's/^int_arch_md5=.*$/int_arch_md5=\"'$(md5sum $script_dir/$1 2\u003e /dev/null | cut -d' ' -f1)'\"/' $out_file","  fi","  echo_info \"Врезаем архив в скрипт $script_name\"","  # удалить всё что после payload","  sed -i '/^__PAYLOAD_BEGINS__$/q' $out_file 2\u003e /dev/null || echo_error \"Ошибка врезки архива $1 в скрипт\"","  # вставить архив в скрипт","  dd if=\"$script_dir/$1\" of=\"$out_file\" bs=1024 conv=notrunc oflag=append status=progress || echo_error \"Ошибка врезки архива $1 в скрипт\"","}","","function null_archive {","  # удалить всё что после payload","  echo_info \"Удаляем внутренний архив из скрипта $script_name\"","  sed -i '/^__PAYLOAD_BEGINS__$/q' $actual_path 2\u003e /dev/null || echo_error \"Ошибка удаления внутреннего архива из скрипта $script_name\"","}","","# назначение прав на файлы сервиса","function assign_rights {","  # смена владельца на папку сервиса","  echo_info \"Смена владельца для $1\"","  chown -R $USER:$USER $1 \u003e/dev/null 2\u003e\u00261 || echo_error \"Ошибка смены владельца для $1\"","  # для систем с SELinux","  if [ $(sestatus 2\u003e /dev/null | head -1 | grep -ic enabled) -eq 1 ]; then","    echo_info \"Настройка политик SELinux\"","    # изменение контекста на папки сервиса","    chcon -u system_u -R $HOME/.pyenv \u003e/dev/null 2\u003e\u00261 \u0026\u0026 chcon -u system_u -R $1 \u003e/dev/null 2\u003e\u00261 || echo_error \"Ошибка изменения политик, для папок сервиса\"","    # создание модуля политики","    echo \"module pve 1.0;","","require {","\ttype var_lib_t;","        type admin_home_t;","        type setroubleshootd_t;","        type init_t;","        class file { execute lock open read };","}","","#============= init_t ==============","allow init_t admin_home_t:file { execute open read };","","#============= setroubleshootd_t ==============","allow setroubleshootd_t var_lib_t:file { lock open read };","\" \u003e pve.te","    # компиляция политики","    checkmodule -M -m -o pve.mod pve.te \u003e/dev/null 2\u003e\u00261 || echo_error \"Ошибка компиляции политик\"","    # создание пакета","    semodule_package -o pve.pp -m pve.mod \u003e/dev/null 2\u003e\u00261 || echo_error \"Ошибка создания пакета политик\"","    # загрузка пакета политики в ядро","    semodule -i pve.pp \u003e/dev/null 2\u003e\u00261 || echo_error \"Ошибка загрузки пакета политик в ядро\"","    # удаляем исходники, файлы работы","    rm -f pve.mod pve.pp pve.te \u0026\u003e /dev/null","  fi","}","","# функция получения тела функции, для переноса функционала в отдельный файл","function show_body_function {","  fcount=$(type $1 | sed -e 's#\\\\#\\\\\\\\#g' -e '1d')","  for v in $(echo $fcount | grep -Eo \"\\\\\\$(([a-z]+_)+[a-z]+)\" | sort -u); do","    to=$(eval echo \"$v\")","    fcount=$(sed \"s#\\\\$v#$to#g\" \u003c\u003c\u003c $fcount)","  done","  echo $fcount","}","","# удаление старой версии","function uninstall_service {","  if [ ! -z \"$2\" ]; then","      echo_info \"Удаление старой версии окружения $int_service_name\"","      # удаляем файлы и подкаталоги сервиса","      for fl in $(ls --ignore=\".\" --ignore=\"..\" -a $1 2\u003e/dev/null); do","        [[ $fl != \".userapi\" \u0026\u0026 $fl != \".proxy\" ]] \u0026\u0026 rm -rf \"$1/$fl\" \u0026\u003e /dev/null \u0026\u0026 echo \"remove $1/$fl\"","      done","  elif [ -d $1 ]; then","    echo_warning \"Окружение PVE будет полностью удалено.\"","    # ввод на подтверждение","    read -p \"yes(y)/no(n): \" -r confirm","    if [[ \"$confirm\" != \"yes\" \u0026\u0026 \"$confirm\" != \"y\" ]]; then","      echo_error \"Отменено\"","    fi","    echo_info \"Удаление старой версии окружения $int_service_name\"","    # удаляем файлы и подкаталоги сервиса","    for fl in $(ls --ignore=\".\" --ignore=\"..\" -a $1 2\u003e/dev/null); do","      rm -rf \"$1/$fl\" \u0026\u003e /dev/null \u0026\u0026 echo \"remove $1/$fl\"","    done","    # удаляем корневую папку сервиса","    rm -rf $1 \u0026\u003e /dev/null || echo_error \"Ошибка удаления папки сервиса $1\"","  else","    description_keys; exit","  fi","}","","# авторизация в репозитории","# для функций ниже","function authuser_api {","    authuserapi=$(cat $1/.userapi 2\u003e/dev/null|head -1|tr \"\" \"\\r\\n\")","    [ -z $authuserapi ] \u0026\u0026 authuserapi=$(cat $int_pve_install_dir/.userapi 2\u003e/dev/null|head -1|tr \"\" \"\\r\\n\")","    if [[ -z $authuserapi ]]; then","      echo_info \"Авторизация\"","      read -p \"User: \" updateuser;","      read -p \"Pass: \" updatepass;","      echo; authuserapi=$updateuser\":\"$updatepass","    fi","    # проверка пары логина и пароля","    if [ $(echo $authuserapi | grep -Ec \"^[^ :]+:[^ :]+$\") -eq 0 ]; then echo_error \"Пустое или не корректное сочитание логина и пароля\"; fi","}","","# обновление сервиса","function update_service {","  if [ -d $1 ]; then","    if [ -z $3 ]; then","      echo -e \"\\n  ключи -b(--beta)|-r(--release)|-n(--new)\\n\\n  -b/--beta - обновить до последней beta версии\\n  -r/--release - обновить до последней release версии\\n  -n/--new - обновить до последней версии (не важно beta или release)\\n\\n  в папке окружения можно положить файл $1/.userapi с данными аутентификации: [user]:[password]\\n  или общий в папке с общим окружением $int_pve_install_dir/.userapi\\n\"","      echo -e \"  в папке окружения можно положить файл $1/.proxy с конфигурацией proxy сервера: http://example.com:3128 [user] [password]; socks5://example.com:1080 [user] [password]\\n  или общий в папке с общим окружением $int_pve_install_dir/.proxy\\n\"","    fi","    proxy_configuration set","    cnum=1;","    cversion=($(cat $1/.version 2\u003e/dev/null|tr \"\" \"\\r\\n\"))","    nversion=($(for i in {1..3}; do curl -s -m 5 --connect-timeout 5 \"$int_repo_url/$int_service_name/version\" 2\u003e/dev/null \u0026\u0026 break || sleep 0.5; done))","","    # проверяем корректность полученного значения версии из repo","    [[ -z $nversion || $(echo ${nversion[@]} | grep -Ec \"^([0-9.]+[ ](release|beta)[ ]*){1,2}$\") -eq 0 ]] \u0026\u0026 echo_error \"Не удалось получить версию из репозитория\"","","    # запуск без аргумента","    if [ -z $3 ]; then","      echo_info \"Выберите версию для обновления\"; echo","      # список версий для загрузок","      for (( a = 0; a \u003c ${#nversion[@]}; a=$(($a+2)) )); do","        nversiondownload[$cnum]=\"$int_repo_url/$int_service_name/\"${nversion[$(($a+1))]}","        echo \"    \"$cnum. ${nversion[$a]} ${nversion[$(($a+1))]}","        cnum=$(($cnum+1))","      done","      echo; read -p \"Номер: \" cnum; echo;","      # ошибка если ввели не номер от 1 до N","      [[ ! $cnum =~ ^[0-9]+$ || $cnum -gt $((${#nversion[@]}/2)) || $cnum -lt 1 ]] \u0026\u0026 echo_error \"Не верное значение\"","      # проверяем на актуальность текущую версию","      if [[ ! -z $cversion \u0026\u0026 $(echo $nversion | sed \"s/\\.//g\") -le $(echo $cversion | sed \"s/\\.//g\") ]]; then","        echo_warning \"Обновление не требуется\"; echo; exit","      fi","    else","      # определяем ключ вызова","      [[ \"$3\" == \"-r\" || \"$3\" == \"--release\" ]] \u0026\u0026 nversiondownload[$cnum]=\"$int_repo_url/$int_service_name/release\"","      [[ \"$3\" == \"-b\" || \"$3\" == \"--beta\" ]] \u0026\u0026 nversiondownload[$cnum]=\"$int_repo_url/$int_service_name/beta\"","      [[ \"$3\" == \"-n\" || \"$3\" == \"--new\" ]] \u0026\u0026 nversiondownload[$cnum]=\"$int_repo_url/$int_service_name/new\"","","      [ -z ${nversiondownload[@]} ] \u0026\u0026 echo_error \"Не верное значение ключа\"","      # проверяем на актуальность текущую версию","      if [[ ! -z $cversion \u0026\u0026 $(echo $nversion | sed \"s/\\.//g\") -le $(echo $cversion | sed \"s/\\.//g\") ]]; then","        echo_warning \"Обновление не требуется\"; echo; exit","      fi","    fi","    # авторизация в репозитории","    authuser_api $1","    # загружаем инсталятор","    downloadscript=$(for i in {1..3}; do curl -s --connect-timeout 15 ${nversiondownload[$cnum]} --user $authuserapi 2\u003e/dev/null \u0026\u0026 break || sleep 0.5; done)","    if [[ ! -z \"$downloadscript\"  \u0026\u0026 $(echo \"$downloadscript\" | grep -c '\"error\":1') -eq 0 ]]; then","      installscript=$(echo \"$downloadscript\" | grep -Eo \"$int_service_name[^: ]+\" -m1)","      echo_info \"Загрузка $installscript\" \u0026\u0026 `bash -c \"$downloadscript\"` 2\u003e/dev/null","      bash -c \"$PWD/$installscript -u -on --$2\" \u0026\u0026 rm -rf \"$PWD/$installscript\" \u0026\u003e /dev/null","    else","      echo_error \"Неверный логин или пароль\"","    fi","    proxy_configuration unset","  fi","}","","# функция создания скриптов в папке установки","# uninstall - для удаления сервиса","# update - для обновления сервиса","function create_bash_script {","  echo_info \"Создание файлов и bash скриптов автоматизации\"","  # uninstall","  echo -e \"#!/bin/bash\\n$(show_body_function echo_info)\\n$(show_body_function echo_warning)\\n$(show_body_function echo_error)\\n$(show_body_function uninstall_service)\\nuninstall_service \\\"$1\\\"\" \u003e $1/uninstall \u0026\u0026 \\","    (chmod +x $1/uninstall || echo_error \"Ошибка создания скрипта $1/uninstall\")","  # inupdate","  echo -e \"#!/bin/bash\\n$(show_body_function echo_info)\\n$(show_body_function echo_warning)\\n$(show_body_function echo_error)\\n$(show_body_function proxy_configuration)\\n$(show_body_function authuser_api)\\n$(show_body_function update_service)\\nupdate_service \\\"$1\\\" \\\"$2\\\" \\$1\" \u003e $1/inupdate \u0026\u0026 \\","    (chmod +x $1/inupdate || echo_error \"Ошибка создания скрипта $1/inupdate\")","  # .version","  echo -n \"$int_version $int_release\" \u003e $1/.version","}","","# удаление временных каталогов","function clear_temp {","  cd $script_dir 2\u003e /dev/null || echo_error \"$script_dir нет такой директории\"","  rm -rf $int_arch_dir \u0026\u003e /dev/null","  rm -rf .python-version \u0026\u003e /dev/null","  rm -rf \"$int_service_name-${int_version}-${int_release}.tar.gz\" \u0026\u003e /dev/null","  rm -rf $HOME/.cache/pip \u0026\u003e /dev/null","  rm -rf $int_arch_pack_dir/offline.sig \u0026\u003e /dev/null","  rm -rf $temp_dir \u0026\u003e /dev/null","  proxy_configuration unset","}","","# описание режимов работы скрипта, выводит при \"пустом\" запуске","function description_keys {","  echo -e \"  ключи -e(--extract) -p(--pack) -b(--build) -u(--update) -n(--null) -i(--install) -ups(--ups) -urs(--urs) -ses(--ses) -off(--offline) -on(--online) -f(--full) -cu11(--cu11) -cu12(--cu12) -cpu(--cpu) -u(--uninstall)","  \"\"","  --------установка--------","  \"-i/--install\"                       - установить окружение в online/offline режиме","                                         второй обязательный ключ:","                                           \"-on/--online\"   - установка онлайн","                                           \"-off/--offline\" - утановка оффлайн (необходимо собрать скрипт с ключем -b/--build)","                                         третий обязательный ключ:","                                           \"-cpu/--cpu\"     - полный набор pip3 модулей под CPU","                                           \"-cu11/--cu11\"   - полный набор pip3 модулей под GPU CU11.8 (необходима установка CUDA Toolkit)","                                           \"-cu12/--cu12\"   - полный набор pip3 модулей под GPU CU12.1 (необходима установка CUDA Toolkit)","                                           \"-ups/--ups\"     - набор модулей pip3 для ups/res","                                           \"-urs/--urs\"     - набор модулей pip3 для urs","                                           \"-ses/--ses\"     - набор модулей pip3 для ses","  -------обновление--------","  \"-u/--update\"                        - обновить окружение в online/offline режиме","                                         второй обязательный ключ:","                                           \"-on/--online\"   - обновление онлайн","                                           \"-off/--offline\" - обновление оффлайн (необходимо собрать скрипт с ключем -b/--build)","                                         третий обязательный ключ:","                                           \"-cpu/--cpu\"     - полный набор pip3 модулей под CPU","                                           \"-cu11/--cu11\"   - полный набор pip3 модулей под GPU CU11.8 (необходима установка CUDA Toolkit)","                                           \"-cu12/--cu12\"   - полный набор pip3 модулей под GPU CU12.1 (необходима установка CUDA Toolkit)","                                           \"-ups/--ups\"     - набор модулей pip3 для ups/res","                                           \"-urs/--urs\"     - набор модулей pip3 для urs","                                           \"-ses/--ses\"     - набор модулей pip3 для ses","  \"./inupdate\"                         - скрипт интерактивного обновления окружение (в папки $int_pve_install_dir с установленным окружением)","                                         !!! требуется наличие интернет соединения","  ---------сборка----------","  \"-b/--build\"                         - скачать все пакеты, и модули, и упаковать в скрипт для оффлайн установки","                                         второй обязательный ключ:","                                           \"-i/--install\"   - сборка с системными пакетами (полная)","                                           \"-u/--update\"    - только окружение, для обновления (без системных пакетов)","                                         третий обязательный ключ:","                                           \"-f/--full\"      - полный набор pip3 модулей под все типы установки/обновления","                                           \"-cpu/--cpu\"     - полный набор pip3 модулей под CPU","                                           \"-cu11/--cu11\"   - полный набор pip3 модулей под GPU CU11.8 (необходима установка CUDA Toolkit)","                                           \"-cu12/--cu12\"   - полный набор pip3 модулей под GPU CU12.1 (необходима установка CUDA Toolkit)","                                           \"-ups/--ups\"     - набор модулей pip3 для ups/res","                                           \"-urs/--urs\"     - набор модулей pip3 для urs","                                           \"-ses/--ses\"     - набор модулей pip3 для ses","  --------удаление---------","  \"-u/--uninstall\"                     - удалить окружение","  \"./uninstall\"                        - скрипт интерактивного удаления окружение (в папки $int_pve_install_dir с установленным окружением)","  -------------------------","  \"-e/--extract\"                       - скопировать внутренний архив рядом со скриптом","  \"-p/--pack имя_архива\"               - запаковать архив в скрипт - архив создавать без абсолютных каталогов:","                                         tar -czvf $int_service_name-install.tgz -C archive \\$(ls -A archive)","  \"-d/--dir путь/имя_каталога\"         - совместно с -p/--pack или -e/--extract, сжать\\распаковать каталог в\\из архива","  \"-n/--null\"                          - удалить внутренний архив из скрипта","  \"\"","  \"\"","  -- Установить окружение с полным набором модулей под CPU","  Пример использования: ./$script_name -i -cpu -on","  -- Установить окружение из заранее собранного инсталлера с полным набором модулей под CPU","  Пример использования: ./$script_name -i -cpu -off","  -- Собрать все пакеты для установки оффлайн окружения с полным набором модулей под CPU","  Пример использования: ./$script_name -b -i -cpu","  -- Собрать все пакеты для обновления оффлайн окружения с полным набором модулей под CPU","  Пример использования: ./$script_name -b -u -cpu","  -- Скопировать внутренний архив рядом со скриптом не распаковывая в папку","  Пример использования: ./$script_name -e","  -- Запаковать архив в скрипт","  Пример использования: ./$script_name -p \u003cservice\u003e-offline.tgz","  -- Сжать каталог и запаковать архив в скрипт","  Пример использования: ./$script_name -p -d \u003cимя каталога\u003e","  -- Распаковать внутренний архив рядом со скриптом в каталог","  Пример использования: ./$script_name -e -d archive","  -- Удалить внутренний архив из скрипта","  Пример использования: ./$script_name --null","  -- Удалить окружение","  Пример использования: ./$script_name --uninstall","\"","}","","########","# main #","########","","# заголовок инсталятора","echo -e $installer_head","echo_info \"Установка, как $os_install\"","","# пустой запуск","if [ \"$1\" == \"\" ]; then description_keys; exit; fi","","# перебор ключей запуска","while (($#)); do"," arg=$1","  shift","   case $arg in","     # для двойных ключей с --","     --*) case ${arg:2} in","          # установка","          install)   key_i=\"i\";;","          # обновление","          update)    key_u=\"up\";;","          # онлайн установка","          online)    key_on=\"on\";;","          # оффлайн установка","          offline)   key_off=\"off\";;","          # сборка внутреннего архива для оффлайн установки","          build)     key_b=\"b\";;","          # полный набор pip3 под все типы установок","          full)      key_f=\"f\";;","          # полный набор pip3 модулей под CPU","          cpu)       key_cpu=\"cpu\";;","          # полный набор pip3 модулей под GPU CU11.8","          cu11)      key_cu11=\"cu11\";;","          # полный набор pip3 модулей под GPU CU12.1","          cu12)      key_cu12=\"cu12\";;","          # установка под ups","          ups)       key_ups=\"ups\";;","          # установка под urs","          urs)       key_ups=\"urs\";;","          # установка под ses","          ses)       key_ses=\"ses\";;","          # удалить внутренний архив (слишком большой для редактирования скрипта)","          null)      key_n=\"n\";;","          # скопировать архив рядом со скриптом не распаковывая его","          extract)   key_e=\"e\";;","          # запаковать внешний архив в скрипт","          pack)      key_p=\"p\"; key_p_arg=$1;;","          # сделать архив и запаковать в скрипт из директории","          dir)       key_d=\"d\"; key_d_arg=$1;;","          # удалить окружение","          uninstall) key_u=\"u\";;","          # все остальные ключи","          *)         description_keys; exit 1;;","        esac;;","","     # для одинарных ключей с -","     -*) case ${arg:1} in","          # установка","          i)         key_i=\"i\";;","          # обновление/удалить окружение","          u)         key_u=\"u\";;","          # онлайн установка","          on)        key_on=\"on\";;","          # оффлайн установка","          off)       key_off=\"off\";;","          # сборка внутреннего архива для оффлайн установки","          b)         key_b=\"b\";;","          # полный набор pip3 под все типы установок","          f)         key_f=\"f\";;","          # полный набор pip3 модулей под CPU","          cpu)       key_cpu=\"cpu\";;","          # полный набор pip3 модулей под GPU CU11.8","          cu11)       key_cu11=\"cu11\";;","          # полный набор pip3 модулей под GPU CU12.1","          cu12)       key_cu12=\"cu12\";;","          # установка под ups","          ups)       key_ups=\"ups\";;","          # установка под urs","          urs)       key_urs=\"urs\";;","          # установка под ses","          ses)       key_ses=\"ses\";;","          # удалить внутренний архив (слишком большой для редактирования скрипта)","          n)         key_n=\"n\";;","          # скопировать архив рядом со скриптом не распаковывая его","          e)         key_e=\"e\";;","          # запаковать внешний архив в скрипт","          p)         key_p=\"p\"; key_p_arg=$1;;","          # сделать архив и запаковать в скрипт из директории","          d)         key_d=\"d\"; key_d_arg=$1;;","          # все остальные ключи","          *)         description_keys; exit 1;;","         esac;;","    esac","done","","# массив ключей установки, все варианты ключей, при добалении нового ключа - дописать его СЮДА!","key_all=($key_i \\","         $key_u \\","         $key_on \\","         $key_off \\","         $key_b \\","         $key_f \\","         $key_cpu \\","         $key_cu11 \\","         $key_cu12 \\","         $key_ups \\","         $key_urs \\","         $key_ses \\","         $key_n \\","         $key_e \\","         $key_p \\","         $key_d \\","         )","","# выборка вариантов совместных ключей","case $(echo ${key_all[@]} | tr -d ' ') in","  # онлайн установка с полным набором pip3 модулей под CPU","  ioncpu             ) install_repo online; uninstall_service $int_pve_install_dir clear; install_pac system; install_pac main; download_ffmpeg online;","                     install_ffmpeg online; install_pyenv online; install_pve online $int_pve_install_dir cpu; assign_rights $int_pve_install_dir; clear_temp;","                     create_bash_script $int_pve_install_dir cpu; echo_info \"Успех\";;","  # онлайн обновление с полным набором pip3 модулей под CPU","  uoncpu|uponcpu     ) proxy_configuration set; uninstall_service $int_pve_install_dir clear; install_pyenv online; install_pve online $int_pve_install_dir cpu;","                     assign_rights $int_pve_install_dir; clear_temp; create_bash_script $int_pve_install_dir cpu; echo_info \"Успех\";;","  # онлайн установка с полным набором pip3 модулей под GPU CU11.8","  ioncu11            ) check_installed_gpu cu11; install_repo online; uninstall_service $int_pve_install_dir clear; install_pac system; install_pac main; download_ffmpeg online;","                     install_ffmpeg online; install_pyenv online; install_pve online $int_pve_install_dir cu11; assign_rights $int_pve_install_dir; clear_temp;","                     create_bash_script $int_pve_install_dir cu11; echo_info \"Успех\";;","  # онлайн обновление с полным набором pip3 модулей под GPU CU11.8","  uoncu11|uponcu11   ) check_installed_gpu cu11; proxy_configuration set; uninstall_service $int_pve_install_dir clear; install_pyenv online; install_pve online $int_pve_install_dir cu11;","                     assign_rights $int_pve_install_dir; clear_temp; create_bash_script $int_pve_install_dir cu11; echo_info \"Успех\";;","  # онлайн установка с полным набором pip3 модулей под GPU CU12.1","  ioncu12            ) check_installed_gpu cu12; install_repo online; uninstall_service $int_pve_install_dir clear; install_pac system; install_pac main; download_ffmpeg online;","                     install_ffmpeg online; install_pyenv online; install_pve online $int_pve_install_dir cu12; assign_rights $int_pve_install_dir; clear_temp;","                     create_bash_script $int_pve_install_dir cu12; echo_info \"Успех\";;","  # онлайн обновление с полным набором pip3 модулей под GPU CU12.1","  uoncu12|uponcu12   ) check_installed_gpu cu12; proxy_configuration set; uninstall_service $int_pve_install_dir clear; install_pyenv online; install_pve online $int_pve_install_dir cu12;","                     assign_rights $int_pve_install_dir; clear_temp; create_bash_script $int_pve_install_dir cu12; echo_info \"Успех\";;","  # онлайн установка PVE для UPS","  ionups             ) install_repo online; uninstall_service $int_ups_install_dir clear; install_pac system; install_pac main;","                     install_pyenv online; install_pve online $int_ups_install_dir ups; assign_rights $int_ups_install_dir; clear_temp;","                     create_bash_script $int_ups_install_dir ups; echo_info \"Успех\";;","  # онлайн обновление PVE для UPS","  uonups|uponups     ) proxy_configuration set; uninstall_service $int_ups_install_dir clear; install_pyenv online; install_pve online $int_ups_install_dir ups;","                     assign_rights $int_ups_install_dir; clear_temp; create_bash_script $int_ups_install_dir ups; echo_info \"Успех\";;","  # онлайн установка PVE для URS","  ionurs             ) install_repo online; uninstall_service $int_urs_install_dir clear; install_pac system; install_pac main;","                     install_pyenv online; install_pve online $int_urs_install_dir urs; assign_rights $int_urs_install_dir; clear_temp;","                     create_bash_script $int_urs_install_dir urs; echo_info \"Успех\";;","  # онлайн обновление PVE для URS","  uonurs|uponurs     ) proxy_configuration set; uninstall_service $int_urs_install_dir clear; install_pyenv online; install_pve online $int_urs_install_dir urs;","                     assign_rights $int_urs_install_dir; clear_temp; create_bash_script $int_urs_install_dir urs; echo_info \"Успех\";;","  # онлайн установка PVE для SES","  ionses             ) install_repo online; uninstall_service $int_ses_install_dir clear; install_pac system; install_pac main;","                     install_pyenv online; install_pve online $int_ses_install_dir ses; assign_rights $int_ses_install_dir; clear_temp;","                     create_bash_script $int_ses_install_dir ses; echo_info \"Успех\";;","  # онлайн обновление PVE для SES","  uonses|uponses     ) proxy_configuration set; uninstall_service $int_ses_install_dir clear; install_pyenv online; install_pve online $int_ses_install_dir ses;","                     assign_rights $int_ses_install_dir; clear_temp; create_bash_script $int_ses_install_dir ses; echo_info \"Успех\";;","  # оффлайн установка с полным набором pip3 модулей под CPU","  ioffcpu            ) extract_archive dir $int_arch_dir; offline_env; list_pip3_modules cpu $build_modules; install_repo offline; uninstall_service $int_pve_install_dir clear; install_pac system; install_pac main;","                     install_ffmpeg offline; install_pyenv offline; install_pve offline $int_pve_install_dir offline; install_pve online $int_pve_install_dir online; assign_rights $int_pve_install_dir; clear_temp;","                     create_bash_script $int_pve_install_dir $build_modules; install_repo remlocal; echo_info \"Успех\";;","  # оффлайн обновление с полным набором pip3 модулей под CPU","  uoffcpu|upoffcpu   ) extract_archive dir $int_arch_dir; offline_env; list_pip3_modules cpu $build_modules; uninstall_service $int_pve_install_dir clear;","                     install_pyenv offline; install_pve offline $int_pve_install_dir offline; install_pve online $int_pve_install_dir online; assign_rights $int_pve_install_dir; clear_temp;","                     create_bash_script $int_pve_install_dir $build_modules; echo_info \"Успех\";;","  # оффлайн установка с полным набором pip3 модулей под GPU CU11.8","  ioffcu11           ) check_installed_gpu cu11; extract_archive dir $int_arch_dir; offline_env; list_pip3_modules cu11 $build_modules; install_repo offline; uninstall_service $int_pve_install_dir clear; install_pac system; install_pac main;","                     install_ffmpeg offline; install_pyenv offline; install_pve offline $int_pve_install_dir offline; install_pve online $int_pve_install_dir online; assign_rights $int_pve_install_dir; clear_temp;","                     create_bash_script $int_pve_install_dir $build_modules; install_repo remlocal; echo_info \"Успех\";;","  # оффлайн обновление с полным набором pip3 модулей под GPU CU11.8","  uoffcu11|upoffcu11 ) check_installed_gpu cu11; extract_archive dir $int_arch_dir; offline_env; list_pip3_modules cu11 $build_modules; uninstall_service $int_pve_install_dir clear;","                     install_pyenv offline; install_pve offline $int_pve_install_dir offline; install_pve online $int_pve_install_dir online; clear_temp;","                     create_bash_script $int_pve_install_dir $build_modules; echo_info \"Успех\";;","  # оффлайн установка с полным набором pip3 модулей под GPU CU12.1","  ioffcu12           ) check_installed_gpu cu12; extract_archive dir $int_arch_dir; offline_env; list_pip3_modules cu12 $build_modules; install_repo offline; uninstall_service $int_pve_install_dir clear; install_pac system; install_pac main;","                     install_ffmpeg offline; install_pyenv offline; install_pve offline $int_pve_install_dir offline; install_pve online $int_pve_install_dir online; assign_rights $int_pve_install_dir; clear_temp;","                     create_bash_script $int_pve_install_dir $build_modules; install_repo remlocal; echo_info \"Успех\";;","  # оффлайн обновление с полным набором pip3 модулей под GPU CU12.1","  uoffcu12|upoffcu12 ) check_installed_gpu cu12; extract_archive dir $int_arch_dir; offline_env; list_pip3_modules cu12 $build_modules; uninstall_service $int_pve_install_dir clear;","                     install_pyenv offline; install_pve offline $int_pve_install_dir offline; install_pve online $int_pve_install_dir online; clear_temp;","                     create_bash_script $int_pve_install_dir $build_modules; echo_info \"Успех\";;","  # оффлайн установка PVE для UPS","  ioffups            ) extract_archive dir $int_arch_dir; offline_env; list_pip3_modules ups $build_modules; install_repo offline; uninstall_service $int_ups_install_dir clear; install_pac system; install_pac main;","                     install_pyenv offline; install_pve offline $int_ups_install_dir offline; install_pve online $int_ups_install_dir online; assign_rights $int_ups_install_dir; clear_temp;","                     create_bash_script $int_ups_install_dir $build_modules; install_repo remlocal; echo_info \"Успех\";;","  # оффлайн обновление PVE для UPS","  uoffups|upoffups   ) extract_archive dir $int_arch_dir; offline_env; list_pip3_modules ups $build_modules; uninstall_service $int_ups_install_dir clear;","                     install_pyenv offline; install_pve offline $int_ups_install_dir offline; install_pve online $int_ups_install_dir online; assign_rights $int_ups_install_dir; clear_temp;","                     create_bash_script $int_ups_install_dir $build_modules; echo_info \"Успех\";;","  # оффлайн установка PVE для URS","  ioffurs            ) extract_archive dir $int_arch_dir; offline_env; list_pip3_modules urs $build_modules; install_repo offline; uninstall_service $int_urs_install_dir clear; install_pac system; install_pac main;","                     install_pyenv offline; install_pve offline $int_urs_install_dir offline; install_pve online $int_urs_install_dir online; assign_rights $int_urs_install_dir; clear_temp;","                     create_bash_script $int_urs_install_dir $build_modules; install_repo remlocal; echo_info \"Успех\";;","  # оффлайн обновление PVE для URS","  uoffurs|upoffurs   ) extract_archive dir $int_arch_dir; offline_env; list_pip3_modules urs $build_modules; uninstall_service $int_urs_install_dir clear;","                     install_pyenv offline; install_pve offline $int_urs_install_dir offline; install_pve online $int_urs_install_dir online; assign_rights $int_urs_install_dir; clear_temp;","                     create_bash_script $int_urs_install_dir $build_modules; echo_info \"Успех\";;","  # оффлайн установка PVE для SES","  ioffses            ) extract_archive dir $int_arch_dir; offline_env; list_pip3_modules ses $build_modules; install_repo offline; uninstall_service $int_ses_install_dir clear; install_pac system; install_pac main;","                     install_pyenv offline; install_pve offline $int_ses_install_dir offline; install_pve online $int_ses_install_dir online; assign_rights $int_ses_install_dir; clear_temp;","                     create_bash_script $int_ses_install_dir $build_modules; install_repo remlocal; echo_info \"Успех\";;","  # оффлайн обновление PVE для SES","  uoffses|upoffses   ) extract_archive dir $int_arch_dir; offline_env; list_pip3_modules ses $build_modules; uninstall_service $int_ses_install_dir clear;","                     install_pyenv offline; install_pve offline $int_ses_install_dir offline; install_pve online $int_ses_install_dir online; assign_rights $int_ses_install_dir; clear_temp;","                     create_bash_script $int_ses_install_dir $build_modules; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн установки с полным набором pip3 модулей под CPU","  ibf                ) create_temp_dirs; install_repo online; install_pac system; download_pac; download_ffmpeg offline; install_pyenv online; download_modules full; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_pve_install_dir\\\"\" \"build_modules=\\\"full\\\"\" \"build_type=\\\"install\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_full-${os_id}-${os_version}\";","                     clear_temp; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн обновления с полным набором pip3 модулей под CPU, без системных пакетов для обновления","  ubf|upbf           ) create_temp_dirs; install_repo online; install_pac system; download_ffmpeg offline; install_pyenv online; download_modules full; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_pve_install_dir\\\"\" \"build_modules=\\\"full\\\"\" \"build_type=\\\"update\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_full-update\";","                     clear_temp; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн установки с полным набором pip3 модулей под CPU","  ibcpu              ) create_temp_dirs; install_repo online; install_pac system; download_pac; download_ffmpeg offline; install_pyenv online; download_modules cpu; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_pve_install_dir\\\"\" \"build_modules=\\\"cpu\\\"\" \"build_type=\\\"install\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_cpu-${os_id}-${os_version}\";","                     clear_temp; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн обновления с полным набором pip3 модулей под CPU, без системных пакетов для обновления","  ubcpu|upbcpu       ) create_temp_dirs; install_repo online; install_pac system; download_ffmpeg offline; install_pyenv online; download_modules cpu; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_pve_install_dir\\\"\" \"build_modules=\\\"cpu\\\"\" \"build_type=\\\"update\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_cpu-update\";","                     clear_temp; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн установки с полным набором pip3 модулей под GPU CU11.8","  ibcu11              ) create_temp_dirs; install_repo online; install_pac system; download_pac; download_ffmpeg offline; install_pyenv online; download_modules cu11; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_pve_install_dir\\\"\" \"build_modules=\\\"cu11\\\"\" \"build_type=\\\"install\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_cu11-${os_id}-${os_version}\";","                     clear_temp; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн обновления с полным набором pip3 модулей под GPU CU11.8, без системных пакетов для обновления","  ubcu11|upbcu11       ) create_temp_dirs; install_repo online; install_pac system; download_ffmpeg offline; install_pyenv online; download_modules cu11; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_pve_install_dir\\\"\" \"build_modules=\\\"cu11\\\"\" \"build_type=\\\"update\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_cu11-update\";","                     clear_temp; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн установки с полным набором pip3 модулей под GPU CU12.1","  ibcu12              ) create_temp_dirs; install_repo online; install_pac system; download_pac; download_ffmpeg offline; install_pyenv online; download_modules cu12; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_pve_install_dir\\\"\" \"build_modules=\\\"cu12\\\"\" \"build_type=\\\"install\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_cu12-${os_id}-${os_version}\";","                     clear_temp; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн обновления с полным набором pip3 модулей под GPU CU12.1, без системных пакетов для обновления","  ubcu12|upbcu12       ) create_temp_dirs; install_repo online; install_pac system; download_ffmpeg offline; install_pyenv online; download_modules cu12; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_pve_install_dir\\\"\" \"build_modules=\\\"cu12\\\"\" \"build_type=\\\"update\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_cu12-update\";","                     clear_temp; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн установки для UPS","  ibups              ) create_temp_dirs; install_repo online; install_pac system; download_pac; download_ffmpeg offline; install_pyenv online; download_modules ups; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_ups_install_dir\\\"\" \"build_modules=\\\"ups\\\"\" \"build_type=\\\"install\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_ups-${os_id}-${os_version}\";","                     clear_temp; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн обновления для UPS, без системных пакетов для обновления","  ubups|upbups       ) create_temp_dirs; install_repo online; install_pac system; download_ffmpeg offline; install_pyenv online; download_modules ups; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_ups_install_dir\\\"\" \"build_modules=\\\"ups\\\"\" \"build_type=\\\"update\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_ups-update\";","                     clear_temp; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн установки для URS","  iburs              ) create_temp_dirs; install_repo online; install_pac system; download_pac; download_ffmpeg offline; install_pyenv online; download_modules urs; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_urs_install_dir\\\"\" \"build_modules=\\\"urs\\\"\" \"build_type=\\\"install\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_urs-${os_id}-${os_version}\";","                     clear_temp; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн обновления для URS, без системных пакетов для обновления","  uburs|upburs       ) create_temp_dirs; install_repo online; install_pac system; download_ffmpeg offline; install_pyenv online; download_modules urs; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_urs_install_dir\\\"\" \"build_modules=\\\"urs\\\"\" \"build_type=\\\"update\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_urs-update\";","                     clear_temp; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн установки для SES","  ibses              ) create_temp_dirs; install_repo online; install_pac system; download_pac; download_ffmpeg offline; install_pyenv online; download_modules ses; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_ses_install_dir\\\"\" \"build_modules=\\\"ses\\\"\" \"build_type=\\\"install\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_ses-${os_id}-${os_version}\";","                     clear_temp; echo_info \"Успех\";;","  # сборка внутреннего архива для оффлайн обновления для SES, без системных пакетов для обновления","  ubses|upbses       ) create_temp_dirs; install_repo online; install_pac system; download_ffmpeg offline; install_pyenv online; download_modules ses; download_pyenv;","                     offline_env \"int_pve_install_dir=\\\"$int_ses_install_dir\\\"\" \"build_modules=\\\"ses\\\"\" \"build_type=\\\"update\\\"\" \"build_os=\\\"${os_id}-${os_version}\\\"\"; create_arсhive $int_arch_dir; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\" \"_ses-update\";","                     clear_temp; echo_info \"Успех\";;","  # удалить внутренний архив (слишком большой для редактирования скрипта)","  n                  ) null_archive; echo_info \"Успех\";;","  # скопировать архив рядом со скриптом не распаковывая его","  e                  ) extract_archive; echo_info \"Успех\";;","  # распаковать архив в папку","  ed                 ) extract_archive dir $key_d_arg; echo_info \"Успех\";;","  # запаковать архив в скрипт","  p                  ) pack_archive $key_p_arg; clear_temp; echo_info \"Успех\";;","  # запаковать папку в архив и включить в скрипт","  pd                 ) create_arсhive $key_d_arg; pack_archive \"$int_service_name-${int_version}-${int_release}.tar.gz\"; clear_temp; echo_info \"Успех\";;","  # удалить окружение","  u                  ) uninstall_service $int_pve_install_dir; echo_info \"Успех\";;","  # все остальные ключи","  *           ) description_keys; exit 1;;","esac","","echo -e \"\"; exit 0","__PAYLOAD_BEGINS__"],"stylingDirectives":null,"colorizedLines":["\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#!\u003c/span\u003e/bin/bash\u003c/span\u003e","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e tested: centOS7, centOS8, centOS9, debian10, debian11,\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e debian12, Ubuntu 20.04, Ubuntu 22.04, AstraLinux 1.74,\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e RedOS 7.3.2, AltLinux 8.2, AltLinux 9.0, AltLinux 10.1\u003c/span\u003e","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e#########################\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e общее описание скрипта #\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e#########################\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e скрипт устанавливает pve (python virtual enviroment), набор модулей питона для работы других сервисов\u003c/span\u003e","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e###########################################\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e критические переменные для быстрой смены #\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e###########################################\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e версия питона для установки\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e CentOS 7\u003c/span\u003e","python_ver_centos=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e3.9.16\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Debian дистрибутивы\u003c/span\u003e","python_ver_debian=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e3.9.16\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Red Hat дистрибутивы\u003c/span\u003e","python_ver_rhel=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e3.9.16\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e AltLinux\u003c/span\u003e","python_ver_altlinux=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e3.9.16\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e адрес pip репозитория DevPI\u003c/span\u003e","python_devpi=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003erepo.connect2ai.net\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e заголовок установщика, хеш врутреннего архива, версия и релиз, меняются при сборки пакета\u003c/span\u003e","int_service_name=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epve\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","int_pve_install_dir=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e/opt/pve\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","int_ups_install_dir=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e/opt/ups/pve\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","int_urs_install_dir=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e/opt/urs/pve\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","int_ses_install_dir=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e/opt/ses/pve\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","int_repo_url=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ehttps://repo.connect2ai.net/api\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e каталог куда распакуется внутренний архив\u003c/span\u003e","int_arch_dir=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e/tmp/archive\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e каталог системных пакетов созданных через --build\u003c/span\u003e","int_arch_pack_dir=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/packages\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e#############\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e переменные #\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e#############\u003c/span\u003e","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e статус доступа в интернет\u003c/span\u003e","internetstatus=0","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e тип установки, для оффлайн установки\u003c/span\u003e","build_type=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003einstall\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e расположение скрипта\u003c/span\u003e","actual_path=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003ereadlink -f \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${BASH_SOURCE[0]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","script_dir=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003edirname \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$actual_path\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","script_name=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003ebasename \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$actual_path\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e временная папка\u003c/span\u003e","temp_dir=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e/temp\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e внешний файл списка модулей pip3\u003c/span\u003e","list_pip3_modules_ext=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e/freeze.txt\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e NVIDIA CUDA Toolkit\u003c/span\u003e","install_nvcc=()","","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e список пакетов для скачивания\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e CentOS 7\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e минимально необходимый набор системных пакетов\u003c/span\u003e","packages_system_centos7=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecmake\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003egcc\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003egcc-c++\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecurl\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewget\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eca-certificates\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003egit\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epatch\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elsyncd\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebzip2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eunzip\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003edmidecode\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e остальные пакеты\u003c/span\u003e","packages_main_centos7=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-pip\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibsndfile\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-wheel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-virtualenv\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                      \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003emariadb-devel.x86_64\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3*-mysql.x86_64\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003erustc\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecargo\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eopenssl\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eopenssl11\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eopenssl-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eopenssl11-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibffi\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                      \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibffi-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ezlib\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ezlib-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebzip2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebzip2-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibxml2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibxml2-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                      \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003exmlsec1-openssl\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003exmlsec1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ereadline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ereadline-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esqlite\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esqlite-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                      \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003exz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003exz-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003effmpeg\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003effmpeg-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esox\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ejq\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003echeckpolicy\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epolicycoreutils-python\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Debian дистрибутивы\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e минимально необходимый набор системных пакетов\u003c/span\u003e","packages_system_debian=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecurl\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewget\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eca-certificates\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003egit\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epatch\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecmake\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild-essential\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eapt-transport-https\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003egnupg2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elsyncd\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eunzip\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003edmidecode\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e остальные пакеты\u003c/span\u003e","packages_main_debian=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-pip\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-dev\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibsndfile1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-wheel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-venv\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                      \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibmariadb-dev\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-mysqldb\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003erustc\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecargo\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eopenssl\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibssl-dev\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibncurses-dev\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                      \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibffi-dev\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ezlib1g\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ezlib1g-dev\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebzip2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibbz2-dev\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibxml2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibxml2-dev\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                      \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003exmlsec1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibxmlsec1-dev\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibreadline-dev\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esqlite3\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                      \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibsqlite3-dev\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003exz-utils\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elzma\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eliblzma-dev\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003effmpeg\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esox\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ejq\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Red Hat дистрибутивы\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e минимально необходимый набор системных пакетов\u003c/span\u003e","packages_system_rhel=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecmake\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003egcc\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003egcc-c++\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecurl\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewget\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eca-certificates\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003egit\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epatch\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elsyncd\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eunzip\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003edmidecode\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e остальные пакеты\u003c/span\u003e","packages_main_rhel=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-pip\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibsndfile\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-wheel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-virtualenv\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                    \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003emariadb-devel.x86_64\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3*-mysql.x86_64\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003erustc\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecargo\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eopenssl\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eopenssl-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibffi\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                    \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibffi-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ezlib\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ezlib-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebzip2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebzip2-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibxml2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibxml2-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                    \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003exmlsec1-openssl\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003exmlsec1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ereadline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ereadline-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esqlite\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esqlite-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                    \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003exz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003exz-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003effmpeg\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003effmpeg-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esox\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ejq\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Altlinux\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e минимально необходимый набор системных пакетов\u003c/span\u003e","packages_system_altlinux=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eopenssl\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecurl\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewget\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eca-certificates\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003egit\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epatch\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecmake\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eboost-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eapt-https\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003egnupg2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elsyncd\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eunzip\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003edmidecode\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e остальные пакеты\u003c/span\u003e","packages_main_altlinux=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003erpm-build-python3\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-module-pip\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-dev\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibsndfile\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-module-wheel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                        \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibmariadb-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython3-module-mysql\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003erust\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003erust-cargo\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eopenssl\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibssl-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                        \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibffi-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ezlib\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ezlib-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebzip2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebzip2-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibxml2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibxml2-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                        \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibxmlsec1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibxmlsec1-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibreadline-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esqlite3\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                        \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibsqlite3-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003exz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eliblzma\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eliblzma-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eglibc-devel-static\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebzip2-devel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                        \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003effmpeg\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003effprobe\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esox\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ejq\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e в массивах модулей используется |, это нужно для фиксации версий зависимостей модулей\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e базовый набор модулей для всех установок\u003c/span\u003e","modules_pip3_base=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epip\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewheel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003escikit-build|packaging==23.2|setuptools==65.5.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esetuptools==65.5.1|setuptools_rust|ctranslate2==4.4.0|numpy==1.23.5\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecython\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003etomli\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003egunicorn|packaging==23.2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                   \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eFlask==2.2.5|flask-restx==1.3.0|Werkzeug==2.3.3\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epydub==0.25.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyJWT\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003egevent|youtokentome==1.0.3|setuptools==65.5.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003erequests\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e набор модулей для всех сервисов\u003c/span\u003e","modules_pip3_back=(\u003cspan class=\"pl-smi\"\u003e${modules_pip3_base[@]}\u003c/span\u003e \\","                   \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elibrosa==0.10.0|braceexpand==0.1.7|transformers==4.38.2|faster-whisper|tokenizers==0.15.2|huggingface-hub==0.23.3|numpy==1.23.5|onnxruntime==1.18.1|ctranslate2==4.4.0|hydra-core==1.3.2|packaging==23.2|setuptools==65.5.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                   \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003einflect==6.0.4|pydantic==1.10.2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewebdataset==0.1.62|pyannote.core==5.0.0|pyannote.database==5.1.0|pyannote.metrics==3.2.1|faiss_cpu==1.8.0|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                   \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eeditdistance==0.6.2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ejiwer==3.0.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eipython==8.13.2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eseaborn|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eeinops\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewandb==0.18.7|setuptools==65.5.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epymorphy2|natasha==1.6.0|razdel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eprogressbar2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                   \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewebrtcvad\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eh5py|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eijson\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esacrebleu|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003erouge_score|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eopencc==1.1.5\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epangu\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eipadic\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003emecab-python3\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                   \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epybind11\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003efasttext==0.9.1|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esacremoses\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewatchdog\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003edeepfilternet==0.5.6|numpy==1.23.5|packaging==23.2|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eaiohttp\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython-crfsuite\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eelasticsearch\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003emysqlclient==2.1.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003evk_api\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                   \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewebsockets==11.0.3\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003emitmproxy\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebcrypt==4.0.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eswig==3.0.10\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython-ESL==1.4.18\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewebsocket==0.2.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewebsocket-client==1.8.0\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003etyping_extensions==4.4.0\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e дополненый набор модулей для сервисов под CPU\u003c/span\u003e","modules_pip3_cpu=(\u003cspan class=\"pl-smi\"\u003e${modules_pip3_back[@]}\u003c/span\u003e \\","                    \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003etorch==2.3.1+cpu|torchaudio==2.3.1+cpu|torchvision==0.18.1+cpu|torchmetrics==1.0.3|pytorch-lightning==1.9.5|nemo-toolkit==1.20.0|sentence-transformers==2.3.0|triton==2.3.1|Werkzeug==2.3.3|sentencepiece==0.1.99|transformers==4.38.2|huggingface-hub==0.23.3|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                    \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ellama-cpp-python==0.3.6|numpy==1.23.5\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e дополненый набор модулей для сервисов под GPU CU11\u003c/span\u003e","modules_pip3_cu11=(\u003cspan class=\"pl-smi\"\u003e${modules_pip3_back[@]}\u003c/span\u003e \\","                    \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003etorch==2.3.1+cu118|torchaudio==2.3.1+cu118|torchvision==0.18.1+cu118|torchmetrics==1.0.3|pytorch-lightning==1.9.5|nemo-toolkit==1.20.0|sentence-transformers==2.3.0|triton==2.3.1|Werkzeug==2.3.3|sentencepiece==0.1.99|transformers==4.38.2|huggingface-hub==0.23.3|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1|onnxruntime-gpu==1.19.2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                    \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ellama-cpp-python-cu==0.3.6|numpy==1.23.5\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e дополненый набор модулей для сервисов под GPU CU12\u003c/span\u003e","modules_pip3_cu12=(\u003cspan class=\"pl-smi\"\u003e${modules_pip3_back[@]}\u003c/span\u003e \\","                    \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003etorch==2.3.1+cu121|torchaudio==2.3.1+cu121|torchvision==0.18.1+cu121|torchmetrics==1.0.3|pytorch-lightning==1.9.5|nemo-toolkit==1.20.0|sentence-transformers==2.3.0|triton==2.3.1|Werkzeug==2.3.3|sentencepiece==0.1.99|transformers==4.38.2|huggingface-hub==0.23.3|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1|onnxruntime-gpu==1.19.2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \\","                    \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ellama-cpp-python-cu==0.3.6|numpy==1.23.5\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e набор модулей индивидуально под сервис\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e UPS и RES\u003c/span\u003e","modules_pip3_ups=(\u003cspan class=\"pl-smi\"\u003e${modules_pip3_base[@]}\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ejiwer==3.0.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eelasticsearch\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003emitmproxy\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebcrypt==4.0.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003etyping_extensions==4.4.0\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e URS\u003c/span\u003e","modules_pip3_urs=(\u003cspan class=\"pl-smi\"\u003e${modules_pip3_base[@]}\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003emysqlclient==2.1.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e SES\u003c/span\u003e","modules_pip3_ses=(\u003cspan class=\"pl-smi\"\u003e${modules_pip3_base[@]}\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epymorphy2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003evk_api\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewebsockets==11.0.3\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eswig==3.0.10\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epython-ESL==1.4.18\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewebsocket==0.2.1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewebsocket-client==1.8.0\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e все модули, для сборки полного оффлайн инсталятора\u003c/span\u003e","modules_pip3_full=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","\u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ei\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${modules_pip3_cu12[*]}\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${modules_pip3_cu11[*]}\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${modules_pip3_cpu[*]}\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${modules_pip3_ups[*]}\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${modules_pip3_urs[*]}\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${modules_pip3_ses[*]}\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","  [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e${modules_pip3_full[@]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -c \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e 0 ] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e modules_pip3_full+=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","\u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e#####################\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e# функции-процедуры #\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e#####################\u003c/span\u003e","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003eобработчик ошибок, поток ошибок\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eecho_error\u003c/span\u003e {","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    deactivate \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\\e[31m\u0026gt; \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\\e[0m\\n\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u0026amp;2\u003c/span\u003e","    clear_temp \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e proxy_configuration \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e","    install_repo remlocal \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eexit\u003c/span\u003e 1","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003eобработчик предупреждений, поток ошибок\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eecho_warning\u003c/span\u003e {","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\\e[33m\u0026gt; \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\\e[0m\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u0026amp;2\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003eпроцесс выполнения, стандартный поток\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eecho_info\u003c/span\u003e {","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\\e[32m\u0026gt; \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\\e[0m ...\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e определяем версию текущей OS\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -oEi \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e^(ID|ID_LIKE|VERSION_CODENAME|VERSION_ID)=[\u0026quot;A-z0-9.]+\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e /etc/os-release \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^ID_LIKE/os_like/i\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^ID/os_id/i\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^VERSION_CODENAME/os_codename/i\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^VERSION_ID/os_version/i\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e awk \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e{gsub(\u0026quot;\\\u0026quot;\u0026quot;,\u0026quot;\u0026quot;,$0);print \u0026quot;export \u0026quot;tolower($0)}\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -oEi \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e^(NAME|PRETTY_NAME)=[^$]+\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e /etc/os-release \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/\\s/_/g\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e awk \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e{gsub(\u0026quot;\\\u0026quot;\u0026quot;,\u0026quot;\u0026quot;,$0);print \u0026quot;export \u0026quot;tolower($0)}\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e os_codename=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$pretty_name\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es/\u003cspan class=\"pl-smi\"\u003e$name\u003c/span\u003e//\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -oE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e[a-z]+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e name pretty_name\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e os_codename=\u003cspan class=\"pl-smi\"\u003e$os_version\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-smi\"\u003e$os_id\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003ecentos\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_version\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e7\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e  os_install=\u003cspan class=\"pl-smi\"\u003e$os_id$os_version\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_like\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_like\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e os_install=\u003cspan class=\"pl-smi\"\u003e$os_id\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_like\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e os_install=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$os_like\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -oEi \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e^[a-z]+\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e os_like\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e если возникли проблемы с определением параметров\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-smi\"\u003e$os_id\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_version\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка детектирования OS\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e конфигурация подключения к прокси серверу, для онлайн установки\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eproxy_configuration\u003c/span\u003e {","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка если интернет, если не доступен\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eset\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$internetstatus\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e 0 ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eПроверка подключения к интернету\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003efor i \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e {1..3}\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e ping -i 1 -c 5 \u003cspan class=\"pl-smi\"\u003e$python_devpi\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e curl -s -o /dev/null -m 5 --connect-timeout 5 \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_repo_url\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e 1 \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003ebreak\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e sleep 0.5\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e done\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e подгружаем конфигурацию прокси из файла\u003c/span\u003e","      setproxy=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003ecat \u003cspan class=\"pl-smi\"\u003e$int_install_dir\u003c/span\u003e/.proxy \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-k\"\u003e|\u003c/span\u003ehead -1\u003cspan class=\"pl-k\"\u003e|\u003c/span\u003etr \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\\r\\n\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e)","      [ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$setproxy\u003c/span\u003e ] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e setproxy=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003ecat \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e/.proxy \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-k\"\u003e|\u003c/span\u003ehead -1\u003cspan class=\"pl-k\"\u003e|\u003c/span\u003etr \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\\r\\n\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e)","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e если не удалось получить данные конфигурации\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$setproxy\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003esetproxy[@]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e 2 \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003esetproxy[@]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-gt\u003c/span\u003e 3 ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\\e[32m\u0026gt; Настройка HTTP/HTTPS/SOCKS proxy (\\e[0mпример: http://example.com:3128; socks5://example.com:1080\\e[32m):\\e[0m\\n\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-c1\"\u003eread\u003c/span\u003e -p \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eАдрес proxy: \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -r iaddress","        \u003cspan class=\"pl-c1\"\u003eread\u003c/span\u003e -p \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eПользователь: \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -r iuser","        \u003cspan class=\"pl-c1\"\u003eread\u003c/span\u003e -p \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eПароль: \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -r ipass\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e","        setproxy=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$iaddress\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$iuser\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$ipass\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","      \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e${setproxy[0]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -ciE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^(http|https|socks[4-5]):\\/\\/([0-9a-zа-я-]+\\.){1,}[0-9a-zа-я-]+:[0-9]{2,5}$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-ne\u003c/span\u003e 0 ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        iprotocol=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e${setproxy[0]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -Eo \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e(http|https|socks[4-5])\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","        iaddress=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e${setproxy[0]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed -r \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es/^[^:]+:\\/\\///\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","        iuserpass=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${setproxy[1]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${setproxy[2]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e iuserpass=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${setproxy[1]}\u003c/span\u003e:\u003cspan class=\"pl-smi\"\u003e${setproxy[2]}\u003c/span\u003e@\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003eexport\u003c/span\u003e {http,https,ftp,all}_proxy=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${iprotocol}\u003c/span\u003e://\u003cspan class=\"pl-smi\"\u003e${iuserpass}${iaddress}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003eexport\u003c/span\u003e {HTTP,HTTPS,FTP,ALL}_PROXY=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${iprotocol}\u003c/span\u003e://\u003cspan class=\"pl-smi\"\u003e${iuserpass}${iaddress}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","        echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНекорректный адрес прокси сервера\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e что не проксиреуем\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eexport\u003c/span\u003e no_proxy=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elocalhost,*.local,127.0.0.0/8,::1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eexport\u003c/span\u003e NO_PROXY=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003elocalhost,*.local,127.0.0.0/8,::1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверка, подключение через прокси\u003c/span\u003e","      [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003efor i \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e {1..3}\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e curl -s -o /dev/null -m 5 --connect-timeout 5 \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_repo_url\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e 1 \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003ebreak\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e sleep 0.5\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e done\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНе удалось подключится к интернету\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      internetstatus=1","    \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удаляем proxy переменные среды\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eunset\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e {http,https,ftp,all}_proxy","    \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e {HTTP,HTTPS,FTP,ALL}_PROXY","    \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e no_proxy\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e NO_PROXY","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e получаем последнию версию библиотеки gcc, cpp, ... доступных в репозитории для пакетного менеджера apt-get\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eapt_get_lib\u003c/span\u003e {","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e ищем пакеты в базе apt-cache для установки\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ep\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^gcc([-.1-9]+)*(-c\\+\\+)*$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^cpp([-.1-9]+)*$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^libreadline[-.1-9]+$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^g\\+\\+$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^libstdc\\+\\+[-.1-9]+(dev|devel)(-static)*$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ei\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eapt-cache search \u003cspan class=\"pl-smi\"\u003e$p\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -Eo \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^[^ ]+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","      ver=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -Eo \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e[.0-9]+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","       \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e добавляем в установку пакеты без версии\u003c/span\u003e","      [ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$ver\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e out_nv=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$out_nv\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003econtinue\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e вычистяем версию текущего пакета\u003c/span\u003e","      tmp_ver=\u003cspan class=\"pl-smi\"\u003e$ver\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e ver=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$ver\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es/\\.//\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$ver\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$tmp_ver\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e ver=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${ver}\u003c/span\u003e0\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e если версия новее, начинаем с нуля. если версия совпадает то дописываем\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$old_ver\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$ver\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-gt\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$old_ver\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e tmp_out=\u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [[ \u003cspan class=\"pl-smi\"\u003e$ver\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$old_ver\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e tmp_out=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$tmp_out\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e old_ver=\u003cspan class=\"pl-smi\"\u003e$ver\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","\t  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e дописываем пакеты по маске к выводу\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e old_ver\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e out=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$out\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$tmp_out\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e выводим список всех пакетов для установки\u003c/span\u003e","  \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$out\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$out_nv\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es/  / /g\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es/^ //\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es/ $//\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка репозиториев\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003einstall_repo\u003c/span\u003e {","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн режим установки\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eonline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_type\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eupdate\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e (\u003cspan class=\"pl-smi\"\u003e$build_type\u003c/span\u003e == \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003einstall\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$build_os\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e= \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e) ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    proxy_configuration \u003cspan class=\"pl-c1\"\u003eset\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНастройка репозиториев и фиксация версий пакетов\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","      centos7)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e решение проблемы поддержки centOS7 с 01.07.2024\u003c/span\u003e","        sed -i s/mirror.centos.org/vault.centos.org/g /etc/yum.repos.d/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e.repo \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null","        sed -i s/^\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e.*baseurl=http/baseurl=http/g /etc/yum.repos.d/*.repo 2\u0026gt; /dev/null\u003c/span\u003e","        sed -i s/^mirrorlist=http/\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003emirrorlist=http/g /etc/yum.repos.d/*.repo\u003c/span\u003e","        yum install -y epel-release \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка подлючения repo с Epel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e пакет основных утилит ставится заранее перед скачиванием пакетов через repotrack\u003c/span\u003e","        yum install -y yum-utils \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки основных утилит\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e ffmpeg репозиторий, содержащий ffmpeg 3,2 версии.\u003c/span\u003e","        yum localinstall -y --nogpgcheck https://download1.rpmfusion.org/free/el/rpmfusion-free-release-7.noarch.rpm \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка подлючения repo с FFmpeg\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление списка пакетов после добавления репы\u003c/span\u003e","        yum makecache \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","      ;;","      debian)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e подключаем репозитория base и external для AstraLinux и обновления списка пакетов\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-smi\"\u003e$os_id\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eastra\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","          repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e/etc/apt/sources.list\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          i=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -iEo \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^#[ ]*deb.*astralinux.*-base.+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e -m1\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e o=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -Eo \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e[^#]+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|\u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e|\u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e|\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","          i=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -iEo \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^#[ ]*deb.*astralinux.*-extended.+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e -m1\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e o=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -Eo \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e[^#]+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|\u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e|\u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e|\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e очищаем локальный кеш пакетов\u003c/span\u003e","        rm -rf /var/cache/apt/archives/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e.deb \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление списка пакетов\u003c/span\u003e","        apt-get update \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","      ;;","      rhel)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e пакет основных утилит ставится заранее перед скачиванием пакетов через repotrack\u003c/span\u003e","        yum install -y yum-utils \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки основных утилит\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e подключения репозирория ffmpeg для CentOS 8 и ContOS 9\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-smi\"\u003e$os_id\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecentos\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","          yum install -y epel-release \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка подлючения repo с Epel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          dnf config-manager --set-enabled powertools \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e dnf config-manager --set-enabled crb \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка подлючения repo с FFmpeg\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          dnf install --nogpgcheck https://mirrors.rpmfusion.org/free/el/rpmfusion-free-release-\u003cspan class=\"pl-smi\"\u003e$os_version\u003c/span\u003e.noarch.rpm -y \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка подлючения repo с FFmpeg\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          dnf install --nogpgcheck https://mirrors.rpmfusion.org/nonfree/el/rpmfusion-nonfree-release-\u003cspan class=\"pl-smi\"\u003e$os_version\u003c/span\u003e.noarch.rpm -y \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка подлючения repo с FFmpeg\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление списка пакетов после добавления репы\u003c/span\u003e","        yum makecache \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","      ;;","      altlinux)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e очищаем локальный кеш пакетов\u003c/span\u003e","        rm -rf /var/cache/apt/archives/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e.rpm \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление списка пакетов\u003c/span\u003e","        apt-get update \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","      ;;","    \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн режим установки\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eoffline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","      centos7)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e отключаем все репозитории и включаем локальный\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОтключаем все репозитории и подключаем локальный \u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -rliE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^[ #]*baseurl.+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e /etc/yum.repos.d/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|^|###pve###|g\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -rliE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^[ #]*baseurl.+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e /etc/distro.repos.d/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|^|###pve###|g\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e[PVE]\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003ename = PVE\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003ebaseurl = file://\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003eenabled = 1\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003egpgcheck = 0\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /etc/yum.repos.d/pve.repo","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление списка пакетов\u003c/span\u003e","        yum makecache \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","      ;;","      debian)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e отключаем все репозитории и включаем локальный\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОтключаем все репозитории и подключаем локальный \u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -rliE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^[ ]*deb.+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e /etc/apt/sources.list\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|^[ ]*deb|###pve###deb|\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003edeb [arch=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003edpkg --print-architecture\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e trusted=yes] file://\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e pve\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /etc/apt/sources.list.d/pve.list \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка настройки репозитория\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e очищаем локальный кеш пакетов\u003c/span\u003e","        rm -rf /var/cache/apt/archives/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e.deb \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление списка пакетов\u003c/span\u003e","        apt-get update \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","      ;;","      rhel)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e отключаем все репозитории и включаем локальный\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОтключаем все репозитории и подключаем локальный \u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -rliE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^[ #]*baseurl.+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e /etc/yum.repos.d/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|^|###pve###|g\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -rliE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^[ #]*baseurl.+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e /etc/distro.repos.d/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|^|###pve###|g\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e[PVE]\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003ename = PVE\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003ebaseurl = file://\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003eenabled = 1\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003egpgcheck = 0\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /etc/yum.repos.d/pve.repo","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление списка пакетов\u003c/span\u003e","        yum makecache \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","      ;;","      altlinux)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e отключаем все репозитории и включаем локальный\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОтключаем все репозитории и подключаем локальный \u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -rliE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^[ ]*rpm.+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e /etc/apt/sources.list\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|^[ ]*rpm|###pve###rpm|\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003erpm file://\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e pve\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /etc/apt/sources.list.d/pve.list \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка настройки репозитория\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e очищаем локальный кеш пакетов\u003c/span\u003e","        rm -rf /var/cache/apt/archives/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e.rpm \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление списка пакетов\u003c/span\u003e","        apt-get update \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","      ;;","    \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удаление локального\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eremlocal\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","      centos7)","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНастройка списка репозиториев в исходное состояние\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -rliE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^###pve###$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e /etc/yum.repos.d/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e sed -i -r \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|^(###pve###)+||\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -rliE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^###pve###$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e /etc/distro.repos.d/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e sed -i -r \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|^(###pve###)+||\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        rm -f /etc/yum.repos.d/pve.repo \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","      ;;","      debian)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e включаем все репозитории и отключаем локальный\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНастройка списка репозиториев в исходное состояние\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -rliE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^###pve###deb.+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e /etc/apt/sources.list\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|^###pve###deb|deb|\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        rm -f /etc/apt/sources.list.d/pve.list \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","      ;;","      rhel)","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНастройка списка репозиториев в исходное состояние\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -rliE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^###pve###$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e /etc/yum.repos.d/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e sed -i -r \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|^(###pve###)+||\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -rliE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^###pve###$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e /etc/distro.repos.d/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e sed -i -r \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|^(###pve###)+||\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        rm -f /etc/yum.repos.d/pve.repo \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","      ;;","      altlinux)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e включаем все репозитории и отключаем локальный\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНастройка списка репозиториев в исходное состояние\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -rliE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^###pve###rpm.+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e /etc/apt/sources.list\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003eo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$repo\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es|^###pve###rpm|rpm|\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$o\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        rm -f /etc/apt/sources.list.d/pve.list \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","      ;;","    \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверка драйвера на GPU\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003echeck_installed_gpu\u003c/span\u003e {","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверка наличия карты в системе\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eПроверка наличия видеокарт(ы) NVIDIA в системе\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    lGPU=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003elspci \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -iEo \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e.+(3d|vga).+controller.+nvidia.+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","    [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$lGPU\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНе найдено ни одной видеокарты NVIDIA в системе\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$lGPU\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверка корректности установленного драйвера\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eПроверка корректности установленного драйвера NVIDIA\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    [[ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003elsmod \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -ic nvidia\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e 0 ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eМодуль ядра видео драйвера NVIDIA не загружен\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    cat /proc/driver/nvidia/version \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eПроверка корректности инициализации видеокарт(ы) драйвером\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    dGPU=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003els /proc/driver/nvidia/gpus \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","    [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$dGPU\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eДрайвер NVIDIA не инициализировал ни одной видеокарты\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ed\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$dGPU\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e cat \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e/proc/driver/nvidia/gpus/\u003cspan class=\"pl-smi\"\u003e$d\u003c/span\u003e/information\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверка версии CUDA Toolkit\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eПроверка установки CUDA Toolkit\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    iCU=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tr -d cu \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","    mapfile -t install_nvcc \u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026lt;(\u003c/span\u003efind /usr -path \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e*cuda*\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e -regex \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e.*/cuda-[0-9.]*\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e -type d \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверка корректности установки CUDA Toolkit\u003c/span\u003e","    [[ \u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003einstall_nvcc[@]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-gt\u003c/span\u003e 1 ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003es\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${install_nvcc[@]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e tree -L 1 --noreport \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-smi\"\u003e$s\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$s\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНайдено несколько версий CUDA Toolkit. Необходимо оставить одну\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    [[ \u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003einstall_nvcc[@]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e 0 \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${install_nvcc[0]}\u003c/span\u003e/bin/nvcc --version \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eCUDA Toolkit не установлен\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    basename \u003cspan class=\"pl-smi\"\u003e${install_nvcc[0]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e awk -F\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e-\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e{print \u0026quot;CUDA Toolkit: v\u0026quot;$NF}\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e определяем версию CUDA Toolkit (должен быть \u0026lt;= версии CUDA, поддерживаемой драйвером)\u003c/span\u003e","    vCUDAt=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003egrep -iEo \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eCUDA_VERSION[ ]*[0-9.]+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -m1 \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003efind \u003cspan class=\"pl-smi\"\u003e${install_nvcc[0]}\u003c/span\u003e -iname cuda.h -type f \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e head -1 \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/CUDA_VERSION\\s*//i\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/\\.//g\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сравнение версии CUDA Toolkit с ключем установки\u003c/span\u003e","    [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$iCU\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e (\u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e -z \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$vCUDAt\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$iCU\u003c/span\u003e -ne \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$((\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$vCUDAt\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e/\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e1000\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e) ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eВерсия CUDA Toolkit, в системе, не совпадает с ключом установки \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сравнение версии CUDA Toolkit с версией, поддерживаемой драйвером\u003c/span\u003e","    vCUDAd=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eawk \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003eBEGIN {IGNORECASE=1} {if (FILENAME != \u0026quot;\u0026quot;) {if (match($0, /release[ ]*[0-9.]+/)) {ver=substr($0, RSTART, RLENGTH); gsub(/release[ ]*/, \u0026quot;\u0026quot;, ver); gsub(/\\./, \u0026quot; \u0026quot;, ver); print ver }}}\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003efind /usr -iname libnvidia-ptxjitcompiler.so.\u003cspan class=\"pl-k\"\u003e?\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e)","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$vCUDAd\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003evCUDAd[@]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-gt\u003c/span\u003e 0 ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      [ \u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003evCUDAd[@]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e 1 ] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e vCUDAd=(\u003cspan class=\"pl-smi\"\u003e${vCUDAd[@]}\u003c/span\u003e 0)","      \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eCUDA Driver: v\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e${vCUDAd[@]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tr \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e.\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","      [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$vCUDAt\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$vCUDAt\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-gt\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$((\u003c/span\u003e$((\u003cspan class=\"pl-smi\"\u003e${vCUDAd[0]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e1000\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e + \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$((\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${vCUDAd[1]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e10\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e)) ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eВерсия CUDA Toolkit должна быть меньше или равна версии, поддерживаемой драйвером\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eПроверка установки CUDnn\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e определяем установлен ли CUDnn\u003c/span\u003e","    [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003efind /usr -iname cudnn\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e.h\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eCUDnn не установлен\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОК\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка системных пакетов\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003einstall_pac\u003c/span\u003e {","  \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","    centos7)","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверка на \u0026quot;битые\u0026quot; и прерванные установки\u003c/span\u003e","      yum-complete-transaction --cleanup-only \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создаем деррикторию репозитория, куда будем выгружать пакеты\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        mkdir -p \u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","        [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-d\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка основных системных пакетов\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e if [ \u0026quot;$1\u0026quot; == \u0026quot;system\u0026quot; ]; then\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e   for (( i=0; i\u0026lt;\u0026quot;${#packages_system_centos7[@]}\u0026quot;; i++ )); do\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     echo_info \u0026quot;Установка ${packages_system_centos7[i]}\u0026quot;\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     if [ ! -z $2 ]; then yumdownloader --downloadonly --resolve --downloaddir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; --destdir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; ${packages_system_centos7[i]} || yum install -y --downloadonly --downloaddir=\u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; ${packages_system_centos7[i]} || echo_error \u0026quot;Ошибка загрузки  ${packages_system_centos7[i]}\u0026quot;; fi\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     if [ ! -z $2 ]; then for p in $(repoquery --suggests ${packages_system_centos7[i]} |xargs -r); do yumdownloader --downloaddir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; --destdir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; $p || echo_error \u0026quot;Ошибка загрузки ${packages_system_centos7[i]}\u0026quot;; done; fi\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     yum install -y ${packages_system_centos7[i]} || yum update -y ${packages_system_centos7[i]} || echo_error \u0026quot;Ошибка установки ${packages_system_centos7[i]}\u0026quot;\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e   done\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esystem\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e((\u003c/span\u003e i\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e; i\u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e\u0026quot;\u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003epackages_system_centos7[@]}\u003c/span\u003e\u0026quot;; i\u003cspan class=\"pl-k\"\u003e++\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка \u003cspan class=\"pl-smi\"\u003e${packages_system_centos7[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e yumdownloader --downloadonly --resolve --alldeps --downloaddir \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages/\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${packages_system_centos7[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e yum install -y --downloadonly --downloaddir=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages/\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${packages_system_centos7[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки \u003cspan class=\"pl-smi\"\u003e${packages_system_centos7[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","          yum install -y \u003cspan class=\"pl-smi\"\u003e${packages_system_centos7[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e yum reinstall -y \u003cspan class=\"pl-smi\"\u003e${packages_system_centos7[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки \u003cspan class=\"pl-smi\"\u003e${packages_system_centos7[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка остальных пакетов\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e elif [ \u0026quot;$1\u0026quot; == \u0026quot;main\u0026quot; ]; then\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e   for (( i=0; i\u0026lt;\u0026quot;${#packages_main_centos7[@]}\u0026quot;; i++ )); do\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     echo_info \u0026quot;Установка ${packages_main_centos7[i]}\u0026quot;\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     if [ ! -z $2 ]; then yumdownloader --downloadonly --resolve --downloaddir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; --destdir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; ${packages_main_centos7[i]} || yum install -y --downloadonly --downloaddir=\u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; ${packages_main_centos7[i]} || echo_error \u0026quot;Ошибка загрузки  ${packages_main_centos7[i]}\u0026quot;; fi\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     if [ ! -z $2 ]; then for p in $(repoquery --suggests ${packages_main_centos7[i]} |xargs -r); do yumdownloader --downloaddir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; --destdir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; $p || echo_error \u0026quot;Ошибка загрузки ${packages_main_centos7[i]}\u0026quot;; done; fi\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     yum install -y ${packages_main_centos7[i]} || yum update -y ${packages_main_centos7[i]} || echo_error \u0026quot;Ошибка установки ${packages_main_centos7[i]}\u0026quot;\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e   done\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e fi\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003emain\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e((\u003c/span\u003e i\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e; i\u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e\u0026quot;\u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003epackages_main_centos7[@]}\u003c/span\u003e\u0026quot;; i\u003cspan class=\"pl-k\"\u003e++\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка \u003cspan class=\"pl-smi\"\u003e${packages_main_centos7[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e yumdownloader --downloadonly --resolve --alldeps --downloaddir \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages/\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${packages_main_centos7[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e yum install -y --downloadonly --downloaddir=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages/\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${packages_system_centos7[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки \u003cspan class=\"pl-smi\"\u003e${packages_main_centos7[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","          yum install -y \u003cspan class=\"pl-smi\"\u003e${packages_main_centos7[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e yum reinstall -y \u003cspan class=\"pl-smi\"\u003e${packages_main_centos7[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки \u003cspan class=\"pl-smi\"\u003e${packages_main_centos7[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    ;;","    debian)","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка основных системных пакетов\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esystem\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e ставим последнию версию c/c++ компилятора\u003c/span\u003e","        app_get_lib_tmp=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eapt_get_lib\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка последней версии c/c++ компилятора\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef --reinstall -d -y \u003cspan class=\"pl-smi\"\u003e$app_get_lib_tmp\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки \u003cspan class=\"pl-smi\"\u003e$app_get_lib_tmp\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","        DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y \u003cspan class=\"pl-smi\"\u003e$app_get_lib_tmp\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки \u003cspan class=\"pl-smi\"\u003e$app_get_lib_tmp\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e((\u003c/span\u003e i\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e; i\u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e\u0026quot;\u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003epackages_system_debian[@]}\u003c/span\u003e\u0026quot;; i\u003cspan class=\"pl-k\"\u003e++\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка \u003cspan class=\"pl-smi\"\u003e${packages_system_debian[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef --reinstall -d -y \u003cspan class=\"pl-smi\"\u003e${packages_system_debian[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки \u003cspan class=\"pl-smi\"\u003e${packages_system_debian[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","          DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y \u003cspan class=\"pl-smi\"\u003e${packages_system_debian[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \\","          DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y \u003cspan class=\"pl-smi\"\u003e${packages_system_debian[i]}\u003c/span\u003e --reinstall \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки \u003cspan class=\"pl-smi\"\u003e${packages_system_debian[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка остальных пакетов\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003emain\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e((\u003c/span\u003e i\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e; i\u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e\u0026quot;\u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003epackages_main_debian[@]}\u003c/span\u003e\u0026quot;; i\u003cspan class=\"pl-k\"\u003e++\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка \u003cspan class=\"pl-smi\"\u003e${packages_main_debian[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef --reinstall -d -y \u003cspan class=\"pl-smi\"\u003e${packages_main_debian[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки \u003cspan class=\"pl-smi\"\u003e${packages_main_debian[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","          DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y \u003cspan class=\"pl-smi\"\u003e${packages_main_debian[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \\","          DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y \u003cspan class=\"pl-smi\"\u003e${packages_main_debian[i]}\u003c/span\u003e --reinstall \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки \u003cspan class=\"pl-smi\"\u003e${packages_main_debian[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    ;;","    rhel)","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверка на \u0026quot;битые\u0026quot; и прерванные установки\u003c/span\u003e","      yum-complete-transaction --cleanup-only \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создаем деррикторию репозитория, куда будем выгружать пакеты\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        mkdir -p \u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","        [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-d\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка основных системных пакетов\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e if [ \u0026quot;$1\u0026quot; == \u0026quot;system\u0026quot; ]; then\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e   for (( i=0; i\u0026lt;\u0026quot;${#packages_system_rhel[@]}\u0026quot;; i++ )); do\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     echo_info \u0026quot;Установка ${packages_system_rhel[i]}\u0026quot;\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     if [ ! -z $2 ]; then yumdownloader --downloadonly --downloaddir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; --destdir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; ${packages_system_rhel[i]} || yum install -y --downloadonly --downloaddir=\u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; ${packages_system_rhel[i]} || echo_error \u0026quot;Ошибка загрузки ${packages_system_rhel[i]}\u0026quot;; fi\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     if [ ! -z $2 ]; then for p in $(repoquery -R ${packages_system_rhel[i]} |xargs -r); do yumdownloader --downloaddir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; --destdir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; $p || echo_error \u0026quot;Ошибка загрузки ${packages_system_rhel[i]}\u0026quot;; done; fi\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     yum install -y ${packages_system_rhel[i]} || yum update -y ${packages_system_rhel[i]} || echo_error \u0026quot;Ошибка установки ${packages_system_rhel[i]}\u0026quot;\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e   done\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esystem\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e((\u003c/span\u003e i\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e; i\u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e\u0026quot;\u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003epackages_system_rhel[@]}\u003c/span\u003e\u0026quot;; i\u003cspan class=\"pl-k\"\u003e++\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка \u003cspan class=\"pl-smi\"\u003e${packages_system_rhel[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e yumdownloader --downloadonly --resolve --alldeps --downloaddir \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages/\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${packages_system_rhel[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e yum install -y --downloadonly --downloaddir=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages/\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${packages_system_rhel[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки \u003cspan class=\"pl-smi\"\u003e${packages_system_rhel[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","          yum install --allowerasing -y \u003cspan class=\"pl-smi\"\u003e${packages_system_rhel[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e yum reinstall --allowerasing -y \u003cspan class=\"pl-smi\"\u003e${packages_system_rhel[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки \u003cspan class=\"pl-smi\"\u003e${packages_system_rhel[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка остальных пакетов\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e elif [ \u0026quot;$1\u0026quot; == \u0026quot;main\u0026quot; ]; then\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e   for (( i=0; i\u0026lt;\u0026quot;${#packages_main_rhel[@]}\u0026quot;; i++ )); do\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     echo_info \u0026quot;Установка ${packages_main_rhel[i]}\u0026quot;\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     if [ ! -z $2 ]; then yumdownloader --downloadonly --downloaddir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; --destdir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; ${packages_main_rhel[i]} || yum install -y --downloadonly --downloaddir=\u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; ${packages_main_rhel[i]} || echo_error \u0026quot;Ошибка загрузки ${packages_main_rhel[i]}\u0026quot;; fi\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     if [ ! -z $2 ]; then for p in $(repoquery -R ${packages_main_rhel[i]} |xargs -r); do yumdownloader --downloaddir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; --destdir \u0026quot;$int_arch_pack_dir/$os_codename/Packages/\u0026quot; $p || echo_error \u0026quot;Ошибка загрузки ${packages_main_rhel[i]}\u0026quot;; done; fi\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     # --allowerasing\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     yum install -y ${packages_main_rhel[i]} || yum update -y ${packages_main_rhel[i]} || echo_error \u0026quot;Ошибка установки  ${packages_main_rhel[i]}\u0026quot;\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e   done\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e fi\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003emain\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e((\u003c/span\u003e i\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e; i\u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e\u0026quot;\u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003epackages_main_rhel[@]}\u003c/span\u003e\u0026quot;; i\u003cspan class=\"pl-k\"\u003e++\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка \u003cspan class=\"pl-smi\"\u003e${packages_main_rhel[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e yumdownloader --downloadonly --resolve --alldeps --downloaddir \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages/\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${packages_main_rhel[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e yum install -y --downloadonly --downloaddir=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Packages/\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${packages_main_rhel[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки \u003cspan class=\"pl-smi\"\u003e${packages_main_rhel[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","          yum install --allowerasing -y \u003cspan class=\"pl-smi\"\u003e${packages_main_rhel[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e yum reinstall --allowerasing -y \u003cspan class=\"pl-smi\"\u003e${packages_main_rhel[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки  \u003cspan class=\"pl-smi\"\u003e${packages_main_rhel[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    ;;","    altlinux)","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка основных системных пакетов\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esystem\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e ставим последнию версию c/c++ компилятора\u003c/span\u003e","        app_get_lib_tmp=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eapt_get_lib\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка последней версии c/c++ компилятора\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e apt-get install --reinstall -d -y \u003cspan class=\"pl-smi\"\u003e$app_get_lib_tmp\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки \u003cspan class=\"pl-smi\"\u003e$app_get_lib_tmp\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","        apt-get install -y \u003cspan class=\"pl-smi\"\u003e$app_get_lib_tmp\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки \u003cspan class=\"pl-smi\"\u003e$app_get_lib_tmp\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e((\u003c/span\u003e i\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e; i\u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e\u0026quot;\u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003epackages_system_altlinux[@]}\u003c/span\u003e\u0026quot;; i\u003cspan class=\"pl-k\"\u003e++\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка \u003cspan class=\"pl-smi\"\u003e${packages_system_altlinux[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e apt-get install --reinstall -d -y \u003cspan class=\"pl-smi\"\u003e${packages_system_altlinux[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки \u003cspan class=\"pl-smi\"\u003e${packages_system_altlinux[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","          apt-get install -y \u003cspan class=\"pl-smi\"\u003e${packages_system_altlinux[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e apt-get install -y \u003cspan class=\"pl-smi\"\u003e${packages_system_altlinux[i]}\u003c/span\u003e --reinstall \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки \u003cspan class=\"pl-smi\"\u003e${packages_system_altlinux[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка остальных пакетов\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003emain\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e((\u003c/span\u003e i\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e; i\u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e\u0026quot;\u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003epackages_main_altlinux[@]}\u003c/span\u003e\u0026quot;; i\u003cspan class=\"pl-k\"\u003e++\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка \u003cspan class=\"pl-smi\"\u003e${packages_main_altlinux[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e apt-get install --reinstall -d -y \u003cspan class=\"pl-smi\"\u003e${packages_main_altlinux[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки \u003cspan class=\"pl-smi\"\u003e${packages_main_altlinux[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","          apt-get install -y \u003cspan class=\"pl-smi\"\u003e${packages_main_altlinux[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e apt-get install -y \u003cspan class=\"pl-smi\"\u003e${packages_main_altlinux[i]}\u003c/span\u003e --reinstall \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки \u003cspan class=\"pl-smi\"\u003e${packages_main_altlinux[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    ;;","  \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создание временных директорий\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003ecreate_temp_dirs\u003c/span\u003e {","  \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-d\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e mkdir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-d\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/packages ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e mkdir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/packages\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e работа с файлом переменных для офлайн установки\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eoffline_env\u003c/span\u003e {","  \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e если файл с переменными не сущетвует\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сохраняем\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-f\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/env ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eСоздание внешнего файла конфигурации установки\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ei\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$@\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","      \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/env \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка создания внешнего файла конфигурации установки\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e иначе подгружаем\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eПодключение внешнего файла конфигурации установки\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003e.\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/env \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка подключения внешнего файла конфигурации установки\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_type\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка конфигурации установки\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e загрузка ffmpeg 5.1 для установки поверх 3.2. Актуально только для центос7\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003edownload_ffmpeg\u003c/span\u003e {","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eonline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e в онлайн режиме загружаем архив просто рядом со скриптом\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","      centos7)","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eЗагрузка bin FFmpeg 5.1.2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003efor i \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e {1..5}\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e curl -C - -L --connect-timeout 15 -# --output \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e/ffmpeg-5.1.2.tar.bz2 https://github.com/q3aql/ffmpeg-builds/releases/download/v5.1.2/ffmpeg-5.1.2-linux-gnu-64bit-build.tar.bz2 \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003etrue\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003ebreak\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003efalse\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tail -1\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","          echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки bin FFmpeg 5.1.2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","      ;;","      debian)","      ;;","      rhel)","      ;;","      altlinux)","      ;;","    \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eoffline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e для сборки оффлайн инсталлера загружаем архив в папку archive\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eЗагрузка bin FFmpeg 5.1.2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003efor i \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e {1..5}\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e curl -C - -L --connect-timeout 15 -# --output \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/ffmpeg-5.1.2.tar.bz2 https://github.com/q3aql/ffmpeg-builds/releases/download/v5.1.2/ffmpeg-5.1.2-linux-gnu-64bit-build.tar.bz2 \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003etrue\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003ebreak\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003efalse\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tail -1\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки bin FFmpeg 5.1.2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка ffmpeg 5.1\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003einstall_ffmpeg\u003c/span\u003e {","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eonline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e в онлайн режиме устанавливает из директории скрипта\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","      centos7)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка происходит просто рахорхивированием архива в корень\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eКопирование bin FFmpeg 5.1.2 из архива\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        tar jxvf \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e/ffmpeg-5.1.2.tar.bz2 -C / \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка копирования bin FFmpeg 5.1.2 из архива\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      ;;","      debian)","      ;;","      rhel)","      ;;","      altlinux)","      ;;","    \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eoffline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e в оффлайн ставим из папки archive\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","      centos7)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка происходит просто рахорхивированием архива в корень\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eКопирование bin FFmpeg 5.1.2 из архива\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        tar jxvf \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/ffmpeg-5.1.2.tar.bz2 -C / \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка копирования bin FFmpeg 5.1.2 из архива\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      ;;","      debian)","      ;;","      rhel)","      ;;","      altlinux)","      ;;","    \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e скачать пакеты\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003edownload_pac\u003c/span\u003e {","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e ставим пакеты, с выгрузкой бинарных файлов\u003c/span\u003e","  install_pac system d\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac main d\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","  \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","    centos7)","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e ставим пакеты для работы с репозиторием\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка createrepo\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      yum install -y createrepo \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки createrepo\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновляем метаинформации о пакетах\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОбновление метаинформации о пакетах\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      createrepo -v \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка обновления метаинформации о пакетах\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    ;;","    debian)","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создаем структуру каталогов репозитория и перемещаем пакеты\u003c/span\u003e","      architecture=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003edpkg --print-architecture\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","      mkdir -p \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/dists/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/pve \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","      mkdir -p \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/dists/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/pve/binary-\u003cspan class=\"pl-smi\"\u003e$architecture\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","      cp -p /var/cache/apt/archives/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e.deb \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/dists/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/pve \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка копирование cache(а) пакетов apt-get\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e ставим пакеты для работы с репозиторием\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка dpkg-dev apt-utils\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      apt-get install -y dpkg-dev apt-utils \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки dpkg-dev apt-utils\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновляем метаинформации о пакетах\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОбновление метаинформации о пакетах\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003edpkg-scanpackages -t deb $PWD/dists/$os_codename/pve | gzip -c9 \u0026gt; $PWD/dists/$os_codename/pve/Packages.gz || echo_error \u0026quot;Ошибка обновления метаинформации о пакетах\u0026quot;\u003c/span\u003e","      dpkg-scanpackages -a \u003cspan class=\"pl-smi\"\u003e$architecture\u003c/span\u003e dists/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/pve \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/dists/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/pve/binary-\u003cspan class=\"pl-smi\"\u003e$architecture\u003c/span\u003e/Packages \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \\","      dpkg-scanpackages -a \u003cspan class=\"pl-smi\"\u003e$architecture\u003c/span\u003e dists/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/pve \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e gzip -c9 \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/dists/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/pve/binary-\u003cspan class=\"pl-smi\"\u003e$architecture\u003c/span\u003e/Packages.gz \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \\","      dpkg-scanpackages -a \u003cspan class=\"pl-smi\"\u003e$architecture\u003c/span\u003e dists/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/pve \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e bzip2 -c9 \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/dists/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/pve/binary-\u003cspan class=\"pl-smi\"\u003e$architecture\u003c/span\u003e/Packages.bz2 \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \\","      echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка обновления метаинформации о пакетах\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eГенерации файла Release\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e -n \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eOrigin: Unknown\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003eLabel: Unknown\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003eSuite: Unknown\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003eCodename: \u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003eArchitectures: \u003cspan class=\"pl-smi\"\u003e$architecture\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003eComponents: pve\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003eDescription: Not Available\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/dists/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Release \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e apt-ftparchive release \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/dists/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/dists/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/Release \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка генерации файла Release\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    ;;","    rhel)","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e ставим пакеты для работы с репозиторием\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка createrepo\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      yum install -y createrepo \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки createrepo\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновляем метаинформации о пакетах\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОбновление метаинформации о пакетах\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      createrepo -v \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка обновления метаинформации о пакетах\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    ;;","    altlinux)","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создаем структуру каталогов репозитория и перемещаем пакеты\u003c/span\u003e","      mkdir -p \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/base \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","      mkdir -p \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/RPMS.pve \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","      cp -p /var/cache/apt/archives/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e.rpm \u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e/RPMS.pve \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка копирование cache(а) пакетов apt-get\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e ставим пакеты для работы с репозиторием\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка apt-repo-tools\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      apt-get install -y apt-repo-tools \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки apt-repo-tools\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновляем метаинформации о пакетах\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОбновление метаинформации о пакетах\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      genbasedir --bloat --progress --topdir=\u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_codename\u003c/span\u003e pve \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка обновления метаинформации о пакетах\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    ;;","  \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","}","","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eset_devpi_repo\u003c/span\u003e {","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e если доступен локальный репозиторий pip, подключаем его\u003c/span\u003e","  echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eПодключение \u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$python_devpi\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e репозитория DevPI\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  python_pip_repo=https://pypi.org/simple/","  [[ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003efor i \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e {1..3}\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e curl -s -o /dev/null -m 5 --connect-timeout 5 -w \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e%{http_code}\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e https://\u003cspan class=\"pl-smi\"\u003e$python_devpi\u003c/span\u003e/devpi/root/pypi/+simple/ \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003ebreak\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e sleep 0.5\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tail -1 \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e rev \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e cut -c 1-3 \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e rev\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e 200 ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e python_pip_repo=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e--index-url https://\u003cspan class=\"pl-smi\"\u003e$python_devpi\u003c/span\u003e/devpi/root/pypi/+simple/ --trusted-host \u003cspan class=\"pl-smi\"\u003e$python_devpi\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \\","  echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка подключения, репозиторий \u003cspan class=\"pl-smi\"\u003e$python_devpi\u003c/span\u003e недоступен\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e определяем набор модулей python для установки\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003elist_pip3_modules\u003c/span\u003e {","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка определения набора модулей Python\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка модулей питона из списка в массиве или из внешнего файла модулей\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e-f\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$list_pip3_modules_ext\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eСуществует внешний файл списока модулей pip3\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    mapfile -t not_install \u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$list_pip3_modules_ext\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [[ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003efull\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecpu\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecu11\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecu12\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eups\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eurs\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eses\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eonline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eoffline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e набор модулей\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003eeval\u003c/span\u003e not_install=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\$\u003c/span\u003e{modules_pip3_\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e[@]}\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверка версии компилятора, исключаем\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e${not_install[@]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ellama-cpp-python\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e (\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eg++ -std=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ec++17\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e= \u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecollect2\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eg++ -dumpversion \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e cut -c1\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e -le 8) ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      [ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eqas\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eВаш C++ компилятор устарел. Можорная версия должна быть \u0026gt;=9 с поддержкой стандарта \u0026gt;=C++17. Окружение для OAS не поддерживается\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eВаш C++ компилятор устарел. Можорная версия должна быть \u0026gt;=9 с поддержкой стандарта \u0026gt;=C++17. Окружение без поддержки QAS\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      not_install=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e${not_install[@]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed -r \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es#(^| )llama-cpp-python[^ ]*##g\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e)","    \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e 2 набора модулей\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003efull\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecpu\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecu11\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecu12\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eups\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eurs\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eses\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОпределение типа установки\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка: \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e; собрано: \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      modules_pip3_offline=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${not_install[@]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e modules_pip3_online=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","      \u003cspan class=\"pl-c1\"\u003eeval\u003c/span\u003e not_install_tmp=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\$\u003c/span\u003e{modules_pip3_\u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e[@]}\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ec\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${not_install[@]}\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$not_install_tmp\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -c \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$c\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -m1\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e 0 ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","          modules_pip3_offline=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$modules_pip3_offline\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es/\u003cspan class=\"pl-smi\"\u003e$c\u003c/span\u003e//\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","          modules_pip3_online=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$modules_pip3_online\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$c\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","      \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e not_install","      \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e not_install_tmp","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e настраиваем прокси\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$modules_pip3_online\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eТребуется загрузить недостающие модули\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$modules_pip3_online\u003c/span\u003e","        proxy_configuration \u003cspan class=\"pl-c1\"\u003eset\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","      modules_pip3_offline=(\u003cspan class=\"pl-smi\"\u003e$modules_pip3_offline\u003c/span\u003e)","      modules_pip3_online=(\u003cspan class=\"pl-smi\"\u003e$modules_pip3_online\u003c/span\u003e)","    \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e перенос pyenv из root директории\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003edownload_pyenv\u003c/span\u003e {"," \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e"," \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удаление всех версий питона из папки pyenv\u003c/span\u003e"," rm -rf \u003cspan class=\"pl-smi\"\u003e$HOME\u003c/span\u003e/.pyenv/versions/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e"," \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e перенос системного pyenv в папку формируемого архива\u003c/span\u003e"," cp -rp \u003cspan class=\"pl-smi\"\u003e$HOME\u003c/span\u003e/.pyenv \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/ \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e rm -rf \u003cspan class=\"pl-smi\"\u003e$HOME\u003c/span\u003e/.pyenv"," \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создание папки кэш куда будет скачан архив для оффлайн установки версии питона\u003c/span\u003e"," mkdir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/.pyenv/cache"," \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e перенос архива установки питона в папку кэш(установщик там ищет архив)\u003c/span\u003e"," \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","  centos7)","    mv \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/.pyenv/sources/\u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e/Python-\u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e.tar.xz \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/.pyenv/cache","    ;;","  debian)","    mv \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/.pyenv/sources/\u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e/Python-\u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e.tar.xz \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/.pyenv/cache","    ;;","  rhel)","    mv \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/.pyenv/sources/\u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e/Python-\u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e.tar.xz \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/.pyenv/cache","    ;;","  altlinux)","    mv \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/.pyenv/sources/\u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e/Python-\u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e.tar.xz \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/.pyenv/cache","    ;;"," \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e скачивание модулей python\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003edownload_modules\u003c/span\u003e {","  \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e подключаем локальный pip репозиторий\u003c/span\u003e","  set_devpi_repo","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e переход локально на $python_ver_дистрибутив\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","    centos7)","      pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e","    ;;","    debian)","      pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e","    ;;","    rhel)","      pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e","    ;;","    altlinux)","      pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e","    ;;","  \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удаляем старый кеш pip\u003c/span\u003e","  rm -rf \u003cspan class=\"pl-smi\"\u003e$HOME\u003c/span\u003e/.cache/pip \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e временные папки\u003c/span\u003e","  echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eСоздание временной дерриктории \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  mkdir \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка создание временной дерриктории \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eСоздание временной дерриктории \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e/modules\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  mkdir \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e/modules \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка создание временной дерриктории \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e/modules\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создание окружения на базе питона\u003c/span\u003e","  echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eСоздание временного PVE окружения в \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  TMPDIR=/var/tmp python3 -m venv \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка всех модулей\u003c/span\u003e","   \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003esource \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e/bin/activate \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e deactivate \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003efalse\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e true\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка создания временного PVE окружения\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","   \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","   \u003cspan class=\"pl-c1\"\u003esource\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e/bin/activate","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление pip3 и других модулей, без их установки не загрузятся модули\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ei\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003epip\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ewheel\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003escikit-build\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esetuptools_rust\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003esetuptools\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecython\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003etomli\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","      TMPDIR=/var/tmp python3 -m pip install --no-cache-dir \u003cspan class=\"pl-smi\"\u003e$python_pip_repo\u003c/span\u003e --upgrade \u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e --retries 60 --timeout 60 \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null","    \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создаем файл типа устаноки, для детектирования офлайн установки\u003c/span\u003e","    list_pip3_modules \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e/modules\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e f_done=0","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e предпринемаем 3 попытки на установку модулей\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003ewhile\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$not_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$f_done\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-lt\u003c/span\u003e 3 ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e((\u003c/span\u003e i\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e; i\u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e\u0026quot;\u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003enot_install[@]}\u003c/span\u003e\u0026quot;; i\u003cspan class=\"pl-k\"\u003e++\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","        pip_modules=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e${not_install[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tr \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e|\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eЗагрузка модуля(ей) Python \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e загрузка torch\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -cE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e(^| )torch.*\\+(cpu|cu[0-9]+)\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-ne\u003c/span\u003e 0 ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","          TMPDIR=/var/tmp python3 -m pip download --index-url https://download.pytorch.org/whl/\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -Eo \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e(cpu|cu[0-9]+) -m1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \\","          \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$python_pip_repo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es#--index-url#--extra-index-url#\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e --timeout 60 \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \\","          (echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки модуля(ей) Python \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e not_install_tmp=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$not_install_tmp\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${not_install[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","        \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -cE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e(^| )llama-cpp-python-cu\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-ne\u003c/span\u003e 0 ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","            not_install[i]=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e${not_install[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/llama-cpp-python-cu/llama-cpp-python/\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","            TMPDIR=/var/tmp python3 -m pip download \u003cspan class=\"pl-smi\"\u003e$python_pip_repo\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/llama-cpp-python-cu/llama-cpp-python/\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e --timeout 60 \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e (echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки модуля(ей) Python \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e not_install_tmp=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$not_install_tmp\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${not_install[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","        \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","          TMPDIR=/var/tmp python3 -m pip download \u003cspan class=\"pl-smi\"\u003e$python_pip_repo\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e --timeout 60 \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e (echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки модуля(ей) Python \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e not_install_tmp=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$not_install_tmp\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${not_install[i]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","        \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","      not_install=(\u003cspan class=\"pl-smi\"\u003e$not_install_tmp\u003c/span\u003e)\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e f_done=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$((\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$f_done\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e+\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e not_install_tmp","    \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e если за 3 попытки не удалось загрузить нужные модули\u003c/span\u003e","    [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$not_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$f_done\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-ge\u003c/span\u003e 3 ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки модуля(ей) Python \u003cspan class=\"pl-smi\"\u003e${not_install[@]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  deactivate","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e переход локально на системную версию чтобы не сломать то что уже работает на системной\u003c/span\u003e","  pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e system","  rm -rf .python-version","  \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e перемещение с временной папки в основную папку архива\u003c/span\u003e","  cp -rp \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e/modules \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удаление временной папки\u003c/span\u003e","  rm -rf \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e","}","","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eexport_pyenv_enviroment\u003c/span\u003e {","  \u003cspan class=\"pl-k\"\u003eexport\u003c/span\u003e PYENV_ROOT=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$HOME\u003c/span\u003e/.pyenv\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e  \u003cspan class=\"pl-k\"\u003eexport\u003c/span\u003e PATH=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$PYENV_ROOT\u003c/span\u003e/bin:\u003cspan class=\"pl-smi\"\u003e$PATH\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-c1\"\u003eeval\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003epyenv init -\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","}","","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003einstall_pyenv\u003c/span\u003e {","  \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удаляем старый кеш pip\u003c/span\u003e","  rm -rf \u003cspan class=\"pl-smi\"\u003e$HOME\u003c/span\u003e/.cache/pip \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн установка\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eonline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eЗагрузка и установка Pyenv\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    rm -rf \u003cspan class=\"pl-smi\"\u003e$HOME\u003c/span\u003e/.pyenv \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e export_pyenv_enviroment \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ei\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e {1..3}\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e curl --connect-timeout 15 https://pyenv.run \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003ebreak\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e sleep 0.5\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e bash \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e export_pyenv_enviroment \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e sleep 0.5 \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки и установки Pyenv\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка питона с сохранением исходников ключ -k\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","      centos7)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создание дерриктории\u003c/span\u003e","        mkdir -p \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e/root/.pyenv/versions/\u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e/bin\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: загрузка и установка версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверка наличия нужной версии питона в репозитории pyenv\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003epyenv install --list \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^ *//g\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep ^\u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","          CPPFLAGS=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e-I/usr/include/openssl11\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e LDFLAGS=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e-L/usr/lib64/openssl11 -lssl -lcrypto\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e pyenv install -k -f \u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","         \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","          echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: нет такой версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","      ;;","      debian)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создание дерриктории\u003c/span\u003e","        mkdir -p \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e/root/.pyenv/versions/\u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e/bin\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: загрузка и установка версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003epyenv install --list \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^ *//g\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep ^\u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","          pyenv install -k -f \u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","         \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","          echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: нет такой версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","      ;;","      rhel)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создание дерриктории\u003c/span\u003e","        mkdir -p \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e/root/.pyenv/versions/\u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e/bin\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: загрузка и установка версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003epyenv install --list \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^ *//g\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep ^\u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","          pyenv install -k -f \u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","         \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","          echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: нет такой версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","      ;;","      altlinux)","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создание дерриктории\u003c/span\u003e","        mkdir -p \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e/root/.pyenv/versions/\u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e/bin\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: загрузка и установка версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003epyenv install --list \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^ *//g\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep ^\u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","          pyenv install -k -f \u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","         \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","          echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: нет такой версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","      ;;","    \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн установка\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eoffline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e перенести установленную версию pyenv в хом рута\u003c/span\u003e","      cp -rp \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/.pyenv /root \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e rm -rf \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/.pyenv","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e прописывание pyenv окружения (действует до первой перезагрузки)\u003c/span\u003e","      export_pyenv_enviroment","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка питона\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","        centos7)","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: установка версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверка наличия нужной версии питона в репозитории pyenv\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003epyenv install --list \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^ *//g\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep ^\u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","            CPPFLAGS=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e-I/usr/include/openssl11\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e LDFLAGS=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e-L/usr/lib64/openssl11 -lssl -lcrypto\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e pyenv install -s -f \u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","            echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: нет такой версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","        ;;","        debian)","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: установка версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003epyenv install --list \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^ *//g\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep ^\u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","            pyenv install -s -f \u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","            echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: нет такой версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","        ;;","        rhel)","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: установка версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003epyenv install --list \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^ *//g\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep ^\u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","            pyenv install -s -f \u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","            echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: нет такой версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","        ;;","        altlinux)","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: установка версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003epyenv install --list \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^ *//g\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep ^\u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","            pyenv install -s -f \u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","            echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePyenv: нет такой версии Python\u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","        ;;","      \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка pve окружения\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003einstall_pve\u003c/span\u003e {","  \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удаляем старый кеш pip\u003c/span\u003e","  rm -rf \u003cspan class=\"pl-smi\"\u003e$HOME\u003c/span\u003e/.cache/pip \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","  list_pip3_modules \u003cspan class=\"pl-smi\"\u003e$3\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн установка\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eoffline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e переход локально\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","      centos7)","        pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e","      ;;","      debian)","        pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e","      ;;","      rhel)","        pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e","      ;;","      altlinux)","        pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e","      ;;","        \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создание окружения на базе питона\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003esource \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e/bin/activate \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e deactivate \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003efalse\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e true\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eСоздание виртуального PVE окружения в \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      TMPDIR=/var/tmp python3 -m venv \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e sleep 0.5","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка модулей\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003esource \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e/bin/activate \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e deactivate \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003efalse\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e true\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка создания виртуального PVE окружения\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003esource\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e/bin/activate","      f_done=0","      \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e/modules \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление pip3\u003c/span\u003e","      TMPDIR=/var/tmp python3 -m pip install --no-cache-dir --upgrade pip --no-index --find-links \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e.\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e --retries 60 --timeout 60 \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e предпринемаем 3 попытки на установку модулей\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003ewhile\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$not_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$f_done\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-lt\u003c/span\u003e 3 ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e((\u003c/span\u003e i\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e; i\u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e\u0026quot;\u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003enot_install[@]}\u003c/span\u003e\u0026quot;; i\u003cspan class=\"pl-k\"\u003e++\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","          pip_modules=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e${not_install[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tr \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e|\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка модуля(ей) Python \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -cE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e(^| )llama-cpp-python-cu\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-ne\u003c/span\u003e 0 ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","            TMPDIR=/var/tmp CUDACXX=\u003cspan class=\"pl-smi\"\u003e${install_nvcc[0]}\u003c/span\u003e CMAKE_ARGS=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e-DGGML_CUDA=on\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e FORCE_CMAKE=1 python3 -m pip install --no-cache-dir \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/llama-cpp-python-cu/llama-cpp-python/\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e --no-index --find-links \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e.\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e --retries 60 --timeout 60 \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установкимодуля(ей) Python \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","            TMPDIR=/var/tmp python3 -m pip install --no-cache-dir \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e --no-index --find-links \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e.\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e --retries 60 --timeout 60 \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установкимодуля(ей) Python \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e контроль установки\u003c/span\u003e","        module_install=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003epip3 list \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tr -s \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\\r\\n\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ei\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${not_install[@]}\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ej\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tr \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e|\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","            s=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$j\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/==/ /\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e ss=(\u003cspan class=\"pl-smi\"\u003e$s\u003c/span\u003e)","            \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-smi\"\u003e$module_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!=\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$s\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$module_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!=\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$s\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tr \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e-\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e_\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$module_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!=\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$s\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/llama-cpp-python-cu/llama_cpp_python/\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003efind \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e/lib\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -maxdepth 3 -name \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${ss[0]}\u003c/span\u003e*\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]  \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e not_install_tmp=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$not_install_tmp\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003ebreak\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        not_install=(\u003cspan class=\"pl-smi\"\u003e$not_install_tmp\u003c/span\u003e)\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e f_done=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$((\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$f_done\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e+\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e not_install_tmp","      \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e если за 3 попытки не удалось поставить нужные модули\u003c/span\u003e","      [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$not_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$f_done\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-ge\u003c/span\u003e 3 ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки модуля(ей) Python \u003cspan class=\"pl-smi\"\u003e${not_install[@]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    deactivate","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e переход локально на системную версию чтобы не сломать то что уже работает на системной\u003c/span\u003e","    pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e system","   \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн установка pve\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [[ (\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e == \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eonline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e -z \u003cspan class=\"pl-smi\"\u003e$modules_pip3_online\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e -z \u003cspan class=\"pl-smi\"\u003e$modules_pip3_offline\u003c/span\u003e) \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e (\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e == \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eonline\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e -z \u003cspan class=\"pl-smi\"\u003e$modules_pip3_online\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e -z \u003cspan class=\"pl-smi\"\u003e$modules_pip3_offline\u003c/span\u003e) ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e подключаем локальный pip репозиторий\u003c/span\u003e","    set_devpi_repo","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e переход локально на версию питона установленную через pyenv\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e указывает системе работать с версией питона установленного в pyenv\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","      centos7)","        pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e","        python_ver_check=\u003cspan class=\"pl-smi\"\u003e$python_ver_centos\u003c/span\u003e","      ;;","      debian)","        pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e","        python_ver_check=\u003cspan class=\"pl-smi\"\u003e$python_ver_debian\u003c/span\u003e","      ;;","      rhel)","        pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e","        python_ver_check=\u003cspan class=\"pl-smi\"\u003e$python_ver_rhel\u003c/span\u003e","      ;;","      altlinux)","        pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e","        python_ver_check=\u003cspan class=\"pl-smi\"\u003e$python_ver_altlinux\u003c/span\u003e","      ;;","    \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создание виртуального питон окружения в папке\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003esource \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e/bin/activate \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e deactivate \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003efalse\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e true\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eСоздание виртуального PVE окружения в \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      TMPDIR=/var/tmp python3 -m venv \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e sleep 0.5","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка модулей\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003esource \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e/bin/activate \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e deactivate \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003efalse\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e true\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка создания виртуального PVE окружения\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003esource\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e/bin/activate","      f_done=0","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверка на правельную версию Python в окружение, нет смысла выкачивать модули если не совпадает\u003c/span\u003e","      [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003epython3 --version \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -c \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$python_ver_check\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e 0 ] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка, установленная версия Python, окружения, не совпадает с \u003cspan class=\"pl-smi\"\u003e$python_ver_check\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ei\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e {1..3}\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e curl -sS --connect-timeout 15 https://bootstrap.pypa.io/pip/get-pip.py \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003ebreak\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e sleep 0.5\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e python3","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление pip3\u003c/span\u003e","      TMPDIR=/var/tmp python3 -m pip install --no-cache-dir \u003cspan class=\"pl-smi\"\u003e$python_pip_repo\u003c/span\u003e --upgrade pip --retries 60 --timeout 60 \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e предпринемаем 3 попытки на установку модулей\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003ewhile\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$not_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$f_done\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-lt\u003c/span\u003e 3 ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e((\u003c/span\u003e i\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e; i\u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003enot_install[@]}\u003c/span\u003e; i\u003cspan class=\"pl-k\"\u003e++\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","          pip_modules=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e${not_install[i]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tr \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e|\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","          echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка модуля(ей) Python \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e загрузка torch\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -cE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e(^| )torch.*\\+(cpu|cu[0-9]+)\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-ne\u003c/span\u003e 0 ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","            TMPDIR=/var/tmp python3 -m pip install --no-cache-dir --index-url https://download.pytorch.org/whl/\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -Eo \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e(cpu|cu[0-9]+) -m1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \\","            \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$python_pip_repo\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es#--index-url#--extra-index-url#\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e --retries 60 --timeout 60 \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \\","            echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки модуля(ей) Python \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -cE \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e(^| )llama-cpp-python-cu\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-ne\u003c/span\u003e 0 ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","            TMPDIR=/var/tmp CUDACXX=\u003cspan class=\"pl-smi\"\u003e${install_nvcc[0]}\u003c/span\u003e CMAKE_ARGS=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e-DGGML_CUDA=on\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e FORCE_CMAKE=1 python3 -m pip install --no-cache-dir \u003cspan class=\"pl-smi\"\u003e$python_pip_repo\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/llama-cpp-python-cu/llama-cpp-python/\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e --retries 60 --timeout 60 \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки модуля(ей) Python \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","            TMPDIR=/var/tmp python3 -m pip install --no-cache-dir \u003cspan class=\"pl-smi\"\u003e$python_pip_repo\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e --retries 60 --timeout 60 \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки модуля(ей) Python \u003cspan class=\"pl-smi\"\u003e$pip_modules\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e контроль установки\u003c/span\u003e","        module_install=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003epip3 list \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tr -s \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\\r\\n\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ei\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${not_install[@]}\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ej\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tr \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e|\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","            s=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$j\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/==/ /\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e ss=(\u003cspan class=\"pl-smi\"\u003e$s\u003c/span\u003e)","            \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-smi\"\u003e$module_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!=\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$s\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$module_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!=\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$s\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tr \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e-\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e_\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$module_install\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!=\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$s\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/llama-cpp-python-cu/llama_cpp_python/\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003efind \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e/lib\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -maxdepth 3 -name \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${ss[0]}\u003c/span\u003e*\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]  \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e not_install_tmp=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$not_install_tmp\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$i\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003ebreak\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","        not_install=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$not_install_tmp\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e f_done=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$((\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$f_done\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e+\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e not_install_tmp","      \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e если за 3 попытки не удалось поставить нужные модули\u003c/span\u003e","      [ \u003cspan class=\"pl-smi\"\u003e$f_done\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-ge\u003c/span\u003e 3 ] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка установки модуля(ей) Python \u003cspan class=\"pl-smi\"\u003e${not_install[@]}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    deactivate","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e переход локально на системную версию чтобы не сломать то что уже работает на системной\u003c/span\u003e","    pyenv \u003cspan class=\"pl-k\"\u003elocal\u003c/span\u003e system","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e правим пути, актуально для оффлайн сборки\u003c/span\u003e","    to_install_dir=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es#\u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e##\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-smi\"\u003e$to_install_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!=\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es#\u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e#\u003cspan class=\"pl-smi\"\u003e$to_install_dir\u003c/span\u003e#g\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e/bin/\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создание архива для включения в скрипт оффлайн установки\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003ecreate_arсhive\u003c/span\u003e {","  \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eСоздание архива \u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  tar -vzcf \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -C \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003els -A \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e --remove-files \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -Gv \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e/$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка создания архива \u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  rm -rf \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e распаковка внутреннего архива\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eextract_archive\u003c/span\u003e {","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e смещение в байтах до архива\u003c/span\u003e","  PAYLOAD_LINE=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eawk \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e{print $0}/^__PAYLOAD_BEGINS__/{exit 0}\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$actual_path\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e wc -c\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сверка хеш суммы архива\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e [[ $(dd if=\u0026quot;$actual_path\u0026quot; bs=1M skip=${PAYLOAD_LINE} iflag=skip_bytes 2\u0026gt; /dev/null | md5sum | cut -d\u0026#39; \u0026#39; -f1) != $int_arch_md5 ]] \u0026amp;\u0026amp; echo_error \u0026quot;Ошибка, не соотвествие хеш суммы внутреннего архива\u0026quot;\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e распаковать в каталог\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003edir\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eРаспаковка внутреннего архива в \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    mkdir -p \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null","    dd if=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$actual_path\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e bs=1M skip=\u003cspan class=\"pl-smi\"\u003e${PAYLOAD_LINE}\u003c/span\u003e iflag=skip_bytes \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tar -vxz --directory=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -Gv \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e/$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка распаковки внутреннего архива в \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e скопировать архив рядом со скриптом не распаковывая его\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eКопирование внутреннего архива в каталог со скриптом\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    dd if=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$actual_path\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e of=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e bs=1M skip=\u003cspan class=\"pl-smi\"\u003e${PAYLOAD_LINE}\u003c/span\u003e iflag=skip_bytes status=progress \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка копирования внутреннего архива в каталог со скриптом\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e врезать в скрипт внешний архив\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003epack_archive\u003c/span\u003e {","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновляем значение хеш суммы архива в скрипте\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    script_name=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e.sh\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    out_file=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    cat \u003cspan class=\"pl-smi\"\u003e$actual_path\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^int_arch_md5=.*$/int_arch_md5=\u0026quot;\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003emd5sum \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e cut -d\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e -f1\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u0026quot;/\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$out_file\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e chmod +x \u003cspan class=\"pl-smi\"\u003e$out_file\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","    out_file=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$actual_path\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es/^int_arch_md5=.*$/int_arch_md5=\u0026quot;\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003emd5sum \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e cut -d\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e -f1\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u0026quot;/\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$out_file\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","  echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eВрезаем архив в скрипт \u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удалить всё что после payload\u003c/span\u003e","  sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e/^__PAYLOAD_BEGINS__$/q\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$out_file\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка врезки архива \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e в скрипт\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e вставить архив в скрипт\u003c/span\u003e","  dd if=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e of=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$out_file\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e bs=1024 conv=notrunc oflag=append status=progress \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка врезки архива \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e в скрипт\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","}","","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003enull_archive\u003c/span\u003e {","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удалить всё что после payload\u003c/span\u003e","  echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУдаляем внутренний архив из скрипта \u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  sed -i \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e/^__PAYLOAD_BEGINS__$/q\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$actual_path\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка удаления внутреннего архива из скрипта \u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e назначение прав на файлы сервиса\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eassign_rights\u003c/span\u003e {","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e смена владельца на папку сервиса\u003c/span\u003e","  echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eСмена владельца для \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  chown -R \u003cspan class=\"pl-smi\"\u003e$USER\u003c/span\u003e:\u003cspan class=\"pl-smi\"\u003e$USER\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка смены владельца для \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e для систем с SELinux\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003esestatus \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e head -1 \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -ic enabled\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e 1 ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНастройка политик SELinux\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e изменение контекста на папки сервиса\u003c/span\u003e","    chcon -u system_u -R \u003cspan class=\"pl-smi\"\u003e$HOME\u003c/span\u003e/.pyenv \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e chcon -u system_u -R \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка изменения политик, для папок сервиса\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создание модуля политики\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003emodule pve 1.0;\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003erequire {\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e\ttype var_lib_t;\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e        type admin_home_t;\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e        type setroubleshootd_t;\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e        type init_t;\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e        class file { execute lock open read };\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e}\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e#============= init_t ==============\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003eallow init_t admin_home_t:file { execute open read };\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e#============= setroubleshootd_t ==============\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003eallow setroubleshootd_t var_lib_t:file { lock open read };\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e pve.te","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e компиляция политики\u003c/span\u003e","    checkmodule -M -m -o pve.mod pve.te \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка компиляции политик\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e создание пакета\u003c/span\u003e","    semodule_package -o pve.pp -m pve.mod \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка создания пакета политик\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e загрузка пакета политики в ядро\u003c/span\u003e","    semodule -i pve.pp \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u0026amp;1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка загрузки пакета политик в ядро\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удаляем исходники, файлы работы\u003c/span\u003e","    rm -f pve.mod pve.pp pve.te \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e функция получения тела функции, для переноса функционала в отдельный файл\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eshow_body_function\u003c/span\u003e {","  fcount=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003etype \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003es#\\\\#\\\\\\\\#g\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e1d\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003ev\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$fcount\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -Eo \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\\\\$\u003c/span\u003e(([a-z]+_)+[a-z]+)\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sort -u\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","    to=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eeval \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$v\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","    fcount=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003esed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es#\u003cspan class=\"pl-cce\"\u003e\\\\\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$v\u003c/span\u003e#\u003cspan class=\"pl-smi\"\u003e$to\u003c/span\u003e#g\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026lt;\u0026lt;\u0026lt;\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-smi\"\u003e$fcount\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","  \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$fcount\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удаление старой версии\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003euninstall_service\u003c/span\u003e {","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУдаление старой версии окружения \u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удаляем файлы и подкаталоги сервиса\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003efl\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003els --ignore=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e.\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e --ignore=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e..\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -a \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","        [[ \u003cspan class=\"pl-smi\"\u003e$fl\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!=\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e.userapi\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$fl\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!=\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e.proxy\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e rm -rf \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$fl\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eremove \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$fl\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eelif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e-d\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОкружение PVE будет полностью удалено.\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e ввод на подтверждение\u003c/span\u003e","    \u003cspan class=\"pl-c1\"\u003eread\u003c/span\u003e -p \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eyes(y)/no(n): \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -r confirm","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$confirm\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!=\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eyes\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$confirm\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e!=\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ey\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОтменено\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУдаление старой версии окружения \u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удаляем файлы и подкаталоги сервиса\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003efl\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003els --ignore=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e.\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e --ignore=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e..\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -a \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","      rm -rf \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$fl\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eremove \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$fl\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удаляем корневую папку сервиса\u003c/span\u003e","    rm -rf \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка удаления папки сервиса \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","    description_keys\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eexit\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e авторизация в репозитории\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e для функций ниже\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eauthuser_api\u003c/span\u003e {","    authuserapi=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003ecat \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/.userapi \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-k\"\u003e|\u003c/span\u003ehead -1\u003cspan class=\"pl-k\"\u003e|\u003c/span\u003etr \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\\r\\n\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","    [ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$authuserapi\u003c/span\u003e ] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e authuserapi=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003ecat \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e/.userapi \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-k\"\u003e|\u003c/span\u003ehead -1\u003cspan class=\"pl-k\"\u003e|\u003c/span\u003etr \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\\r\\n\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$authuserapi\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eАвторизация\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c1\"\u003eread\u003c/span\u003e -p \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eUser: \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e updateuser\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","      \u003cspan class=\"pl-c1\"\u003eread\u003c/span\u003e -p \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ePass: \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e updatepass\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","      \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e authuserapi=\u003cspan class=\"pl-smi\"\u003e$updateuser\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e:\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$updatepass\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверка пары логина и пароля\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$authuserapi\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -Ec \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^[^ :]+:[^ :]+$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e 0 ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eПустое или не корректное сочитание логина и пароля\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление сервиса\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eupdate_service\u003c/span\u003e {","  \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e-d\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$3\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\\n  ключи -b(--beta)|-r(--release)|-n(--new)\\n\\n  -b/--beta - обновить до последней beta версии\\n  -r/--release - обновить до последней release версии\\n  -n/--new - обновить до последней версии (не важно beta или release)\\n\\n  в папке окружения можно положить файл \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/.userapi с данными аутентификации: [user]:[password]\\n  или общий в папке с общим окружением \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e/.userapi\\n\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e  в папке окружения можно положить файл \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/.proxy с конфигурацией proxy сервера: http://example.com:3128 [user] [password]; socks5://example.com:1080 [user] [password]\\n  или общий в папке с общим окружением \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e/.proxy\\n\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    proxy_configuration \u003cspan class=\"pl-c1\"\u003eset\u003c/span\u003e","    cnum=1\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","    cversion=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003ecat \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/.version \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null\u003cspan class=\"pl-k\"\u003e|\u003c/span\u003etr \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\\r\\n\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e)","    nversion=(\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003efor i \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e {1..3}\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e curl -s -m 5 --connect-timeout 5 \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_repo_url\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e/version\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003ebreak\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e sleep 0.5\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e done\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e)","","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверяем корректность полученного значения версии из repo\u003c/span\u003e","    [[ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$nversion\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e${nversion[@]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -Ec \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e^([0-9.]+[ ](release|beta)[ ]*){1,2}$\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e 0 ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНе удалось получить версию из репозитория\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e запуск без аргумента\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$3\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eВыберите версию для обновления\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e список версий для загрузок\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efor\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e((\u003c/span\u003e a \u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e0\u003c/span\u003e; a \u003cspan class=\"pl-k\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003enversion[@]}\u003c/span\u003e; a\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e$((\u003cspan class=\"pl-smi\"\u003e$a\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e+\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e2\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e ))\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e","        nversiondownload[\u003cspan class=\"pl-smi\"\u003e$cnum\u003c/span\u003e]=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_repo_url\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e/\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${nversion[$(($a+1))]}\u003c/span\u003e","        \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e    \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$cnum\u003c/span\u003e. \u003cspan class=\"pl-smi\"\u003e${nversion[$a]}\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${nversion[$(($a+1))]}\u003c/span\u003e","        cnum=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$((\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$cnum\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e+\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","      \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eread\u003c/span\u003e -p \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНомер: \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e cnum\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e ошибка если ввели не номер от 1 до N\u003c/span\u003e","      [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$cnum\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e=~\u003c/span\u003e ^[0-9]+$ \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$cnum\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-gt\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$((\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${\u003cspan class=\"pl-k\"\u003e#\u003c/span\u003enversion[@]}\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e/\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e2\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$cnum\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-lt\u003c/span\u003e 1 ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНе верное значение\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверяем на актуальность текущую версию\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$cversion\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$nversion\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es/\\.//g\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-le\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$cversion\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es/\\.//g\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОбновление не требуется\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eexit\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e определяем ключ вызова\u003c/span\u003e","      [[ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$3\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e-r\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$3\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e--release\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e nversiondownload[\u003cspan class=\"pl-smi\"\u003e$cnum\u003c/span\u003e]=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_repo_url\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e/release\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      [[ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$3\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e-b\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$3\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e--beta\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e nversiondownload[\u003cspan class=\"pl-smi\"\u003e$cnum\u003c/span\u003e]=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_repo_url\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e/beta\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      [[ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$3\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e-n\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$3\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e--new\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e nversiondownload[\u003cspan class=\"pl-smi\"\u003e$cnum\u003c/span\u003e]=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_repo_url\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e/new\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","","      [ \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${nversiondownload[@]}\u003c/span\u003e ] \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНе верное значение ключа\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","      \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e проверяем на актуальность текущую версию\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$cversion\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$nversion\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es/\\.//g\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-le\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e$cversion\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sed \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003es/\\.//g\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","        echo_warning \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОбновление не требуется\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eexit\u003c/span\u003e","      \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e авторизация в репозитории\u003c/span\u003e","    authuser_api \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e","    \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e загружаем инсталятор\u003c/span\u003e","    downloadscript=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003efor i \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e {1..3}\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e curl -s --connect-timeout 15 \u003cspan class=\"pl-smi\"\u003e${nversiondownload[$cnum]}\u003c/span\u003e --user \u003cspan class=\"pl-smi\"\u003e$authuserapi\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003ebreak\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e sleep 0.5\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e done\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [[ \u003cspan class=\"pl-k\"\u003e!\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-z\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$downloadscript\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e  \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$downloadscript\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -c \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u0026quot;error\u0026quot;:1\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-eq\u003c/span\u003e 0 ]]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e","      installscript=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$downloadscript\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e grep -Eo \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e[^: ]+\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e -m1\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e","      echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eЗагрузка \u003cspan class=\"pl-smi\"\u003e$installscript\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003ebash -c \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$downloadscript\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e/dev/null","      bash -c \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$installscript\u003c/span\u003e -u -on --\u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e rm -rf \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$PWD\u003c/span\u003e/\u003cspan class=\"pl-smi\"\u003e$installscript\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","    \u003cspan class=\"pl-k\"\u003eelse\u003c/span\u003e","      echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eНеверный логин или пароль\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","    \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","    proxy_configuration \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e функция создания скриптов в папке установки\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e uninstall - для удаления сервиса\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e update - для обновления сервиса\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003ecreate_bash_script\u003c/span\u003e {","  echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eСоздание файлов и bash скриптов автоматизации\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e uninstall\u003c/span\u003e","  \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e#!/bin/bash\\n\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eshow_body_function echo_info\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eshow_body_function echo_warning\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eshow_body_function echo_error\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eshow_body_function uninstall_service\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\\nuninstall_service \u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/uninstall \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \\","    (chmod +x \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/uninstall \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка создания скрипта \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/uninstall\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e inupdate\u003c/span\u003e","  \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e#!/bin/bash\\n\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eshow_body_function echo_info\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eshow_body_function echo_warning\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eshow_body_function echo_error\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eshow_body_function proxy_configuration\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eshow_body_function authuser_api\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eshow_body_function update_service\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e\\nupdate_service \u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e \u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$2\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e \u003cspan class=\"pl-cce\"\u003e\\$\u003c/span\u003e1\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/inupdate \u003cspan class=\"pl-k\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \\","    (chmod +x \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/inupdate \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eОшибка создания скрипта \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/inupdate\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e .version\u003c/span\u003e","  \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e -n \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_version\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$int_release\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e/.version","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удаление временных каталогов\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003eclear_temp\u003c/span\u003e {","  \u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e2\u0026gt;\u003c/span\u003e /dev/null \u003cspan class=\"pl-k\"\u003e||\u003c/span\u003e echo_error \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$script_dir\u003c/span\u003e нет такой директории\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","  rm -rf \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","  rm -rf .python-version \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","  rm -rf \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","  rm -rf \u003cspan class=\"pl-smi\"\u003e$HOME\u003c/span\u003e/.cache/pip \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","  rm -rf \u003cspan class=\"pl-smi\"\u003e$int_arch_pack_dir\u003c/span\u003e/offline.sig \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","  rm -rf \u003cspan class=\"pl-smi\"\u003e$temp_dir\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e\u0026gt;\u003c/span\u003e /dev/null","  proxy_configuration \u003cspan class=\"pl-c1\"\u003eunset\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e описание режимов работы скрипта, выводит при \u0026quot;пустом\u0026quot; запуске\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003efunction\u003c/span\u003e \u003cspan class=\"pl-en\"\u003edescription_keys\u003c/span\u003e {","  \u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e  ключи -e(--extract) -p(--pack) -b(--build) -u(--update) -n(--null) -i(--install) -ups(--ups) -urs(--urs) -ses(--ses) -off(--offline) -on(--online) -f(--full) -cu11(--cu11) -cu12(--cu12) -cpu(--cpu) -u(--uninstall)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  --------установка--------\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-i/--install\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e                       - установить окружение в online/offline режиме\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                         второй обязательный ключ:\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-on/--online\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e   - установка онлайн\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-off/--offline\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e - утановка оффлайн (необходимо собрать скрипт с ключем -b/--build)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                         третий обязательный ключ:\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-cpu/--cpu\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e     - полный набор pip3 модулей под CPU\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-cu11/--cu11\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e   - полный набор pip3 модулей под GPU CU11.8 (необходима установка CUDA Toolkit)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-cu12/--cu12\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e   - полный набор pip3 модулей под GPU CU12.1 (необходима установка CUDA Toolkit)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-ups/--ups\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e     - набор модулей pip3 для ups/res\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-urs/--urs\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e     - набор модулей pip3 для urs\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-ses/--ses\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e     - набор модулей pip3 для ses\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  -------обновление--------\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-u/--update\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e                        - обновить окружение в online/offline режиме\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                         второй обязательный ключ:\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-on/--online\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e   - обновление онлайн\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-off/--offline\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e - обновление оффлайн (необходимо собрать скрипт с ключем -b/--build)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                         третий обязательный ключ:\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-cpu/--cpu\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e     - полный набор pip3 модулей под CPU\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-cu11/--cu11\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e   - полный набор pip3 модулей под GPU CU11.8 (необходима установка CUDA Toolkit)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-cu12/--cu12\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e   - полный набор pip3 модулей под GPU CU12.1 (необходима установка CUDA Toolkit)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-ups/--ups\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e     - набор модулей pip3 для ups/res\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-urs/--urs\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e     - набор модулей pip3 для urs\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-ses/--ses\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e     - набор модулей pip3 для ses\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e./inupdate\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e                         - скрипт интерактивного обновления окружение (в папки \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e с установленным окружением)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                         !!! требуется наличие интернет соединения\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  ---------сборка----------\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-b/--build\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e                         - скачать все пакеты, и модули, и упаковать в скрипт для оффлайн установки\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                         второй обязательный ключ:\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-i/--install\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e   - сборка с системными пакетами (полная)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-u/--update\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e    - только окружение, для обновления (без системных пакетов)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                         третий обязательный ключ:\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-f/--full\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e      - полный набор pip3 модулей под все типы установки/обновления\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-cpu/--cpu\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e     - полный набор pip3 модулей под CPU\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-cu11/--cu11\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e   - полный набор pip3 модулей под GPU CU11.8 (необходима установка CUDA Toolkit)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-cu12/--cu12\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e   - полный набор pip3 модулей под GPU CU12.1 (необходима установка CUDA Toolkit)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-ups/--ups\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e     - набор модулей pip3 для ups/res\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-urs/--urs\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e     - набор модулей pip3 для urs\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                           \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-ses/--ses\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e     - набор модулей pip3 для ses\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  --------удаление---------\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-u/--uninstall\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e                     - удалить окружение\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e./uninstall\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e                        - скрипт интерактивного удаления окружение (в папки \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e с установленным окружением)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  -------------------------\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-e/--extract\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e                       - скопировать внутренний архив рядом со скриптом\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-p/--pack имя_архива\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e               - запаковать архив в скрипт - архив создавать без абсолютных каталогов:\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e                                         tar -czvf \u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-install.tgz -C archive \u003cspan class=\"pl-cce\"\u003e\\$\u003c/span\u003e(ls -A archive)\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-d/--dir путь/имя_каталога\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e         - совместно с -p/--pack или -e/--extract, сжать\\распаковать каталог в\\из архива\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e-n/--null\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e                          - удалить внутренний архив из скрипта\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  \u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  -- Установить окружение с полным набором модулей под CPU\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  Пример использования: ./\u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e -i -cpu -on\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  -- Установить окружение из заранее собранного инсталлера с полным набором модулей под CPU\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  Пример использования: ./\u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e -i -cpu -off\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  -- Собрать все пакеты для установки оффлайн окружения с полным набором модулей под CPU\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  Пример использования: ./\u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e -b -i -cpu\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  -- Собрать все пакеты для обновления оффлайн окружения с полным набором модулей под CPU\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  Пример использования: ./\u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e -b -u -cpu\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  -- Скопировать внутренний архив рядом со скриптом не распаковывая в папку\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  Пример использования: ./\u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e -e\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  -- Запаковать архив в скрипт\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  Пример использования: ./\u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e -p \u0026lt;service\u0026gt;-offline.tgz\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  -- Сжать каталог и запаковать архив в скрипт\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  Пример использования: ./\u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e -p -d \u0026lt;имя каталога\u0026gt;\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  -- Распаковать внутренний архив рядом со скриптом в каталог\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  Пример использования: ./\u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e -e -d archive\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  -- Удалить внутренний архив из скрипта\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  Пример использования: ./\u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e --null\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  -- Удалить окружение\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e  Пример использования: ./\u003cspan class=\"pl-smi\"\u003e$script_name\u003c/span\u003e --uninstall\u003c/span\u003e","\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","}","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e#######\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e main #\u003c/span\u003e","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e#######\u003c/span\u003e","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e заголовок инсталятора\u003c/span\u003e","\u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"pl-smi\"\u003e$installer_head\u003c/span\u003e","echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУстановка, как \u003cspan class=\"pl-smi\"\u003e$os_install\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e пустой запуск\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003eif\u003c/span\u003e [ \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e==\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e ]\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ethen\u003c/span\u003e description_keys\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eexit\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003efi\u003c/span\u003e","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e перебор ключей запуска\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003ewhile\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e((\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$#\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e))\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-k\"\u003edo\u003c/span\u003e"," arg=\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e","  \u003cspan class=\"pl-c1\"\u003eshift\u003c/span\u003e","   \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$arg\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","     \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e для двойных ключей с --\u003c/span\u003e","     --\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e) \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${arg\u003cspan class=\"pl-k\"\u003e:\u003c/span\u003e2}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка\u003c/span\u003e","          install)   key_i=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ei\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление\u003c/span\u003e","          update)    key_u=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eup\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн установка\u003c/span\u003e","          online)    key_on=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eon\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн установка\u003c/span\u003e","          offline)   key_off=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eoff\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн установки\u003c/span\u003e","          build)     key_b=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eb\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e полный набор pip3 под все типы установок\u003c/span\u003e","          full)      key_f=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ef\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e полный набор pip3 модулей под CPU\u003c/span\u003e","          cpu)       key_cpu=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecpu\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e полный набор pip3 модулей под GPU CU11.8\u003c/span\u003e","          cu11)      key_cu11=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecu11\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e полный набор pip3 модулей под GPU CU12.1\u003c/span\u003e","          cu12)      key_cu12=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecu12\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка под ups\u003c/span\u003e","          ups)       key_ups=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eups\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка под urs\u003c/span\u003e","          urs)       key_ups=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eurs\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка под ses\u003c/span\u003e","          ses)       key_ses=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eses\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удалить внутренний архив (слишком большой для редактирования скрипта)\u003c/span\u003e","          null)      key_n=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003en\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e скопировать архив рядом со скриптом не распаковывая его\u003c/span\u003e","          extract)   key_e=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ee\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e запаковать внешний архив в скрипт\u003c/span\u003e","          pack)      key_p=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ep\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e key_p_arg=\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сделать архив и запаковать в скрипт из директории\u003c/span\u003e","          dir)       key_d=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ed\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e key_d_arg=\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удалить окружение\u003c/span\u003e","          uninstall) key_u=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eu\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e все остальные ключи\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e)         description_keys\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eexit\u003c/span\u003e 1;;","        \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e;;","","     \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e для одинарных ключей с -\u003c/span\u003e","     -\u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e) \u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e${arg\u003cspan class=\"pl-k\"\u003e:\u003c/span\u003e1}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка\u003c/span\u003e","          i)         key_i=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ei\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e обновление/удалить окружение\u003c/span\u003e","          u)         key_u=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eu\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн установка\u003c/span\u003e","          on)        key_on=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eon\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн установка\u003c/span\u003e","          off)       key_off=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eoff\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн установки\u003c/span\u003e","          b)         key_b=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eb\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e полный набор pip3 под все типы установок\u003c/span\u003e","          f)         key_f=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ef\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e полный набор pip3 модулей под CPU\u003c/span\u003e","          cpu)       key_cpu=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecpu\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e полный набор pip3 модулей под GPU CU11.8\u003c/span\u003e","          cu11)       key_cu11=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecu11\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e полный набор pip3 модулей под GPU CU12.1\u003c/span\u003e","          cu12)       key_cu12=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ecu12\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка под ups\u003c/span\u003e","          ups)       key_ups=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eups\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка под urs\u003c/span\u003e","          urs)       key_urs=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eurs\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e установка под ses\u003c/span\u003e","          ses)       key_ses=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eses\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удалить внутренний архив (слишком большой для редактирования скрипта)\u003c/span\u003e","          n)         key_n=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003en\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e скопировать архив рядом со скриптом не распаковывая его\u003c/span\u003e","          e)         key_e=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ee\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e запаковать внешний архив в скрипт\u003c/span\u003e","          p)         key_p=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ep\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e key_p_arg=\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сделать архив и запаковать в скрипт из директории\u003c/span\u003e","          d)         key_d=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ed\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e key_d_arg=\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e;;","          \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e все остальные ключи\u003c/span\u003e","          \u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e)         description_keys\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eexit\u003c/span\u003e 1;;","         \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e;;","    \u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003edone\u003c/span\u003e","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e массив ключей установки, все варианты ключей, при добалении нового ключа - дописать его СЮДА!\u003c/span\u003e","key_all=(\u003cspan class=\"pl-smi\"\u003e$key_i\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_u\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_on\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_off\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_b\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_f\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_cpu\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_cu11\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_cu12\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_ups\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_urs\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_ses\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_n\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_e\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_p\u003c/span\u003e \\","         \u003cspan class=\"pl-smi\"\u003e$key_d\u003c/span\u003e \\","         )","","\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e выборка вариантов совместных ключей\u003c/span\u003e","\u003cspan class=\"pl-k\"\u003ecase\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eecho \u003cspan class=\"pl-smi\"\u003e${key_all[@]}\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e tr -d \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e \u003cspan class=\"pl-pds\"\u003e\u0026#39;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e)\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003ein\u003c/span\u003e","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн установка с полным набором pip3 модулей под CPU\u003c/span\u003e","  ioncpu             ) install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac main\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_ffmpeg online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e cpu\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e cpu\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн обновление с полным набором pip3 модулей под CPU\u003c/span\u003e","  uoncpu|uponcpu     ) proxy_configuration \u003cspan class=\"pl-c1\"\u003eset\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e cpu\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     assign_rights \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e cpu\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн установка с полным набором pip3 модулей под GPU CU11.8\u003c/span\u003e","  ioncu11            ) check_installed_gpu cu11\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac main\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_ffmpeg online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e cu11\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e cu11\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн обновление с полным набором pip3 модулей под GPU CU11.8\u003c/span\u003e","  uoncu11|uponcu11   ) check_installed_gpu cu11\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e proxy_configuration \u003cspan class=\"pl-c1\"\u003eset\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e cu11\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     assign_rights \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e cu11\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн установка с полным набором pip3 модулей под GPU CU12.1\u003c/span\u003e","  ioncu12            ) check_installed_gpu cu12\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac main\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_ffmpeg online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e cu12\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e cu12\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн обновление с полным набором pip3 модулей под GPU CU12.1\u003c/span\u003e","  uoncu12|uponcu12   ) check_installed_gpu cu12\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e proxy_configuration \u003cspan class=\"pl-c1\"\u003eset\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e cu12\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     assign_rights \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e cu12\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн установка PVE для UPS\u003c/span\u003e","  ionups             ) install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac main\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e ups\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e ups\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн обновление PVE для UPS\u003c/span\u003e","  uonups|uponups     ) proxy_configuration \u003cspan class=\"pl-c1\"\u003eset\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e ups\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     assign_rights \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e ups\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн установка PVE для URS\u003c/span\u003e","  ionurs             ) install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac main\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e urs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e urs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн обновление PVE для URS\u003c/span\u003e","  uonurs|uponurs     ) proxy_configuration \u003cspan class=\"pl-c1\"\u003eset\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e urs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     assign_rights \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e urs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн установка PVE для SES\u003c/span\u003e","  ionses             ) install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac main\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e ses\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e ses\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e онлайн обновление PVE для SES\u003c/span\u003e","  uonses|uponses     ) proxy_configuration \u003cspan class=\"pl-c1\"\u003eset\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e ses\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     assign_rights \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e ses\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн установка с полным набором pip3 модулей под CPU\u003c/span\u003e","  ioffcpu            ) extract_archive dir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e offline_env\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e list_pip3_modules cpu \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac main\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve offline \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo remlocal\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн обновление с полным набором pip3 модулей под CPU\u003c/span\u003e","  uoffcpu|upoffcpu   ) extract_archive dir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e offline_env\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e list_pip3_modules cpu \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_pyenv offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve offline \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн установка с полным набором pip3 модулей под GPU CU11.8\u003c/span\u003e","  ioffcu11           ) check_installed_gpu cu11\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e extract_archive dir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e offline_env\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e list_pip3_modules cu11 \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac main\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve offline \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo remlocal\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн обновление с полным набором pip3 модулей под GPU CU11.8\u003c/span\u003e","  uoffcu11|upoffcu11 ) check_installed_gpu cu11\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e extract_archive dir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e offline_env\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e list_pip3_modules cu11 \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_pyenv offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve offline \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн установка с полным набором pip3 модулей под GPU CU12.1\u003c/span\u003e","  ioffcu12           ) check_installed_gpu cu12\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e extract_archive dir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e offline_env\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e list_pip3_modules cu12 \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac main\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve offline \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo remlocal\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн обновление с полным набором pip3 модулей под GPU CU12.1\u003c/span\u003e","  uoffcu12|upoffcu12 ) check_installed_gpu cu12\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e extract_archive dir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e offline_env\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e list_pip3_modules cu12 \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_pyenv offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve offline \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн установка PVE для UPS\u003c/span\u003e","  ioffups            ) extract_archive dir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e offline_env\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e list_pip3_modules ups \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac main\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_pyenv offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve offline \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo remlocal\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн обновление PVE для UPS\u003c/span\u003e","  uoffups|upoffups   ) extract_archive dir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e offline_env\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e list_pip3_modules ups \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_pyenv offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve offline \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн установка PVE для URS\u003c/span\u003e","  ioffurs            ) extract_archive dir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e offline_env\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e list_pip3_modules urs \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac main\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_pyenv offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve offline \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo remlocal\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн обновление PVE для URS\u003c/span\u003e","  uoffurs|upoffurs   ) extract_archive dir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e offline_env\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e list_pip3_modules urs \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_pyenv offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve offline \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн установка PVE для SES\u003c/span\u003e","  ioffses            ) extract_archive dir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e offline_env\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e list_pip3_modules ses \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac main\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_pyenv offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve offline \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo remlocal\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e оффлайн обновление PVE для SES\u003c/span\u003e","  uoffses|upoffses   ) extract_archive dir \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e offline_env\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e list_pip3_modules ses \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e clear\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     install_pyenv offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve offline \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pve online \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e assign_rights \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     create_bash_script \u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e \u003cspan class=\"pl-smi\"\u003e$build_modules\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн установки с полным набором pip3 модулей под CPU\u003c/span\u003e","  ibf                ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pac\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules full\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003efull\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003einstall\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_full-\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн обновления с полным набором pip3 модулей под CPU, без системных пакетов для обновления\u003c/span\u003e","  ubf|upbf           ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules full\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003efull\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003eupdate\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_full-update\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн установки с полным набором pip3 модулей под CPU\u003c/span\u003e","  ibcpu              ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pac\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules cpu\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003ecpu\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003einstall\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_cpu-\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн обновления с полным набором pip3 модулей под CPU, без системных пакетов для обновления\u003c/span\u003e","  ubcpu|upbcpu       ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules cpu\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003ecpu\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003eupdate\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_cpu-update\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн установки с полным набором pip3 модулей под GPU CU11.8\u003c/span\u003e","  ibcu11              ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pac\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules cu11\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003ecu11\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003einstall\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_cu11-\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн обновления с полным набором pip3 модулей под GPU CU11.8, без системных пакетов для обновления\u003c/span\u003e","  ubcu11|upbcu11       ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules cu11\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003ecu11\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003eupdate\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_cu11-update\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн установки с полным набором pip3 модулей под GPU CU12.1\u003c/span\u003e","  ibcu12              ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pac\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules cu12\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003ecu12\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003einstall\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_cu12-\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн обновления с полным набором pip3 модулей под GPU CU12.1, без системных пакетов для обновления\u003c/span\u003e","  ubcu12|upbcu12       ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules cu12\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003ecu12\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003eupdate\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_cu12-update\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн установки для UPS\u003c/span\u003e","  ibups              ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pac\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules ups\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003eups\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003einstall\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_ups-\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн обновления для UPS, без системных пакетов для обновления\u003c/span\u003e","  ubups|upbups       ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules ups\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_ups_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003eups\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003eupdate\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_ups-update\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн установки для URS\u003c/span\u003e","  iburs              ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pac\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules urs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003eurs\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003einstall\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_urs-\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн обновления для URS, без системных пакетов для обновления\u003c/span\u003e","  uburs|upburs       ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules urs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_urs_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003eurs\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003eupdate\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_urs-update\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн установки для SES\u003c/span\u003e","  ibses              ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pac\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules ses\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003eses\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003einstall\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_ses-\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e сборка внутреннего архива для оффлайн обновления для SES, без системных пакетов для обновления\u003c/span\u003e","  ubses|upbses       ) create_temp_dirs\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_repo online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pac system\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_ffmpeg offline\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e install_pyenv online\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_modules ses\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e download_pyenv\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     offline_env \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eint_pve_install_dir=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_ses_install_dir\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_modules=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003eses\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_type=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003eupdate\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003ebuild_os=\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e${os_id}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${os_version}\u003c/span\u003e\u003cspan class=\"pl-cce\"\u003e\\\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e create_arсhive \u003cspan class=\"pl-smi\"\u003e$int_arch_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e_ses-update\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e","                     clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удалить внутренний архив (слишком большой для редактирования скрипта)\u003c/span\u003e","  n                  ) null_archive\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e скопировать архив рядом со скриптом не распаковывая его\u003c/span\u003e","  e                  ) extract_archive\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e распаковать архив в папку\u003c/span\u003e","  ed                 ) extract_archive dir \u003cspan class=\"pl-smi\"\u003e$key_d_arg\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e запаковать архив в скрипт\u003c/span\u003e","  p                  ) pack_archive \u003cspan class=\"pl-smi\"\u003e$key_p_arg\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e запаковать папку в архив и включить в скрипт\u003c/span\u003e","  pd                 ) create_arсhive \u003cspan class=\"pl-smi\"\u003e$key_d_arg\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e pack_archive \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-smi\"\u003e$int_service_name\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_version}\u003c/span\u003e-\u003cspan class=\"pl-smi\"\u003e${int_release}\u003c/span\u003e.tar.gz\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e clear_temp\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e удалить окружение\u003c/span\u003e","  u                  ) uninstall_service \u003cspan class=\"pl-smi\"\u003e$int_pve_install_dir\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e echo_info \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003eУспех\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e;;","  \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e все остальные ключи\u003c/span\u003e","  \u003cspan class=\"pl-k\"\u003e*\u003c/span\u003e           ) description_keys\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eexit\u003c/span\u003e 1;;","\u003cspan class=\"pl-k\"\u003eesac\u003c/span\u003e","","\u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003cspan class=\"pl-pds\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e;\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003eexit\u003c/span\u003e 0","__PAYLOAD_BEGINS__"],"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/kashapovalov/red-builder/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":false},"displayName":"pve-1.089.sh","displayUrl":"https://github.com/kashapovalov/red-builder/blob/main/pve_installer/pve-1.089.sh?raw=true","headerInfo":{"blobSize":"122 KB","deleteTooltip":"Delete this file","editTooltip":"Edit this file","ghDesktopPath":"https://desktop.github.com","isGitLfs":false,"onBranch":true,"shortPath":"351be12","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fkashapovalov%2Fred-builder%2Fblob%2Fmain%2Fpve_installer%2Fpve-1.089.sh","isCSV":false,"isRichtext":false,"toc":null,"lineInfo":{"truncatedLoc":"1677","truncatedSloc":"1608"},"mode":"executable file"},"image":false,"isCodeownersFile":null,"isPlain":false,"isValidLegacyIssueTemplate":false,"issueTemplate":null,"discussionTemplate":null,"language":"Shell","languageID":346,"large":false,"planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/kashapovalov/red-builder/blob/main/pve_installer/pve-1.089.sh","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","releasePath":"/kashapovalov/red-builder/releases/new?marketplace=true","showPublishActionBanner":false},"rawBlobUrl":"https://github.com/kashapovalov/red-builder/raw/refs/heads/main/pve_installer/pve-1.089.sh","renderImageOrRaw":false,"richText":null,"renderedFileInfo":null,"shortPath":null,"symbolsEnabled":true,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timed_out":true,"not_analyzed":false,"symbols":[{"name":"echo_error","kind":"function","ident_start":10487,"ident_end":10497,"extent_start":10478,"extent_end":10702,"fully_qualified_name":"echo_error","ident_utf16":{"start":{"line_number":150,"utf16_col":9},"end":{"line_number":150,"utf16_col":19}},"extent_utf16":{"start":{"line_number":150,"utf16_col":0},"end":{"line_number":157,"utf16_col":1}}},{"name":"echo_warning","kind":"function","ident_start":10789,"ident_end":10801,"extent_start":10780,"extent_end":10871,"fully_qualified_name":"echo_warning","ident_utf16":{"start":{"line_number":160,"utf16_col":9},"end":{"line_number":160,"utf16_col":21}},"extent_utf16":{"start":{"line_number":160,"utf16_col":0},"end":{"line_number":164,"utf16_col":1}}},{"name":"echo_info","kind":"function","ident_start":10954,"ident_end":10963,"extent_start":10945,"extent_end":11033,"fully_qualified_name":"echo_info","ident_utf16":{"start":{"line_number":167,"utf16_col":9},"end":{"line_number":167,"utf16_col":18}},"extent_utf16":{"start":{"line_number":167,"utf16_col":0},"end":{"line_number":171,"utf16_col":1}}},{"name":"proxy_configuration","kind":"function","ident_start":12309,"ident_end":12328,"extent_start":12300,"extent_end":15008,"fully_qualified_name":"proxy_configuration","ident_utf16":{"start":{"line_number":182,"utf16_col":9},"end":{"line_number":182,"utf16_col":28}},"extent_utf16":{"start":{"line_number":182,"utf16_col":0},"end":{"line_number":221,"utf16_col":1}}},{"name":"apt_get_lib","kind":"function","ident_start":15203,"ident_end":15214,"extent_start":15194,"extent_end":16392,"fully_qualified_name":"apt_get_lib","ident_utf16":{"start":{"line_number":224,"utf16_col":9},"end":{"line_number":224,"utf16_col":20}},"extent_utf16":{"start":{"line_number":224,"utf16_col":0},"end":{"line_number":241,"utf16_col":1}}},{"name":"install_repo","kind":"function","ident_start":16449,"ident_end":16461,"extent_start":16440,"extent_end":25835,"fully_qualified_name":"install_repo","ident_utf16":{"start":{"line_number":244,"utf16_col":9},"end":{"line_number":244,"utf16_col":21}},"extent_utf16":{"start":{"line_number":244,"utf16_col":0},"end":{"line_number":374,"utf16_col":1}}},{"name":"check_installed_gpu","kind":"function","ident_start":25891,"ident_end":25910,"extent_start":25882,"extent_end":29669,"fully_qualified_name":"check_installed_gpu","ident_utf16":{"start":{"line_number":377,"utf16_col":9},"end":{"line_number":377,"utf16_col":28}},"extent_utf16":{"start":{"line_number":377,"utf16_col":0},"end":{"line_number":414,"utf16_col":1}}},{"name":"install_pac","kind":"function","ident_start":29735,"ident_end":29746,"extent_start":29726,"extent_end":42664,"fully_qualified_name":"install_pac","ident_utf16":{"start":{"line_number":417,"utf16_col":9},"end":{"line_number":417,"utf16_col":20}},"extent_utf16":{"start":{"line_number":417,"utf16_col":0},"end":{"line_number":546,"utf16_col":1}}},{"name":"create_temp_dirs","kind":"function","ident_start":42734,"ident_end":42750,"extent_start":42725,"extent_end":42985,"fully_qualified_name":"create_temp_dirs","ident_utf16":{"start":{"line_number":549,"utf16_col":9},"end":{"line_number":549,"utf16_col":25}},"extent_utf16":{"start":{"line_number":549,"utf16_col":0},"end":{"line_number":553,"utf16_col":1}}},{"name":"offline_env","kind":"function","ident_start":43087,"ident_end":43098,"extent_start":43078,"extent_end":44102,"fully_qualified_name":"offline_env","ident_utf16":{"start":{"line_number":556,"utf16_col":9},"end":{"line_number":556,"utf16_col":20}},"extent_utf16":{"start":{"line_number":556,"utf16_col":0},"end":{"line_number":571,"utf16_col":1}}},{"name":"download_ffmpeg","kind":"function","ident_start":44240,"ident_end":44255,"extent_start":44231,"extent_end":45696,"fully_qualified_name":"download_ffmpeg","ident_utf16":{"start":{"line_number":574,"utf16_col":9},"end":{"line_number":574,"utf16_col":24}},"extent_utf16":{"start":{"line_number":574,"utf16_col":0},"end":{"line_number":600,"utf16_col":1}}},{"name":"install_ffmpeg","kind":"function","ident_start":45739,"ident_end":45753,"extent_start":45730,"extent_end":47163,"fully_qualified_name":"install_ffmpeg","ident_utf16":{"start":{"line_number":603,"utf16_col":9},"end":{"line_number":603,"utf16_col":23}},"extent_utf16":{"start":{"line_number":603,"utf16_col":0},"end":{"line_number":637,"utf16_col":1}}},{"name":"download_pac","kind":"function","ident_start":47204,"ident_end":47216,"extent_start":47195,"extent_end":51586,"fully_qualified_name":"download_pac","ident_utf16":{"start":{"line_number":640,"utf16_col":9},"end":{"line_number":640,"utf16_col":21}},"extent_utf16":{"start":{"line_number":640,"utf16_col":0},"end":{"line_number":700,"utf16_col":1}}},{"name":"set_devpi_repo","kind":"function","ident_start":51597,"ident_end":51611,"extent_start":51588,"extent_end":52298,"fully_qualified_name":"set_devpi_repo","ident_utf16":{"start":{"line_number":702,"utf16_col":9},"end":{"line_number":702,"utf16_col":23}},"extent_utf16":{"start":{"line_number":702,"utf16_col":0},"end":{"line_number":708,"utf16_col":1}}},{"name":"list_pip3_modules","kind":"function","ident_start":52391,"ident_end":52408,"extent_start":52382,"extent_end":55050,"fully_qualified_name":"list_pip3_modules","ident_utf16":{"start":{"line_number":711,"utf16_col":9},"end":{"line_number":711,"utf16_col":26}},"extent_utf16":{"start":{"line_number":711,"utf16_col":0},"end":{"line_number":750,"utf16_col":1}}},{"name":"download_pyenv","kind":"function","ident_start":55115,"ident_end":55129,"extent_start":55106,"extent_end":56366,"fully_qualified_name":"download_pyenv","ident_utf16":{"start":{"line_number":753,"utf16_col":9},"end":{"line_number":753,"utf16_col":23}},"extent_utf16":{"start":{"line_number":753,"utf16_col":0},"end":{"line_number":776,"utf16_col":1}}},{"name":"download_modules","kind":"function","ident_start":56422,"ident_end":56438,"extent_start":56413,"extent_end":61047,"fully_qualified_name":"download_modules","ident_utf16":{"start":{"line_number":779,"utf16_col":9},"end":{"line_number":779,"utf16_col":25}},"extent_utf16":{"start":{"line_number":779,"utf16_col":0},"end":{"line_number":850,"utf16_col":1}}},{"name":"export_pyenv_enviroment","kind":"function","ident_start":61058,"ident_end":61081,"extent_start":61049,"extent_end":61185,"fully_qualified_name":"export_pyenv_enviroment","ident_utf16":{"start":{"line_number":852,"utf16_col":9},"end":{"line_number":852,"utf16_col":32}},"extent_utf16":{"start":{"line_number":852,"utf16_col":0},"end":{"line_number":855,"utf16_col":1}}},{"name":"install_pyenv","kind":"function","ident_start":61196,"ident_end":61209,"extent_start":61187,"extent_end":66571,"fully_qualified_name":"install_pyenv","ident_utf16":{"start":{"line_number":857,"utf16_col":9},"end":{"line_number":857,"utf16_col":22}},"extent_utf16":{"start":{"line_number":857,"utf16_col":0},"end":{"line_number":952,"utf16_col":1}}},{"name":"install_pve","kind":"function","ident_start":66626,"ident_end":66637,"extent_start":66617,"extent_end":75480,"fully_qualified_name":"install_pve","ident_utf16":{"start":{"line_number":955,"utf16_col":9},"end":{"line_number":955,"utf16_col":20}},"extent_utf16":{"start":{"line_number":955,"utf16_col":0},"end":{"line_number":1092,"utf16_col":1}}},{"name":"create_arсhive","kind":"function","ident_start":75599,"ident_end":75614,"extent_start":75590,"extent_end":76096,"fully_qualified_name":"create_arсhive","ident_utf16":{"start":{"line_number":1095,"utf16_col":9},"end":{"line_number":1095,"utf16_col":23}},"extent_utf16":{"start":{"line_number":1095,"utf16_col":0},"end":{"line_number":1100,"utf16_col":1}}},{"name":"extract_archive","kind":"function","ident_start":76166,"ident_end":76181,"extent_start":76157,"extent_end":77568,"fully_qualified_name":"extract_archive","ident_utf16":{"start":{"line_number":1103,"utf16_col":9},"end":{"line_number":1103,"utf16_col":24}},"extent_utf16":{"start":{"line_number":1103,"utf16_col":0},"end":{"line_number":1118,"utf16_col":1}}},{"name":"pack_archive","kind":"function","ident_start":77638,"ident_end":77650,"extent_start":77629,"extent_end":78652,"fully_qualified_name":"pack_archive","ident_utf16":{"start":{"line_number":1121,"utf16_col":9},"end":{"line_number":1121,"utf16_col":21}},"extent_utf16":{"start":{"line_number":1121,"utf16_col":0},"end":{"line_number":1136,"utf16_col":1}}},{"name":"null_archive","kind":"function","ident_start":78663,"ident_end":78675,"extent_start":78654,"extent_end":79001,"fully_qualified_name":"null_archive","ident_utf16":{"start":{"line_number":1138,"utf16_col":9},"end":{"line_number":1138,"utf16_col":21}},"extent_utf16":{"start":{"line_number":1138,"utf16_col":0},"end":{"line_number":1142,"utf16_col":1}}},{"name":"assign_rights","kind":"function","ident_start":79075,"ident_end":79088,"extent_start":79066,"extent_end":80844,"fully_qualified_name":"assign_rights","ident_utf16":{"start":{"line_number":1145,"utf16_col":9},"end":{"line_number":1145,"utf16_col":22}},"extent_utf16":{"start":{"line_number":1145,"utf16_col":0},"end":{"line_number":1180,"utf16_col":1}}},{"name":"show_body_function","kind":"function","ident_start":80994,"ident_end":81012,"extent_start":80985,"extent_end":81236,"fully_qualified_name":"show_body_function","ident_utf16":{"start":{"line_number":1183,"utf16_col":9},"end":{"line_number":1183,"utf16_col":27}},"extent_utf16":{"start":{"line_number":1183,"utf16_col":0},"end":{"line_number":1190,"utf16_col":1}}},{"name":"uninstall_service","kind":"function","ident_start":81292,"ident_end":81309,"extent_start":81283,"extent_end":82512,"fully_qualified_name":"uninstall_service","ident_utf16":{"start":{"line_number":1193,"utf16_col":9},"end":{"line_number":1193,"utf16_col":26}},"extent_utf16":{"start":{"line_number":1193,"utf16_col":0},"end":{"line_number":1217,"utf16_col":1}}},{"name":"authuser_api","kind":"function","ident_start":82607,"ident_end":82619,"extent_start":82598,"extent_end":83248,"fully_qualified_name":"authuser_api","ident_utf16":{"start":{"line_number":1221,"utf16_col":9},"end":{"line_number":1221,"utf16_col":21}},"extent_utf16":{"start":{"line_number":1221,"utf16_col":0},"end":{"line_number":1232,"utf16_col":1}}},{"name":"update_service","kind":"function","ident_start":83297,"ident_end":83311,"extent_start":83288,"extent_end":87407,"fully_qualified_name":"update_service","ident_utf16":{"start":{"line_number":1235,"utf16_col":9},"end":{"line_number":1235,"utf16_col":23}},"extent_utf16":{"start":{"line_number":1235,"utf16_col":0},"end":{"line_number":1290,"utf16_col":1}}},{"name":"create_bash_script","kind":"function","ident_start":87609,"ident_end":87627,"extent_start":87600,"extent_end":88532,"fully_qualified_name":"create_bash_script","ident_utf16":{"start":{"line_number":1295,"utf16_col":9},"end":{"line_number":1295,"utf16_col":27}},"extent_utf16":{"start":{"line_number":1295,"utf16_col":0},"end":{"line_number":1305,"utf16_col":1}}},{"name":"clear_temp","kind":"function","ident_start":88600,"ident_end":88610,"extent_start":88591,"extent_end":89016,"fully_qualified_name":"clear_temp","ident_utf16":{"start":{"line_number":1308,"utf16_col":9},"end":{"line_number":1308,"utf16_col":19}},"extent_utf16":{"start":{"line_number":1308,"utf16_col":0},"end":{"line_number":1317,"utf16_col":1}}},{"name":"description_keys","kind":"function","ident_start":89142,"ident_end":89158,"extent_start":89133,"extent_end":96998,"fully_qualified_name":"description_keys","ident_utf16":{"start":{"line_number":1320,"utf16_col":9},"end":{"line_number":1320,"utf16_col":25}},"extent_utf16":{"start":{"line_number":1320,"utf16_col":0},"end":{"line_number":1394,"utf16_col":1}}}]}},"copilotInfo":{"documentationUrl":"https://docs.github.com/copilot/overview-of-github-copilot/about-github-copilot-for-individuals","notices":{"codeViewPopover":{"dismissed":false,"dismissPath":"/settings/dismiss-notice/code_view_copilot_popover"}},"userAccess":{"hasSubscriptionEnded":false,"orgHasCFBAccess":false,"userHasCFIAccess":false,"userHasOrgs":false,"userIsOrgAdmin":false,"userIsOrgMember":false,"business":null,"featureRequestInfo":null}},"copilotAccessAllowed":false,"modelsAccessAllowed":false,"modelsRepoIntegrationEnabled":false,"csrf_tokens":{"/kashapovalov/red-builder/branches":{"post":"9eLcga4C_inAQAUQhGwZh3PXO6TGTDLGcRmSGhssdsuq22-V7i-rrL5lrNtVr0RQ99zLO2WniZkApQBrsCtisw"},"/repos/preferences":{"post":"ZpmiZGgvtEKqMc7TPQr-vEvvfDKbJb3EKub-7AC0EJ5I8xe4E-gihXH3isucKsf_tzST5PkVMzyGVWTkBTAcbg"}}},"title":"red-builder/pve_installer/pve-1.089.sh at main · kashapovalov/red-builder","appPayload":{"helpUrl":"https://docs.github.com","findFileWorkerPath":"/assets-cdn/worker/find-file-worker-263cab1760dd.js","findInFileWorkerPath":"/assets-cdn/worker/find-in-file-worker-1b17b3e7786a.js","githubDevUrl":"https://github.dev/","enabled_features":{"code_nav_ui_events":false,"react_blob_overlay":true,"accessible_code_button":true}}}</script>
  <div data-target="react-app.reactRoot"><style data-styled="true" data-styled-version="5.3.11">.gISSDQ{width:100%;}/*!sc*/
@media screen and (min-width:544px){.gISSDQ{width:100%;}}/*!sc*/
@media screen and (min-width:768px){.gISSDQ{width:auto;}}/*!sc*/
.birIjn{max-height:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}/*!sc*/
@media screen and (max-width:768px){.birIjn{display:none;}}/*!sc*/
@media screen and (min-width:768px){.birIjn{max-height:100vh;height:100vh;}}/*!sc*/
.jfIeyl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;margin-bottom:16px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.kOkWgo{font-size:16px;margin-left:8px;}/*!sc*/
.JMXqM[data-size="medium"]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-width:0;}/*!sc*/
.JMXqM[data-size="medium"] svg{color:var(--fgColor-muted,var(--color-fg-muted,#848d97));}/*!sc*/
.JMXqM[data-size="medium"] > span{width:inherit;}/*!sc*/
.gUkoLg{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}/*!sc*/
.bZBlpz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;}/*!sc*/
.bJjzmO{margin-right:4px;color:var(--fgColor-muted,var(--color-fg-muted,#848d97));}/*!sc*/
.ffLUq{font-size:14px;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}/*!sc*/
.bmcJak{min-width:0;}/*!sc*/
.dPUXSa[data-size="medium"][data-no-visuals]{border-top-left-radius:0;border-bottom-left-radius:0;}/*!sc*/
@media screen and (max-width:768px){.jLLPHh{display:none;}}/*!sc*/
.fFMzrG{position:absolute;inset:0 -2px;cursor:col-resize;background-color:transparent;-webkit-transition-delay:0.1s;transition-delay:0.1s;}/*!sc*/
.fFMzrG:hover{background-color:var(--bgColor-neutral-muted,var(--color-neutral-muted,rgba(110,118,129,0.4)));}/*!sc*/
.leYMvG{margin-left:auto;margin-right:auto;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding-bottom:40px;max-width:100%;margin-top:0;}/*!sc*/
.KMPzq{display:inherit;}/*!sc*/
.cEytCf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;font-size:16px;min-width:0;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.fzFXnm{max-width:100%;}/*!sc*/
.iMnkmv{max-width:100%;list-style:none;display:inline-block;}/*!sc*/
.ghzDag{display:inline-block;max-width:100%;}/*!sc*/
.kHuKdh{font-weight:600;}/*!sc*/
.hXyrdx{padding-left:4px;padding-right:4px;font-weight:400;color:var(--fgColor-muted,var(--color-fg-muted,#848d97));font-size:16px;}/*!sc*/
.kgiVEz{font-weight:400;}/*!sc*/
.jGhzSQ{font-weight:600;display:inline-block;max-width:100%;font-size:16px;}/*!sc*/
.fjrFuv[data-size="medium"][data-no-visuals]{display:none;}/*!sc*/
.dJxjrT{margin-left:16px;margin-right:16px;}/*!sc*/
.ldRxiI{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}/*!sc*/
.fVkfyA{width:100%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;min-width:0;margin-right:0;}/*!sc*/
.gNAmSV{height:40px;padding-left:4px;padding-bottom:16px;}/*!sc*/
.jlVuVO[data-size="small"]{color:var(--fgColor-default,var(--color-fg-default,#e6edf3));display:none;}/*!sc*/
@media screen and (min-width:544px){.jlVuVO[data-size="small"]{display:none;}}/*!sc*/
@media screen and (min-width:768px){.jlVuVO[data-size="small"]{display:none;}}/*!sc*/
@media screen and (min-width:1012px){.jlVuVO[data-size="small"]{display:none;}}/*!sc*/
@media screen and (min-width:1280px){.jlVuVO[data-size="small"]{display:block;}}/*!sc*/
.jdLMhu{top:0px;z-index:4;background:var(--bgColor-default,var(--color-canvas-default));position:-webkit-sticky;position:sticky;}/*!sc*/
.hqwSEx{display:none;min-width:0;padding-top:8px;padding-bottom:8px;}/*!sc*/
.fHind{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;font-size:14px;min-width:0;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
.bQeXnn{padding-left:4px;padding-right:4px;font-weight:400;color:var(--fgColor-muted,var(--color-fg-muted,#848d97));font-size:14px;}/*!sc*/
.dnZoUW{font-weight:600;display:inline-block;max-width:100%;font-size:14px;}/*!sc*/
.gFKFyc{border-radius:6px 6px 0px 0px;}/*!sc*/
.lefpaC linkButtonSx:hover:not([disabled]){-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.lefpaC linkButtonSx:focus:not([disabled]){-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.lefpaC linkButtonSx:active:not([disabled]){-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.ivobqY[data-size="small"][data-no-visuals]{border-top-left-radius:0;border-bottom-left-radius:0;}/*!sc*/
.iCOsHh[data-size="small"][data-no-visuals]:hover:not([disabled]){-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.iCOsHh[data-size="small"][data-no-visuals]:focus:not([disabled]){-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.iCOsHh[data-size="small"][data-no-visuals]:active:not([disabled]){-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
.hycJXc{border:1px solid;border-top:none;border-color:var(--borderColor-default,var(--color-border-default,#30363d));border-radius:0px 0px 6px 6px;min-width:273px;}/*!sc*/
.dceWRL{background-color:var(--bgColor-default,var(--color-canvas-default));border:0px;border-width:0;border-radius:0px 0px 6px 6px;padding:0;min-width:0;margin-top:46px;}/*!sc*/
.dGXHv{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1;-ms-flex:1;flex:1;padding-top:8px;padding-bottom:8px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;min-width:0;position:relative;}/*!sc*/
.bpDFns{position:relative;}/*!sc*/
.iJOeCH{-webkit-flex:1;-ms-flex:1;flex:1;position:relative;min-width:0;}/*!sc*/
.jewUnv{tab-size:8;isolation:isolate;position:relative;overflow:auto;max-width:unset;}/*!sc*/
.cJGaMs{margin:1px 8px;position:absolute;z-index:1;}/*!sc*/
.iGLarr{position:absolute;}/*!sc*/
.gkZUDI{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}/*!sc*/
.cCoXib{position:fixed;top:0;right:0;height:100%;width:15px;-webkit-transition:-webkit-transform 0.3s;-webkit-transition:transform 0.3s;transition:transform 0.3s;z-index:1;}/*!sc*/
.cCoXib:hover{-webkit-transform:scaleX(1.5);-ms-transform:scaleX(1.5);transform:scaleX(1.5);}/*!sc*/
data-styled.g1[id="Box-sc-g0xbh4-0"]{content:"gISSDQ,birIjn,jfIeyl,kOkWgo,JMXqM,gUkoLg,bZBlpz,bJjzmO,ffLUq,bmcJak,dPUXSa,jLLPHh,fFMzrG,leYMvG,KMPzq,cEytCf,fzFXnm,iMnkmv,ghzDag,kHuKdh,hXyrdx,kgiVEz,jGhzSQ,fjrFuv,dJxjrT,ldRxiI,fVkfyA,gNAmSV,jlVuVO,jdLMhu,hqwSEx,fHind,bQeXnn,dnZoUW,gFKFyc,lefpaC,ivobqY,iCOsHh,hycJXc,dceWRL,dGXHv,bpDFns,iJOeCH,jewUnv,cJGaMs,iGLarr,gkZUDI,cCoXib,"}/*!sc*/
.brGdpi{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;-webkit-clip:rect(0,0,0,0);clip:rect(0,0,0,0);white-space:nowrap;border-width:0;}/*!sc*/
data-styled.g3[id="_VisuallyHidden__VisuallyHidden-sc-11jhm7a-0"]{content:"brGdpi,"}/*!sc*/
.fiSvBN{position:relative;display:inline-block;}/*!sc*/
.fiSvBN::after{position:absolute;z-index:1000000;display:none;padding:0.5em 0.75em;font:normal normal 11px/1.5 -apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";-webkit-font-smoothing:subpixel-antialiased;color:var(--tooltip-fgColor,var(--fgColor-onEmphasis,var(--color-fg-on-emphasis,#ffffff)));text-align:center;-webkit-text-decoration:none;text-decoration:none;text-shadow:none;text-transform:none;-webkit-letter-spacing:normal;-moz-letter-spacing:normal;-ms-letter-spacing:normal;letter-spacing:normal;word-wrap:break-word;white-space:pre;pointer-events:none;content:attr(aria-label);background:var(--tooltip-bgColor,var(--bgColor-emphasis,var(--color-neutral-emphasis-plus,#6e7681)));border-radius:6px;opacity:0;}/*!sc*/
@-webkit-keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}/*!sc*/
@keyframes tooltip-appear{from{opacity:0;}to{opacity:1;}}/*!sc*/
.fiSvBN:hover::after,.fiSvBN:active::after,.fiSvBN:focus::after,.fiSvBN:focus-within::after{display:inline-block;-webkit-text-decoration:none;text-decoration:none;-webkit-animation-name:tooltip-appear;animation-name:tooltip-appear;-webkit-animation-duration:0.1s;animation-duration:0.1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-animation-delay:0s;animation-delay:0s;}/*!sc*/
.fiSvBN.tooltipped-no-delay:hover::after,.fiSvBN.tooltipped-no-delay:active::after,.fiSvBN.tooltipped-no-delay:focus::after,.fiSvBN.tooltipped-no-delay:focus-within::after{-webkit-animation-delay:0s;animation-delay:0s;}/*!sc*/
.fiSvBN.tooltipped-multiline:hover::after,.fiSvBN.tooltipped-multiline:active::after,.fiSvBN.tooltipped-multiline:focus::after,.fiSvBN.tooltipped-multiline:focus-within::after{display:table-cell;}/*!sc*/
.fiSvBN.tooltipped-s::after,.fiSvBN.tooltipped-se::after,.fiSvBN.tooltipped-sw::after{top:100%;right:50%;margin-top:6px;}/*!sc*/
.fiSvBN.tooltipped-se::after{right:auto;left:50%;margin-left:-16px;}/*!sc*/
.fiSvBN.tooltipped-sw::after{margin-right:-16px;}/*!sc*/
.fiSvBN.tooltipped-n::after,.fiSvBN.tooltipped-ne::after,.fiSvBN.tooltipped-nw::after{right:50%;bottom:100%;margin-bottom:6px;}/*!sc*/
.fiSvBN.tooltipped-ne::after{right:auto;left:50%;margin-left:-16px;}/*!sc*/
.fiSvBN.tooltipped-nw::after{margin-right:-16px;}/*!sc*/
.fiSvBN.tooltipped-s::after,.fiSvBN.tooltipped-n::after{-webkit-transform:translateX(50%);-ms-transform:translateX(50%);transform:translateX(50%);}/*!sc*/
.fiSvBN.tooltipped-w::after{right:100%;bottom:50%;margin-right:6px;-webkit-transform:translateY(50%);-ms-transform:translateY(50%);transform:translateY(50%);}/*!sc*/
.fiSvBN.tooltipped-e::after{bottom:50%;left:100%;margin-left:6px;-webkit-transform:translateY(50%);-ms-transform:translateY(50%);transform:translateY(50%);}/*!sc*/
.fiSvBN.tooltipped-multiline::after{width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:250px;word-wrap:break-word;white-space:pre-line;border-collapse:separate;}/*!sc*/
.fiSvBN.tooltipped-multiline.tooltipped-s::after,.fiSvBN.tooltipped-multiline.tooltipped-n::after{right:auto;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);}/*!sc*/
.fiSvBN.tooltipped-multiline.tooltipped-w::after,.fiSvBN.tooltipped-multiline.tooltipped-e::after{right:100%;}/*!sc*/
.fiSvBN.tooltipped-align-right-2::after{right:0;margin-right:0;}/*!sc*/
.fiSvBN.tooltipped-align-left-2::after{left:0;margin-left:0;}/*!sc*/
data-styled.g6[id="Tooltip__TooltipBase-sc-17tf59c-0"]{content:"fiSvBN,"}/*!sc*/
.liVpTx{display:inline-block;overflow:hidden;text-overflow:ellipsis;vertical-align:top;white-space:nowrap;max-width:125px;}/*!sc*/
.bgsFir{display:inline-block;overflow:hidden;text-overflow:ellipsis;vertical-align:top;white-space:nowrap;max-width:100%;}/*!sc*/
data-styled.g7[id="Truncate__StyledTruncate-sc-23o1d2-0"]{content:"liVpTx,bgsFir,"}/*!sc*/
</style><meta data-hydrostats="publish"/> <!-- --> <!-- --> <button hidden="" data-testid="header-permalink-button" data-hotkey-scope="read-only-cursor-text-area"></button><button hidden=""></button><div><div style="--spacing:var(--spacing-none)" class="prc-PageLayout-PageLayoutRoot-1zlEO"><div class="prc-PageLayout-PageLayoutWrapper-s2ao4" data-width="full"><div class="prc-PageLayout-PageLayoutContent-jzDMn"><div tabindex="0" class="Box-sc-g0xbh4-0 gISSDQ"><div class="prc-PageLayout-PaneWrapper-nGO0U ReposFileTreePane-module__Pane--wS7IV ReposFileTreePane-module__HidePane--Gj4XZ" style="--offset-header:0px;--spacing-row:var(--spacing-none);--spacing-column:var(--spacing-none)" data-is-hidden="false" data-position="start" data-sticky="true"><div class="prc-PageLayout-HorizontalDivider-CYLp5 prc-PageLayout-PaneHorizontalDivider-4exOb" data-variant="none" data-position="start" style="--spacing-divider:var(--spacing-none);--spacing:var(--spacing-none)"></div><div class="prc-PageLayout-Pane-Vl5LI" data-resizable="true" style="--spacing:var(--spacing-none);--pane-min-width:256px;--pane-max-width:calc(100vw - var(--pane-max-width-diff));--pane-width-size:var(--pane-width-large);--pane-width:320px"><div class="react-tree-pane-contents"><div id="repos-file-tree" class="Box-sc-g0xbh4-0 birIjn"><div class="ReposFileTreePane-module__Box_1--Bz4Aw"><div class="Box-sc-g0xbh4-0 jfIeyl"><h2 class="use-tree-pane-module__Heading--DlnQ2 prc-Heading-Heading-6CmGO"><button type="button" aria-label="Expand file tree" data-testid="expand-file-tree-button-mobile" class="prc-Button-ButtonBase-c50BI ExpandFileTreeButton-module__Button_1--M2dXF" data-loading="false" data-size="medium" data-variant="invisible" aria-describedby=":Rl6mplab:-loading-announcement"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-arrow-left" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M7.78 12.53a.75.75 0 0 1-1.06 0L2.47 8.28a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L4.81 7h7.44a.75.75 0 0 1 0 1.5H4.81l2.97 2.97a.75.75 0 0 1 0 1.06Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x">Files</span></span></button><button data-component="IconButton" type="button" data-testid="collapse-file-tree-button" aria-expanded="true" aria-controls="repos-file-tree" class="prc-Button-ButtonBase-c50BI position-relative ExpandFileTreeButton-module__expandButton--gL4is ExpandFileTreeButton-module__filesButtonBreakpoint--WfX9t fgColor-muted prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="invisible" aria-describedby=":R756mplab:-loading-announcement" aria-labelledby=":R156mplab:"><svg aria-hidden="true" focusable="false" class="octicon octicon-sidebar-expand" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="m4.177 7.823 2.396-2.396A.25.25 0 0 1 7 5.604v4.792a.25.25 0 0 1-.427.177L4.177 8.177a.25.25 0 0 1 0-.354Z"></path><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25H9.5v-13Zm12.5 13a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H11v13Z"></path></svg></button><span class="prc-TooltipV2-Tooltip-cYMVY" data-direction="se" aria-hidden="true" id=":R156mplab:">Collapse file tree</span><button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button></h2><h2 class="Box-sc-g0xbh4-0 kOkWgo prc-Heading-Heading-6CmGO">Files</h2></div><div class="ReposFileTreePane-module__Box_2--uC_pl"><div class="ReposFileTreePane-module__Box_3--Tgoja"><button type="button" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-label="main branch" data-testid="anchor-button" class="Box-sc-g0xbh4-0 JMXqM prc-Button-ButtonBase-c50BI react-repos-tree-pane-ref-selector width-full ref-selector-class" data-loading="false" data-size="medium" data-variant="default" aria-describedby="branch-picker-repos-header-ref-selector-loading-announcement" id="branch-picker-repos-header-ref-selector"><span data-component="buttonContent" class="Box-sc-g0xbh4-0 gUkoLg prc-Button-ButtonContent-HKbr-"><span data-component="text" class="prc-Button-Label-pTQ3x"><div class="Box-sc-g0xbh4-0 bZBlpz"><div class="Box-sc-g0xbh4-0 bJjzmO"><svg aria-hidden="true" focusable="false" class="octicon octicon-git-branch" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path></svg></div><div class="Box-sc-g0xbh4-0 ffLUq ref-selector-button-text-container"><span class="Box-sc-g0xbh4-0 bmcJak prc-Text-Text-0ima0"> <!-- -->main</span></div></div></span><span data-component="trailingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-triangle-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path></svg></span></span></button><button hidden="" data-hotkey-scope="read-only-cursor-text-area"></button></div><div class="ReposFileTreePane-module__Box_4--brBpx"><a data-component="IconButton" type="button" class="prc-Button-ButtonBase-c50BI ReposFileTreePane-module__IconButton--tNSTv prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="default" aria-describedby=":R6q6mplab:-loading-announcement" aria-labelledby=":Rq6mplab:" href="/kashapovalov/red-builder/new/main/pve_installer"><svg aria-hidden="true" focusable="false" class="octicon octicon-plus" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M7.75 2a.75.75 0 0 1 .75.75V7h4.25a.75.75 0 0 1 0 1.5H8.5v4.25a.75.75 0 0 1-1.5 0V8.5H2.75a.75.75 0 0 1 0-1.5H7V2.75A.75.75 0 0 1 7.75 2Z"></path></svg></a><span class="prc-TooltipV2-Tooltip-cYMVY" data-direction="n" aria-hidden="true" id=":Rq6mplab:">Add file</span><button data-component="IconButton" type="button" class="Box-sc-g0xbh4-0 dPUXSa prc-Button-ButtonBase-c50BI SearchButton-module__IconButton--LGy8b prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="default" aria-describedby=":Rra6mplab:-loading-announcement" aria-labelledby=":R3a6mplab:"><svg aria-hidden="true" focusable="false" class="octicon octicon-search" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path></svg></button><span class="prc-TooltipV2-Tooltip-cYMVY" data-direction="nw" aria-hidden="true" id=":R3a6mplab:">Search this repository</span><button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button></div></div></div><div class="Box-sc-g0xbh4-0 jLLPHh ReposFileTreePane-module__FileResultsList--t38MI FileResultsList-module__Box_1--ZnWjQ"><span class="FileResultsList-module__FilesSearchBox--J5FtW FilesSearchBox-module__TextInput--LKpMn TextInput-wrapper prc-components-TextInputWrapper-i1ofR prc-components-TextInputBaseWrapper-ueK9q" data-leading-visual="true" data-trailing-visual="true" aria-busy="false"><span class="TextInput-icon" id=":R5amplab:" aria-hidden="true"><svg aria-hidden="true" focusable="false" class="octicon octicon-search" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path></svg></span><input type="text" aria-label="Go to file" role="combobox" aria-controls="file-results-list" aria-expanded="false" aria-haspopup="dialog" autoCorrect="off" spellcheck="false" placeholder="Go to file" aria-describedby=":R5amplab: :R5amplabH1:" data-component="input" class="prc-components-Input-Ic-y8" value=""/><span class="TextInput-icon" id=":R5amplabH1:" aria-hidden="true"><div class="FilesSearchBox-module__Box--Ye6rL"><kbd>t</kbd></div></span></span></div><button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button><button hidden=""></button><div class="Box-sc-g0xbh4-0 jLLPHh ReposFileTreePane-module__Box_5--tQNH_"><div class="react-tree-show-tree-items"><div class="ReposFileTreeView-module__Box--V2jWA" data-testid="repos-file-tree-container"><nav aria-label="File Tree Navigation"><span role="status" aria-live="polite" aria-atomic="true" class="_VisuallyHidden__VisuallyHidden-sc-11jhm7a-0 brGdpi"></span><ul role="tree" aria-label="Files" data-truncate-text="true" class="prc-TreeView-TreeViewRootUlStyles-eZtxW"><li class="PRIVATE_TreeView-item prc-TreeView-TreeViewItem-ShJr0" tabindex="0" id="devhook-item" role="treeitem" aria-labelledby=":R3pimplab:" aria-describedby=":R3pimplabH1:" aria-level="1" aria-expanded="false" aria-selected="false"><div class="PRIVATE_TreeView-item-container prc-TreeView-TreeViewItemContainer--2Rkn" style="--level:1;content-visibility:auto;contain-intrinsic-size:auto 2rem"><div style="grid-area:spacer;display:flex"><div style="width:100%;display:flex"></div></div><div class="PRIVATE_TreeView-item-toggle PRIVATE_TreeView-item-toggle--hover PRIVATE_TreeView-item-toggle--end prc-TreeView-TreeViewItemToggle-gWUdE prc-TreeView-TreeViewItemToggleHover-nEgP- prc-TreeView-TreeViewItemToggleEnd-t-AEB"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-right" viewBox="0 0 12 12" width="12" height="12" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M4.7 10c-.2 0-.4-.1-.5-.2-.3-.3-.3-.8 0-1.1L6.9 6 4.2 3.3c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l3.3 3.2c.3.3.3.8 0 1.1L5.3 9.7c-.2.2-.4.3-.6.3Z"></path></svg></div><div id=":R3pimplab:" class="PRIVATE_TreeView-item-content prc-TreeView-TreeViewItemContent-f0r0b"><div class="PRIVATE_VisuallyHidden prc-TreeView-TreeViewVisuallyHidden-4-mPv" aria-hidden="true" id=":R3pimplabH1:"></div><div class="PRIVATE_TreeView-item-visual prc-TreeView-TreeViewItemVisual-dRlGq" aria-hidden="true"><div class="PRIVATE_TreeView-directory-icon prc-TreeView-TreeViewDirectoryIcon-PHbeP"><svg aria-hidden="true" focusable="false" class="octicon octicon-file-directory-fill" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg></div></div><span class="PRIVATE_TreeView-item-content-text prc-TreeView-TreeViewItemContentText-smZM-"><span>devhook</span></span></div></div></li><li class="PRIVATE_TreeView-item prc-TreeView-TreeViewItem-ShJr0" tabindex="0" id="pve_installer-item" role="treeitem" aria-labelledby=":R5pimplab:" aria-describedby=":R5pimplabH1:" aria-level="1" aria-expanded="true" aria-selected="false"><div class="PRIVATE_TreeView-item-container prc-TreeView-TreeViewItemContainer--2Rkn" style="--level:1;content-visibility:auto;contain-intrinsic-size:auto 2rem"><div style="grid-area:spacer;display:flex"><div style="width:100%;display:flex"></div></div><div class="PRIVATE_TreeView-item-toggle PRIVATE_TreeView-item-toggle--hover PRIVATE_TreeView-item-toggle--end prc-TreeView-TreeViewItemToggle-gWUdE prc-TreeView-TreeViewItemToggleHover-nEgP- prc-TreeView-TreeViewItemToggleEnd-t-AEB"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down" viewBox="0 0 12 12" width="12" height="12" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M6 8.825c-.2 0-.4-.1-.5-.2l-3.3-3.3c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l2.7 2.7 2.7-2.7c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-3.2 3.2c-.2.2-.4.3-.6.3Z"></path></svg></div><div id=":R5pimplab:" class="PRIVATE_TreeView-item-content prc-TreeView-TreeViewItemContent-f0r0b"><div class="PRIVATE_VisuallyHidden prc-TreeView-TreeViewVisuallyHidden-4-mPv" aria-hidden="true" id=":R5pimplabH1:"></div><div class="PRIVATE_TreeView-item-visual prc-TreeView-TreeViewItemVisual-dRlGq" aria-hidden="true"><div class="PRIVATE_TreeView-directory-icon prc-TreeView-TreeViewDirectoryIcon-PHbeP"><svg aria-hidden="true" focusable="false" class="octicon octicon-file-directory-open-fill" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M.513 1.513A1.75 1.75 0 0 1 1.75 1h3.5c.55 0 1.07.26 1.4.7l.9 1.2a.25.25 0 0 0 .2.1H13a1 1 0 0 1 1 1v.5H2.75a.75.75 0 0 0 0 1.5h11.978a1 1 0 0 1 .994 1.117L15 13.25A1.75 1.75 0 0 1 13.25 15H1.75A1.75 1.75 0 0 1 0 13.25V2.75c0-.464.184-.91.513-1.237Z"></path></svg></div></div><span class="PRIVATE_TreeView-item-content-text prc-TreeView-TreeViewItemContentText-smZM-"><span>pve_installer</span></span></div></div><ul role="group" style="list-style:none;padding:0;margin:0" aria-label=""><li class="PRIVATE_TreeView-item prc-TreeView-TreeViewItem-ShJr0" tabindex="0" id="pve_installer/pve-1.089.sh-item" role="treeitem" aria-labelledby=":R2mlpimplab:" aria-describedby=":R2mlpimplabH1:" aria-level="2" aria-current="true" aria-selected="false"><div class="PRIVATE_TreeView-item-container prc-TreeView-TreeViewItemContainer--2Rkn" style="--level:2"><div style="grid-area:spacer;display:flex"><div style="width:100%;display:flex"><div class="PRIVATE_TreeView-item-level-line prc-TreeView-TreeViewItemLevelLine-KPSSL"></div></div></div><div id=":R2mlpimplab:" class="PRIVATE_TreeView-item-content prc-TreeView-TreeViewItemContent-f0r0b"><div class="PRIVATE_VisuallyHidden prc-TreeView-TreeViewVisuallyHidden-4-mPv" aria-hidden="true" id=":R2mlpimplabH1:"></div><div class="PRIVATE_TreeView-item-visual prc-TreeView-TreeViewItemVisual-dRlGq" aria-hidden="true"><svg aria-hidden="true" focusable="false" class="octicon octicon-file" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg></div><span class="PRIVATE_TreeView-item-content-text prc-TreeView-TreeViewItemContentText-smZM-"><span>pve-1.089.sh</span></span></div></div></li><li class="PRIVATE_TreeView-item prc-TreeView-TreeViewItem-ShJr0" tabindex="0" id="pve_installer/pve-1.090.sh-item" role="treeitem" aria-labelledby=":R4mlpimplab:" aria-describedby=":R4mlpimplabH1:" aria-level="2" aria-selected="false"><div class="PRIVATE_TreeView-item-container prc-TreeView-TreeViewItemContainer--2Rkn" style="--level:2;content-visibility:auto;contain-intrinsic-size:auto 2rem"><div style="grid-area:spacer;display:flex"><div style="width:100%;display:flex"><div class="PRIVATE_TreeView-item-level-line prc-TreeView-TreeViewItemLevelLine-KPSSL"></div></div></div><div id=":R4mlpimplab:" class="PRIVATE_TreeView-item-content prc-TreeView-TreeViewItemContent-f0r0b"><div class="PRIVATE_VisuallyHidden prc-TreeView-TreeViewVisuallyHidden-4-mPv" aria-hidden="true" id=":R4mlpimplabH1:"></div><div class="PRIVATE_TreeView-item-visual prc-TreeView-TreeViewItemVisual-dRlGq" aria-hidden="true"><svg aria-hidden="true" focusable="false" class="octicon octicon-file" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg></div><span class="PRIVATE_TreeView-item-content-text prc-TreeView-TreeViewItemContentText-smZM-"><span>pve-1.090.sh</span></span></div></div></li><li class="PRIVATE_TreeView-item prc-TreeView-TreeViewItem-ShJr0" tabindex="0" id="pve_installer/pve-1.091.sh-item" role="treeitem" aria-labelledby=":R6mlpimplab:" aria-describedby=":R6mlpimplabH1:" aria-level="2" aria-selected="false"><div class="PRIVATE_TreeView-item-container prc-TreeView-TreeViewItemContainer--2Rkn" style="--level:2;content-visibility:auto;contain-intrinsic-size:auto 2rem"><div style="grid-area:spacer;display:flex"><div style="width:100%;display:flex"><div class="PRIVATE_TreeView-item-level-line prc-TreeView-TreeViewItemLevelLine-KPSSL"></div></div></div><div id=":R6mlpimplab:" class="PRIVATE_TreeView-item-content prc-TreeView-TreeViewItemContent-f0r0b"><div class="PRIVATE_VisuallyHidden prc-TreeView-TreeViewVisuallyHidden-4-mPv" aria-hidden="true" id=":R6mlpimplabH1:"></div><div class="PRIVATE_TreeView-item-visual prc-TreeView-TreeViewItemVisual-dRlGq" aria-hidden="true"><svg aria-hidden="true" focusable="false" class="octicon octicon-file" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg></div><span class="PRIVATE_TreeView-item-content-text prc-TreeView-TreeViewItemContentText-smZM-"><span>pve-1.091.sh</span></span></div></div></li><li class="PRIVATE_TreeView-item prc-TreeView-TreeViewItem-ShJr0" tabindex="0" id="pve_installer/pve-1.092.sh-item" role="treeitem" aria-labelledby=":R8mlpimplab:" aria-describedby=":R8mlpimplabH1:" aria-level="2" aria-selected="false"><div class="PRIVATE_TreeView-item-container prc-TreeView-TreeViewItemContainer--2Rkn" style="--level:2;content-visibility:auto;contain-intrinsic-size:auto 2rem"><div style="grid-area:spacer;display:flex"><div style="width:100%;display:flex"><div class="PRIVATE_TreeView-item-level-line prc-TreeView-TreeViewItemLevelLine-KPSSL"></div></div></div><div id=":R8mlpimplab:" class="PRIVATE_TreeView-item-content prc-TreeView-TreeViewItemContent-f0r0b"><div class="PRIVATE_VisuallyHidden prc-TreeView-TreeViewVisuallyHidden-4-mPv" aria-hidden="true" id=":R8mlpimplabH1:"></div><div class="PRIVATE_TreeView-item-visual prc-TreeView-TreeViewItemVisual-dRlGq" aria-hidden="true"><svg aria-hidden="true" focusable="false" class="octicon octicon-file" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg></div><span class="PRIVATE_TreeView-item-content-text prc-TreeView-TreeViewItemContentText-smZM-"><span>pve-1.092.sh</span></span></div></div></li><li class="PRIVATE_TreeView-item prc-TreeView-TreeViewItem-ShJr0" tabindex="0" id="pve_installer/pve.sh-item" role="treeitem" aria-labelledby=":Ramlpimplab:" aria-describedby=":RamlpimplabH1:" aria-level="2" aria-selected="false"><div class="PRIVATE_TreeView-item-container prc-TreeView-TreeViewItemContainer--2Rkn" style="--level:2;content-visibility:auto;contain-intrinsic-size:auto 2rem"><div style="grid-area:spacer;display:flex"><div style="width:100%;display:flex"><div class="PRIVATE_TreeView-item-level-line prc-TreeView-TreeViewItemLevelLine-KPSSL"></div></div></div><div id=":Ramlpimplab:" class="PRIVATE_TreeView-item-content prc-TreeView-TreeViewItemContent-f0r0b"><div class="PRIVATE_VisuallyHidden prc-TreeView-TreeViewVisuallyHidden-4-mPv" aria-hidden="true" id=":RamlpimplabH1:"></div><div class="PRIVATE_TreeView-item-visual prc-TreeView-TreeViewItemVisual-dRlGq" aria-hidden="true"><svg aria-hidden="true" focusable="false" class="octicon octicon-file" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg></div><span class="PRIVATE_TreeView-item-content-text prc-TreeView-TreeViewItemContentText-smZM-"><span>pve.sh</span></span></div></div></li><li class="PRIVATE_TreeView-item prc-TreeView-TreeViewItem-ShJr0" tabindex="0" id="pve_installer/pve_release.sh-item" role="treeitem" aria-labelledby=":Rcmlpimplab:" aria-describedby=":RcmlpimplabH1:" aria-level="2" aria-selected="false"><div class="PRIVATE_TreeView-item-container prc-TreeView-TreeViewItemContainer--2Rkn" style="--level:2;content-visibility:auto;contain-intrinsic-size:auto 2rem"><div style="grid-area:spacer;display:flex"><div style="width:100%;display:flex"><div class="PRIVATE_TreeView-item-level-line prc-TreeView-TreeViewItemLevelLine-KPSSL"></div></div></div><div id=":Rcmlpimplab:" class="PRIVATE_TreeView-item-content prc-TreeView-TreeViewItemContent-f0r0b"><div class="PRIVATE_VisuallyHidden prc-TreeView-TreeViewVisuallyHidden-4-mPv" aria-hidden="true" id=":RcmlpimplabH1:"></div><div class="PRIVATE_TreeView-item-visual prc-TreeView-TreeViewItemVisual-dRlGq" aria-hidden="true"><svg aria-hidden="true" focusable="false" class="octicon octicon-file" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg></div><span class="PRIVATE_TreeView-item-content-text prc-TreeView-TreeViewItemContentText-smZM-"><span>pve_release.sh</span></span></div></div></li></ul></li><li class="PRIVATE_TreeView-item prc-TreeView-TreeViewItem-ShJr0" tabindex="0" id=".gitignore-item" role="treeitem" aria-labelledby=":R7pimplab:" aria-describedby=":R7pimplabH1:" aria-level="1" aria-selected="false"><div class="PRIVATE_TreeView-item-container prc-TreeView-TreeViewItemContainer--2Rkn" style="--level:1;content-visibility:auto;contain-intrinsic-size:auto 2rem"><div style="grid-area:spacer;display:flex"><div style="width:100%;display:flex"></div></div><div id=":R7pimplab:" class="PRIVATE_TreeView-item-content prc-TreeView-TreeViewItemContent-f0r0b"><div class="PRIVATE_VisuallyHidden prc-TreeView-TreeViewVisuallyHidden-4-mPv" aria-hidden="true" id=":R7pimplabH1:"></div><div class="PRIVATE_TreeView-item-visual prc-TreeView-TreeViewItemVisual-dRlGq" aria-hidden="true"><svg aria-hidden="true" focusable="false" class="octicon octicon-file" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg></div><span class="PRIVATE_TreeView-item-content-text prc-TreeView-TreeViewItemContentText-smZM-"><span>.gitignore</span></span></div></div></li><li class="PRIVATE_TreeView-item prc-TreeView-TreeViewItem-ShJr0" tabindex="0" id="freeze.txt-item" role="treeitem" aria-labelledby=":R9pimplab:" aria-describedby=":R9pimplabH1:" aria-level="1" aria-selected="false"><div class="PRIVATE_TreeView-item-container prc-TreeView-TreeViewItemContainer--2Rkn" style="--level:1;content-visibility:auto;contain-intrinsic-size:auto 2rem"><div style="grid-area:spacer;display:flex"><div style="width:100%;display:flex"></div></div><div id=":R9pimplab:" class="PRIVATE_TreeView-item-content prc-TreeView-TreeViewItemContent-f0r0b"><div class="PRIVATE_VisuallyHidden prc-TreeView-TreeViewVisuallyHidden-4-mPv" aria-hidden="true" id=":R9pimplabH1:"></div><div class="PRIVATE_TreeView-item-visual prc-TreeView-TreeViewItemVisual-dRlGq" aria-hidden="true"><svg aria-hidden="true" focusable="false" class="octicon octicon-file" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg></div><span class="PRIVATE_TreeView-item-content-text prc-TreeView-TreeViewItemContentText-smZM-"><span>freeze.txt</span></span></div></div></li><li class="PRIVATE_TreeView-item prc-TreeView-TreeViewItem-ShJr0" tabindex="0" id="pve.sh-item" role="treeitem" aria-labelledby=":Rbpimplab:" aria-describedby=":RbpimplabH1:" aria-level="1" aria-selected="false"><div class="PRIVATE_TreeView-item-container prc-TreeView-TreeViewItemContainer--2Rkn" style="--level:1;content-visibility:auto;contain-intrinsic-size:auto 2rem"><div style="grid-area:spacer;display:flex"><div style="width:100%;display:flex"></div></div><div id=":Rbpimplab:" class="PRIVATE_TreeView-item-content prc-TreeView-TreeViewItemContent-f0r0b"><div class="PRIVATE_VisuallyHidden prc-TreeView-TreeViewVisuallyHidden-4-mPv" aria-hidden="true" id=":RbpimplabH1:"></div><div class="PRIVATE_TreeView-item-visual prc-TreeView-TreeViewItemVisual-dRlGq" aria-hidden="true"><svg aria-hidden="true" focusable="false" class="octicon octicon-file" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg></div><span class="PRIVATE_TreeView-item-content-text prc-TreeView-TreeViewItemContentText-smZM-"><span>pve.sh</span></span></div></div></li></ul></nav></div></div></div></div></div></div><div class="prc-PageLayout-VerticalDivider-4A4Qm prc-PageLayout-PaneVerticalDivider-1c9vy" data-variant="none" data-position="start" style="--spacing:var(--spacing-none)"><div role="slider" aria-label="Draggable pane splitter" aria-valuemin="0" aria-valuemax="0" aria-valuenow="0" aria-valuetext="Pane width 0 pixels" tabindex="0" class="Box-sc-g0xbh4-0 fFMzrG"></div></div></div></div><div class="prc-PageLayout-ContentWrapper-b-QRo CodeView-module__SplitPageLayout_Content--qxR1C" data-is-hidden="false"><div class="prc-PageLayout-Content--F7-I" data-width="full" style="--spacing:var(--spacing-none)"><div data-selector="repos-split-pane-content" tabindex="0" class="Box-sc-g0xbh4-0 leYMvG"><div class="Box-sc-g0xbh4-0 KMPzq"><div class="container CodeViewHeader-module__Box--PofRM"><div class="px-3 pt-3 pb-0" id="StickyHeader"><div class="CodeViewHeader-module__Box_1--KpLzV"><div class="CodeViewHeader-module__Box_2--xzDOt"><div class="CodeViewHeader-module__Box_6--iStzT"><div class="Box-sc-g0xbh4-0 cEytCf"><nav data-testid="breadcrumbs" aria-labelledby="repos-header-breadcrumb--wide-heading" id="repos-header-breadcrumb--wide" class="Box-sc-g0xbh4-0 fzFXnm"><h2 class="sr-only ScreenReaderHeading-module__userSelectNone--vW4Cq prc-Heading-Heading-6CmGO" data-testid="screen-reader-heading" id="repos-header-breadcrumb--wide-heading">Breadcrumbs</h2><ol class="Box-sc-g0xbh4-0 iMnkmv"><li class="Box-sc-g0xbh4-0 ghzDag"><a class="Box-sc-g0xbh4-0 kHuKdh prc-Link-Link-85e08" sx="[object Object]" data-testid="breadcrumbs-repo-link" href="/kashapovalov/red-builder/tree/main">red-builder</a></li><li class="Box-sc-g0xbh4-0 ghzDag"><span class="Box-sc-g0xbh4-0 hXyrdx prc-Text-Text-0ima0" aria-hidden="true">/</span><a class="Box-sc-g0xbh4-0 kgiVEz prc-Link-Link-85e08" sx="[object Object]" href="/kashapovalov/red-builder/tree/main/pve_installer">pve_installer</a></li></ol></nav><div data-testid="breadcrumbs-filename" class="Box-sc-g0xbh4-0 ghzDag"><span class="Box-sc-g0xbh4-0 hXyrdx prc-Text-Text-0ima0" aria-hidden="true">/</span><h1 class="Box-sc-g0xbh4-0 jGhzSQ prc-Heading-Heading-6CmGO" tabindex="-1" id="file-name-id-wide">pve-1.089.sh</h1></div><button data-component="IconButton" type="button" class="prc-Button-ButtonBase-c50BI ml-2 prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="small" data-variant="invisible" aria-describedby=":Rvb9lab:-loading-announcement" aria-labelledby=":R3b9lab:"><svg aria-hidden="true" focusable="false" class="octicon octicon-copy" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path></svg></button><span class="CopyToClipboardButton-module__tooltip--Dq1IB prc-TooltipV2-Tooltip-cYMVY" data-direction="nw" aria-label="Copy path" aria-hidden="true" id=":R3b9lab:">Copy path</span></div></div><div class="react-code-view-header-element--wide"><div class="CodeViewHeader-module__Box_7--FZfkg"><div class="d-flex gap-2"> <button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button><button hidden=""></button><button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button><button hidden=""></button><button type="button" class="Box-sc-g0xbh4-0 fjrFuv prc-Button-ButtonBase-c50BI NavigationMenu-module__Button--SJihq" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="default" aria-describedby=":R1ahj9lab:-loading-announcement"><span data-component="buttonContent" class="Box-sc-g0xbh4-0 gUkoLg prc-Button-ButtonContent-HKbr-"><span data-component="text" class="prc-Button-Label-pTQ3x">Blame</span></span></button><button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button><button data-component="IconButton" type="button" data-testid="more-file-actions-button-nav-menu-wide" aria-haspopup="true" aria-expanded="false" tabindex="0" class="prc-Button-ButtonBase-c50BI js-blob-dropdown-click NavigationMenu-module__IconButton--NqJ_L prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="default" aria-describedby=":Rihj9lab:-loading-announcement" aria-labelledby=":Rfihj9lab:" id=":Rihj9lab:"><svg aria-hidden="true" focusable="false" class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path></svg></button><span class="prc-TooltipV2-Tooltip-cYMVY" data-direction="nw" aria-hidden="true" id=":Rfihj9lab:">More file actions</span> </div></div></div><div class="react-code-view-header-element--narrow"><div class="CodeViewHeader-module__Box_7--FZfkg"><div class="d-flex gap-2"> <button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button><button hidden=""></button><button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button><button hidden=""></button><button type="button" class="Box-sc-g0xbh4-0 fjrFuv prc-Button-ButtonBase-c50BI NavigationMenu-module__Button--SJihq" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="default" aria-describedby=":R1ahr9lab:-loading-announcement"><span data-component="buttonContent" class="Box-sc-g0xbh4-0 gUkoLg prc-Button-ButtonContent-HKbr-"><span data-component="text" class="prc-Button-Label-pTQ3x">Blame</span></span></button><button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button><button data-component="IconButton" type="button" data-testid="more-file-actions-button-nav-menu-narrow" aria-haspopup="true" aria-expanded="false" tabindex="0" class="prc-Button-ButtonBase-c50BI js-blob-dropdown-click NavigationMenu-module__IconButton--NqJ_L prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="default" aria-describedby=":Rihr9lab:-loading-announcement" aria-labelledby=":Rfihr9lab:" id=":Rihr9lab:"><svg aria-hidden="true" focusable="false" class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path></svg></button><span class="prc-TooltipV2-Tooltip-cYMVY" data-direction="nw" aria-hidden="true" id=":Rfihr9lab:">More file actions</span> </div></div></div></div></div></div></div></div><div class="Box-sc-g0xbh4-0 dJxjrT react-code-view-bottom-padding"> <div class="BlobTopBanners-module__Box--g_bGk"></div> <!-- --> <!-- --> </div><div class="Box-sc-g0xbh4-0 dJxjrT"> <!-- --> <!-- --> <button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button><button hidden=""></button><div class="d-flex flex-column border rounded-2 mb-3 pl-1"><div class="LatestCommit-module__Box--En0AE"><h2 class="sr-only ScreenReaderHeading-module__userSelectNone--vW4Cq prc-Heading-Heading-6CmGO" data-testid="screen-reader-heading">Latest commit</h2><div style="width:120px" class="Skeleton Skeleton--text" data-testid="loading"> </div><div class="d-flex flex-shrink-0 gap-2"><div data-testid="latest-commit-details" class="d-none d-sm-flex flex-items-center"></div><div class="d-flex gap-2"><h2 class="sr-only ScreenReaderHeading-module__userSelectNone--vW4Cq prc-Heading-Heading-6CmGO" data-testid="screen-reader-heading">History</h2><a href="/kashapovalov/red-builder/commits/main/pve_installer/pve-1.089.sh" class="prc-Button-ButtonBase-c50BI d-none d-lg-flex LinkButton-module__code-view-link-button--xvCGA flex-items-center fgColor-default" data-loading="false" data-size="small" data-variant="invisible" aria-describedby=":R1bdal9lab:-loading-announcement"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-history" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x"><span class="fgColor-default">History</span></span></span></a><div class="d-sm-none"></div><div class="d-flex d-lg-none"><span role="tooltip" aria-label="History" id="history-icon-button-tooltip" class="Tooltip__TooltipBase-sc-17tf59c-0 fiSvBN tooltipped-n"><a href="/kashapovalov/red-builder/commits/main/pve_installer/pve-1.089.sh" class="prc-Button-ButtonBase-c50BI LinkButton-module__code-view-link-button--xvCGA flex-items-center fgColor-default" data-loading="false" data-size="small" data-variant="invisible" aria-describedby=":R6bdal9lab:-loading-announcement history-icon-button-tooltip"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-history" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z"></path></svg></span></span></a></span></div></div></div></div></div><div class="Box-sc-g0xbh4-0 ldRxiI"><div class="Box-sc-g0xbh4-0 fVkfyA container"><div class="Box-sc-g0xbh4-0 gNAmSV react-code-size-details-banner"><div class="react-code-size-details-banner CodeSizeDetails-module__Box--QdxnQ"><div class="text-mono CodeSizeDetails-module__Box_1--_uFDs"><div title="executable file" class="Truncate__StyledTruncate-sc-23o1d2-0 liVpTx CodeSizeDetails-module__Truncate--crycx"><span>executable file</span></div><span class="CodeSizeDetails-module__Text--j_Gbp">·</span><div title="122 KB" data-testid="blob-size" class="Truncate__StyledTruncate-sc-23o1d2-0 bgsFir CodeSizeDetails-module__Truncate_1--er0Uk"><span>1677 lines (1608 loc) · 122 KB</span></div></div></div><div class="react-code-size-details-banner"><button style="--button-color:fg.default" type="button" aria-haspopup="true" aria-expanded="false" tabindex="0" class="Box-sc-g0xbh4-0 jlVuVO prc-Button-ButtonBase-c50BI" data-loading="false" data-size="small" data-variant="invisible" aria-describedby=":R9fal9lab:-loading-announcement" id=":R9fal9lab:"><span data-component="buttonContent" class="Box-sc-g0xbh4-0 gUkoLg prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-copilot" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M7.998 15.035c-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.201-.508-.254-1.084-.254-1.656 0-.87.128-1.769.693-2.484.579-.733 1.494-1.124 2.724-1.261 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095v1.872c0 .766-3.351 3.795-8.002 3.795Zm0-1.485c2.28 0 4.584-1.11 5.002-1.433V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-1.146 0-2.059-.327-2.71-.991A3.222 3.222 0 0 1 8 6.303a3.24 3.24 0 0 1-.544.743c-.65.664-1.563.991-2.71.991-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433ZM6.762 2.83c-.193-.206-.637-.413-1.682-.297-1.019.113-1.479.404-1.713.7-.247.312-.369.789-.369 1.554 0 .793.129 1.171.308 1.371.162.181.519.379 1.442.379.853 0 1.339-.235 1.638-.54.315-.322.527-.827.617-1.553.117-.935-.037-1.395-.241-1.614Zm4.155-.297c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Z"></path><path d="M6.25 9.037a.75.75 0 0 1 .75.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 .75-.75Zm4.25.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 1.5 0Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x">Code 55% faster with GitHub Copilot</span></span></button></div></div><div class="Box-sc-g0xbh4-0 jdLMhu react-blob-view-header-sticky" id="repos-sticky-header"><div class="BlobViewHeader-module__Box--pvsIA"><div class="react-blob-sticky-header"><div class="Box-sc-g0xbh4-0 hqwSEx"><div class="FileNameStickyHeader-module__Box_5--xBJ2J"><div class="Box-sc-g0xbh4-0 fHind"><nav data-testid="breadcrumbs" aria-labelledby="sticky-breadcrumb-heading" id="sticky-breadcrumb" class="Box-sc-g0xbh4-0 fzFXnm"><h2 class="sr-only ScreenReaderHeading-module__userSelectNone--vW4Cq prc-Heading-Heading-6CmGO" data-testid="screen-reader-heading" id="sticky-breadcrumb-heading">Breadcrumbs</h2><ol class="Box-sc-g0xbh4-0 iMnkmv"><li class="Box-sc-g0xbh4-0 ghzDag"><a class="Box-sc-g0xbh4-0 kHuKdh prc-Link-Link-85e08" sx="[object Object]" data-testid="breadcrumbs-repo-link" href="/kashapovalov/red-builder/tree/main">red-builder</a></li><li class="Box-sc-g0xbh4-0 ghzDag"><span class="Box-sc-g0xbh4-0 bQeXnn prc-Text-Text-0ima0" aria-hidden="true">/</span><a class="Box-sc-g0xbh4-0 kgiVEz prc-Link-Link-85e08" sx="[object Object]" href="/kashapovalov/red-builder/tree/main/pve_installer">pve_installer</a></li></ol></nav><div data-testid="breadcrumbs-filename" class="Box-sc-g0xbh4-0 ghzDag"><span class="Box-sc-g0xbh4-0 bQeXnn prc-Text-Text-0ima0" aria-hidden="true">/</span><h1 class="Box-sc-g0xbh4-0 dnZoUW prc-Heading-Heading-6CmGO" tabindex="-1" id="sticky-file-name-id">pve-1.089.sh</h1></div></div><button type="button" class="prc-Button-ButtonBase-c50BI FileNameStickyHeader-module__Button--SaiiH FileNameStickyHeader-module__GoToTopButton--9lB4x" data-loading="false" data-size="small" data-variant="invisible" aria-describedby=":R4mfal9lab:-loading-announcement"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-arrow-up" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M3.47 7.78a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0l4.25 4.25a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018L9 4.81v7.44a.75.75 0 0 1-1.5 0V4.81L4.53 7.78a.75.75 0 0 1-1.06 0Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x">Top</span></span></button></div></div></div><div class="Box-sc-g0xbh4-0 gFKFyc BlobViewHeader-module__Box_1--PPihg"><h2 class="sr-only ScreenReaderHeading-module__userSelectNone--vW4Cq prc-Heading-Heading-6CmGO" data-testid="screen-reader-heading">File metadata and controls</h2><div class="BlobViewHeader-module__Box_2--G_jCG"><ul aria-label="File view" class="prc-SegmentedControl-SegmentedControl-e7570 BlobTabButtons-module__SegmentedControl--JMGov" data-size="small"><li class="prc-SegmentedControl-Item-7Aq6h" data-selected=""><button aria-current="true" class="prc-SegmentedControl-Button-ojWXD" type="button" style="--separator-color:transparent"><span class="prc-SegmentedControl-Content-gnQ4n segmentedControl-content"><div class="prc-SegmentedControl-Text-c5gSh segmentedControl-text" data-text="Code">Code</div></span></button></li><li class="prc-SegmentedControl-Item-7Aq6h"><button aria-current="false" class="prc-SegmentedControl-Button-ojWXD" type="button" style="--separator-color:var(--borderColor-default, var(--color-border-default, #30363d))"><span class="prc-SegmentedControl-Content-gnQ4n segmentedControl-content"><div class="prc-SegmentedControl-Text-c5gSh segmentedControl-text" data-text="Blame">Blame</div></span></button></li></ul><button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button><button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button><div class="react-code-size-details-in-header CodeSizeDetails-module__Box--QdxnQ"><div class="text-mono CodeSizeDetails-module__Box_1--_uFDs"><div title="executable file" class="Truncate__StyledTruncate-sc-23o1d2-0 liVpTx CodeSizeDetails-module__Truncate--crycx"><span>executable file</span></div><span class="CodeSizeDetails-module__Text--j_Gbp">·</span><div title="122 KB" data-testid="blob-size" class="Truncate__StyledTruncate-sc-23o1d2-0 bgsFir CodeSizeDetails-module__Truncate_1--er0Uk"><span>1677 lines (1608 loc) · 122 KB</span></div></div></div><div class="react-code-size-details-in-header"><button style="--button-color:fg.default" type="button" aria-haspopup="true" aria-expanded="false" tabindex="0" class="Box-sc-g0xbh4-0 jlVuVO prc-Button-ButtonBase-c50BI" data-loading="false" data-size="small" data-variant="invisible" aria-describedby=":Rt6fal9lab:-loading-announcement" id=":Rt6fal9lab:"><span data-component="buttonContent" class="Box-sc-g0xbh4-0 gUkoLg prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-copilot" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M7.998 15.035c-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.201-.508-.254-1.084-.254-1.656 0-.87.128-1.769.693-2.484.579-.733 1.494-1.124 2.724-1.261 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095v1.872c0 .766-3.351 3.795-8.002 3.795Zm0-1.485c2.28 0 4.584-1.11 5.002-1.433V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-1.146 0-2.059-.327-2.71-.991A3.222 3.222 0 0 1 8 6.303a3.24 3.24 0 0 1-.544.743c-.65.664-1.563.991-2.71.991-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433ZM6.762 2.83c-.193-.206-.637-.413-1.682-.297-1.019.113-1.479.404-1.713.7-.247.312-.369.789-.369 1.554 0 .793.129 1.171.308 1.371.162.181.519.379 1.442.379.853 0 1.339-.235 1.638-.54.315-.322.527-.827.617-1.553.117-.935-.037-1.395-.241-1.614Zm4.155-.297c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Z"></path><path d="M6.25 9.037a.75.75 0 0 1 .75.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 .75-.75Zm4.25.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 1.5 0Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x">Code 55% faster with GitHub Copilot</span></span></button></div></div><div class="BlobViewHeader-module__Box_3--Kvpex"><div class="react-blob-header-edit-and-raw-actions BlobViewHeader-module__Box_4--vFP89"><div class="Box-sc-g0xbh4-0 prc-ButtonGroup-ButtonGroup-vcMeG"><div><a href="https://github.com/kashapovalov/red-builder/raw/refs/heads/main/pve_installer/pve-1.089.sh" data-testid="raw-button" class="Box-sc-g0xbh4-0 lefpaC prc-Button-ButtonBase-c50BI BlobViewHeader-module__LinkButton--DMph4" data-loading="false" data-no-visuals="true" data-size="small" data-variant="default" aria-describedby=":R1b76fal9lab:-loading-announcement"><span data-component="buttonContent" class="Box-sc-g0xbh4-0 gUkoLg prc-Button-ButtonContent-HKbr-"><span data-component="text" class="prc-Button-Label-pTQ3x">Raw</span></span></a></div><div><button data-component="IconButton" type="button" data-testid="copy-raw-button" class="prc-Button-ButtonBase-c50BI prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="small" data-variant="default" aria-describedby=":R1mb76fal9lab:-loading-announcement" aria-labelledby=":R6b76fal9lab:"><svg aria-hidden="true" focusable="false" class="octicon octicon-copy" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path></svg></button><span class="prc-TooltipV2-Tooltip-cYMVY" data-direction="n" aria-hidden="true" id=":R6b76fal9lab:">Copy raw file</span></div><div><button data-component="IconButton" type="button" data-testid="download-raw-button" class="Box-sc-g0xbh4-0 ivobqY prc-Button-ButtonBase-c50BI prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="small" data-variant="default" aria-describedby=":Rfb76fal9lab:-loading-announcement" aria-labelledby=":R3b76fal9lab:"><svg aria-hidden="true" focusable="false" class="octicon octicon-download" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"></path><path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.749.749 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06l1.97 1.969Z"></path></svg></button><span class="prc-TooltipV2-Tooltip-cYMVY" data-direction="n" aria-hidden="true" id=":R3b76fal9lab:">Download raw file</span></div></div><button hidden="" data-testid="raw-button-shortcut" data-hotkey-scope="read-only-cursor-text-area"></button><button hidden="" data-testid="copy-raw-button-shortcut" data-hotkey-scope="read-only-cursor-text-area"></button><button hidden="" data-testid="download-raw-button-shortcut" data-hotkey-scope="read-only-cursor-text-area"></button><a class="js-github-dev-shortcut d-none prc-Link-Link-85e08" href="https://github.dev/"></a><button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button><a class="js-github-dev-new-tab-shortcut d-none prc-Link-Link-85e08" href="https://github.dev/" target="_blank"></a><button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button><div class="Box-sc-g0xbh4-0 prc-ButtonGroup-ButtonGroup-vcMeG"><div><a sx="[object Object]" data-component="IconButton" type="button" data-testid="edit-button" class="Box-sc-g0xbh4-0 iCOsHh prc-Button-ButtonBase-c50BI BlobViewHeader-module__IconButton_1--MzNlL prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="small" data-variant="default" aria-describedby=":Rdl76fal9lab:-loading-announcement" aria-labelledby=":R1l76fal9lab:" href="/kashapovalov/red-builder/edit/main/pve_installer/pve-1.089.sh"><svg aria-hidden="true" focusable="false" class="octicon octicon-pencil" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Zm.176 4.823L9.75 4.81l-6.286 6.287a.253.253 0 0 0-.064.108l-.558 1.953 1.953-.558a.253.253 0 0 0 .108-.064Zm1.238-3.763a.25.25 0 0 0-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 0 0 0-.354Z"></path></svg></a><span class="prc-TooltipV2-Tooltip-cYMVY" data-direction="nw" aria-hidden="true" id=":R1l76fal9lab:">Edit this file</span></div><div><button data-component="IconButton" type="button" data-testid="more-edit-button" aria-haspopup="true" aria-expanded="false" tabindex="0" class="prc-Button-ButtonBase-c50BI prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="small" data-variant="default" aria-describedby=":R2l76fal9lab:-loading-announcement" aria-labelledby=":R1ul76fal9lab:" id=":R2l76fal9lab:"><svg aria-hidden="true" focusable="false" class="octicon octicon-triangle-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path></svg></button><span class="prc-TooltipV2-Tooltip-cYMVY" data-direction="nw" aria-hidden="true" id=":R1ul76fal9lab:">More edit options</span></div></div><button hidden="" data-testid="" data-hotkey="e,Shift+E" data-hotkey-scope="read-only-cursor-text-area"></button></div><button data-component="IconButton" type="button" aria-pressed="false" aria-expanded="false" aria-controls="symbols-pane" data-testid="symbols-button" class="prc-Button-ButtonBase-c50BI BlobViewHeader-module__IconButton_2--KDy6i prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="small" data-variant="invisible" aria-describedby="symbols-button-loading-announcement" aria-labelledby=":R1f6fal9lab:" id="symbols-button"><svg aria-hidden="true" focusable="false" class="octicon octicon-code-square" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Zm7.47 3.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L10.69 8 9.22 6.53a.75.75 0 0 1 0-1.06ZM6.78 6.53 5.31 8l1.47 1.47a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path></svg></button><span class="prc-TooltipV2-Tooltip-cYMVY" data-direction="nw" aria-hidden="true" id=":R1f6fal9lab:">Open symbols panel</span><div class="react-blob-header-edit-and-raw-actions-combined"><button data-component="IconButton" type="button" title="More file actions" data-testid="more-file-actions-button" aria-haspopup="true" aria-expanded="false" tabindex="0" class="prc-Button-ButtonBase-c50BI js-blob-dropdown-click BlobViewHeader-module__IconButton--uO1fA prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="small" data-variant="invisible" aria-describedby=":R5v6fal9lab:-loading-announcement" aria-labelledby=":R3tv6fal9lab:" id=":R5v6fal9lab:"><svg aria-hidden="true" focusable="false" class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path></svg></button><span class="prc-TooltipV2-Tooltip-cYMVY" data-direction="nw" aria-hidden="true" id=":R3tv6fal9lab:">Edit and raw actions</span></div></div></div></div><div></div></div><div class="Box-sc-g0xbh4-0 hycJXc"><section aria-labelledby="file-name-id-wide file-name-id-mobile" class="Box-sc-g0xbh4-0 dceWRL"><div class="Box-sc-g0xbh4-0 dGXHv"><div id="highlighted-line-menu-positioner" class="position-relative"><div id="copilot-button-positioner" class="Box-sc-g0xbh4-0 bpDFns"><div class="Box-sc-g0xbh4-0 iJOeCH"><div class="Box-sc-g0xbh4-0 jewUnv react-code-file-contents" role="presentation" aria-hidden="true" data-tab-size="8" data-paste-markdown-skip="true" data-hpc="true"><div class="react-line-numbers-no-virtualization" style="pointer-events:auto;position:relative;z-index:2"><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="1" class="react-line-number react-code-text" style="padding-right:16px">1</div><div data-line-number="2" class="react-line-number react-code-text" style="padding-right:16px">2</div><div data-line-number="3" class="react-line-number react-code-text" style="padding-right:16px">3</div><div data-line-number="4" class="react-line-number react-code-text" style="padding-right:16px">4</div><div data-line-number="5" class="react-line-number react-code-text" style="padding-right:16px">5</div><div data-line-number="6" class="react-line-number react-code-text" style="padding-right:16px">6</div><div data-line-number="7" class="react-line-number react-code-text" style="padding-right:16px">7</div><div data-line-number="8" class="react-line-number react-code-text" style="padding-right:16px">8</div><div data-line-number="9" class="react-line-number react-code-text" style="padding-right:16px">9</div><div data-line-number="10" class="react-line-number react-code-text" style="padding-right:16px">10</div><div data-line-number="11" class="react-line-number react-code-text" style="padding-right:16px">11</div><div data-line-number="12" class="react-line-number react-code-text" style="padding-right:16px">12</div><div data-line-number="13" class="react-line-number react-code-text" style="padding-right:16px">13</div><div data-line-number="14" class="react-line-number react-code-text" style="padding-right:16px">14</div><div data-line-number="15" class="react-line-number react-code-text" style="padding-right:16px">15</div><div data-line-number="16" class="react-line-number react-code-text" style="padding-right:16px">16</div><div data-line-number="17" class="react-line-number react-code-text" style="padding-right:16px">17</div><div data-line-number="18" class="react-line-number react-code-text" style="padding-right:16px">18</div><div data-line-number="19" class="react-line-number react-code-text" style="padding-right:16px">19</div><div data-line-number="20" class="react-line-number react-code-text" style="padding-right:16px">20</div><div data-line-number="21" class="react-line-number react-code-text" style="padding-right:16px">21</div><div data-line-number="22" class="react-line-number react-code-text" style="padding-right:16px">22</div><div data-line-number="23" class="react-line-number react-code-text" style="padding-right:16px">23</div><div data-line-number="24" class="react-line-number react-code-text" style="padding-right:16px">24</div><div data-line-number="25" class="react-line-number react-code-text" style="padding-right:16px">25</div><div data-line-number="26" class="react-line-number react-code-text" style="padding-right:16px">26</div><div data-line-number="27" class="react-line-number react-code-text" style="padding-right:16px">27</div><div data-line-number="28" class="react-line-number react-code-text" style="padding-right:16px">28</div><div data-line-number="29" class="react-line-number react-code-text" style="padding-right:16px">29</div><div data-line-number="30" class="react-line-number react-code-text" style="padding-right:16px">30</div><div data-line-number="31" class="react-line-number react-code-text" style="padding-right:16px">31</div><div data-line-number="32" class="react-line-number react-code-text" style="padding-right:16px">32</div><div data-line-number="33" class="react-line-number react-code-text" style="padding-right:16px">33</div><div data-line-number="34" class="react-line-number react-code-text" style="padding-right:16px">34</div><div data-line-number="35" class="react-line-number react-code-text" style="padding-right:16px">35</div><div data-line-number="36" class="react-line-number react-code-text" style="padding-right:16px">36</div><div data-line-number="37" class="react-line-number react-code-text" style="padding-right:16px">37</div><div data-line-number="38" class="react-line-number react-code-text" style="padding-right:16px">38</div><div data-line-number="39" class="react-line-number react-code-text" style="padding-right:16px">39</div><div data-line-number="40" class="react-line-number react-code-text" style="padding-right:16px">40</div><div data-line-number="41" class="react-line-number react-code-text" style="padding-right:16px">41</div><div data-line-number="42" class="react-line-number react-code-text" style="padding-right:16px">42</div><div data-line-number="43" class="react-line-number react-code-text" style="padding-right:16px">43</div><div data-line-number="44" class="react-line-number react-code-text" style="padding-right:16px">44</div><div data-line-number="45" class="react-line-number react-code-text" style="padding-right:16px">45</div><div data-line-number="46" class="react-line-number react-code-text" style="padding-right:16px">46</div><div data-line-number="47" class="react-line-number react-code-text" style="padding-right:16px">47</div><div data-line-number="48" class="react-line-number react-code-text" style="padding-right:16px">48</div><div data-line-number="49" class="react-line-number react-code-text" style="padding-right:16px">49</div><div data-line-number="50" class="react-line-number react-code-text" style="padding-right:16px">50</div><div data-line-number="51" class="react-line-number react-code-text" style="padding-right:16px">51</div><div data-line-number="52" class="react-line-number react-code-text" style="padding-right:16px">52</div><div data-line-number="53" class="react-line-number react-code-text" style="padding-right:16px">53</div><div data-line-number="54" class="react-line-number react-code-text" style="padding-right:16px">54</div><div data-line-number="55" class="react-line-number react-code-text" style="padding-right:16px">55</div><div data-line-number="56" class="react-line-number react-code-text" style="padding-right:16px">56</div><div data-line-number="57" class="react-line-number react-code-text" style="padding-right:16px">57</div><div data-line-number="58" class="react-line-number react-code-text" style="padding-right:16px">58</div><div data-line-number="59" class="react-line-number react-code-text" style="padding-right:16px">59</div><div data-line-number="60" class="react-line-number react-code-text" style="padding-right:16px">60</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="61" class="react-line-number react-code-text" style="padding-right:16px">61</div><div data-line-number="62" class="react-line-number react-code-text" style="padding-right:16px">62</div><div data-line-number="63" class="react-line-number react-code-text" style="padding-right:16px">63</div><div data-line-number="64" class="react-line-number react-code-text" style="padding-right:16px">64</div><div data-line-number="65" class="react-line-number react-code-text" style="padding-right:16px">65</div><div data-line-number="66" class="react-line-number react-code-text" style="padding-right:16px">66</div><div data-line-number="67" class="react-line-number react-code-text" style="padding-right:16px">67</div><div data-line-number="68" class="react-line-number react-code-text" style="padding-right:16px">68</div><div data-line-number="69" class="react-line-number react-code-text" style="padding-right:16px">69</div><div data-line-number="70" class="react-line-number react-code-text" style="padding-right:16px">70</div><div data-line-number="71" class="react-line-number react-code-text" style="padding-right:16px">71</div><div data-line-number="72" class="react-line-number react-code-text" style="padding-right:16px">72</div><div data-line-number="73" class="react-line-number react-code-text" style="padding-right:16px">73</div><div data-line-number="74" class="react-line-number react-code-text" style="padding-right:16px">74</div><div data-line-number="75" class="react-line-number react-code-text" style="padding-right:16px">75</div><div data-line-number="76" class="react-line-number react-code-text" style="padding-right:16px">76</div><div data-line-number="77" class="react-line-number react-code-text" style="padding-right:16px">77</div><div data-line-number="78" class="react-line-number react-code-text" style="padding-right:16px">78</div><div data-line-number="79" class="react-line-number react-code-text" style="padding-right:16px">79</div><div data-line-number="80" class="react-line-number react-code-text" style="padding-right:16px">80</div><div data-line-number="81" class="react-line-number react-code-text" style="padding-right:16px">81</div><div data-line-number="82" class="react-line-number react-code-text" style="padding-right:16px">82</div><div data-line-number="83" class="react-line-number react-code-text" style="padding-right:16px">83</div><div data-line-number="84" class="react-line-number react-code-text" style="padding-right:16px">84</div><div data-line-number="85" class="react-line-number react-code-text" style="padding-right:16px">85</div><div data-line-number="86" class="react-line-number react-code-text" style="padding-right:16px">86</div><div data-line-number="87" class="react-line-number react-code-text" style="padding-right:16px">87</div><div data-line-number="88" class="react-line-number react-code-text" style="padding-right:16px">88</div><div data-line-number="89" class="react-line-number react-code-text" style="padding-right:16px">89</div><div data-line-number="90" class="react-line-number react-code-text" style="padding-right:16px">90</div><div data-line-number="91" class="react-line-number react-code-text" style="padding-right:16px">91</div><div data-line-number="92" class="react-line-number react-code-text" style="padding-right:16px">92</div><div data-line-number="93" class="react-line-number react-code-text" style="padding-right:16px">93</div><div data-line-number="94" class="react-line-number react-code-text" style="padding-right:16px">94</div><div data-line-number="95" class="react-line-number react-code-text" style="padding-right:16px">95</div><div data-line-number="96" class="react-line-number react-code-text" style="padding-right:16px">96</div><div data-line-number="97" class="react-line-number react-code-text" style="padding-right:16px">97</div><div data-line-number="98" class="react-line-number react-code-text" style="padding-right:16px">98</div><div data-line-number="99" class="react-line-number react-code-text" style="padding-right:16px">99</div><div data-line-number="100" class="react-line-number react-code-text" style="padding-right:16px">100</div><div data-line-number="101" class="react-line-number react-code-text" style="padding-right:16px">101</div><div data-line-number="102" class="react-line-number react-code-text" style="padding-right:16px">102</div><div data-line-number="103" class="react-line-number react-code-text" style="padding-right:16px">103</div><div data-line-number="104" class="react-line-number react-code-text" style="padding-right:16px">104</div><div data-line-number="105" class="react-line-number react-code-text" style="padding-right:16px">105</div><div data-line-number="106" class="react-line-number react-code-text" style="padding-right:16px">106</div><div data-line-number="107" class="react-line-number react-code-text" style="padding-right:16px">107</div><div data-line-number="108" class="react-line-number react-code-text" style="padding-right:16px">108</div><div data-line-number="109" class="react-line-number react-code-text" style="padding-right:16px">109</div><div data-line-number="110" class="react-line-number react-code-text" style="padding-right:16px">110</div><div data-line-number="111" class="react-line-number react-code-text" style="padding-right:16px">111</div><div data-line-number="112" class="react-line-number react-code-text" style="padding-right:16px">112</div><div data-line-number="113" class="react-line-number react-code-text" style="padding-right:16px">113</div><div data-line-number="114" class="react-line-number react-code-text" style="padding-right:16px">114</div><div data-line-number="115" class="react-line-number react-code-text" style="padding-right:16px">115</div><div data-line-number="116" class="react-line-number react-code-text" style="padding-right:16px">116</div><div data-line-number="117" class="react-line-number react-code-text" style="padding-right:16px">117</div><div data-line-number="118" class="react-line-number react-code-text" style="padding-right:16px">118</div><div data-line-number="119" class="react-line-number react-code-text" style="padding-right:16px">119</div><div data-line-number="120" class="react-line-number react-code-text" style="padding-right:16px">120</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="121" class="react-line-number react-code-text" style="padding-right:16px">121</div><div data-line-number="122" class="react-line-number react-code-text" style="padding-right:16px">122</div><div data-line-number="123" class="react-line-number react-code-text" style="padding-right:16px">123</div><div data-line-number="124" class="react-line-number react-code-text" style="padding-right:16px">124</div><div data-line-number="125" class="react-line-number react-code-text" style="padding-right:16px">125</div><div data-line-number="126" class="react-line-number react-code-text" style="padding-right:16px">126</div><div data-line-number="127" class="react-line-number react-code-text" style="padding-right:16px">127</div><div data-line-number="128" class="react-line-number react-code-text" style="padding-right:16px">128</div><div data-line-number="129" class="react-line-number react-code-text" style="padding-right:16px">129</div><div data-line-number="130" class="react-line-number react-code-text" style="padding-right:16px">130</div><div data-line-number="131" class="react-line-number react-code-text" style="padding-right:16px">131</div><div data-line-number="132" class="react-line-number react-code-text" style="padding-right:16px">132</div><div data-line-number="133" class="react-line-number react-code-text" style="padding-right:16px">133</div><div data-line-number="134" class="react-line-number react-code-text" style="padding-right:16px">134</div><div data-line-number="135" class="react-line-number react-code-text" style="padding-right:16px">135</div><div data-line-number="136" class="react-line-number react-code-text" style="padding-right:16px">136</div><div data-line-number="137" class="react-line-number react-code-text" style="padding-right:16px">137</div><div data-line-number="138" class="react-line-number react-code-text" style="padding-right:16px">138</div><div data-line-number="139" class="react-line-number react-code-text" style="padding-right:16px">139</div><div data-line-number="140" class="react-line-number react-code-text" style="padding-right:16px">140</div><div data-line-number="141" class="react-line-number react-code-text" style="padding-right:16px">141</div><div data-line-number="142" class="react-line-number react-code-text" style="padding-right:16px">142</div><div data-line-number="143" class="react-line-number react-code-text" style="padding-right:16px">143</div><div data-line-number="144" class="react-line-number react-code-text" style="padding-right:16px">144</div><div data-line-number="145" class="react-line-number react-code-text" style="padding-right:16px">145</div><div data-line-number="146" class="react-line-number react-code-text" style="padding-right:16px">146</div><div data-line-number="147" class="react-line-number react-code-text" style="padding-right:16px">147</div><div data-line-number="148" class="react-line-number react-code-text" style="padding-right:16px">148</div><div data-line-number="149" class="react-line-number react-code-text" style="padding-right:16px">149</div><div data-line-number="150" class="react-line-number react-code-text" style="padding-right:16px">150</div><div data-line-number="151" class="react-line-number react-code-text" style="padding-right:16px">151<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="152" class="child-of-line-150  react-line-number react-code-text" style="padding-right:16px">152</div><div data-line-number="153" class="child-of-line-150  react-line-number react-code-text" style="padding-right:16px">153</div><div data-line-number="154" class="child-of-line-150  react-line-number react-code-text" style="padding-right:16px">154</div><div data-line-number="155" class="child-of-line-150  react-line-number react-code-text" style="padding-right:16px">155</div><div data-line-number="156" class="child-of-line-150  react-line-number react-code-text" style="padding-right:16px">156</div><div data-line-number="157" class="child-of-line-150  react-line-number react-code-text" style="padding-right:16px">157</div><div data-line-number="158" class="react-line-number react-code-text" style="padding-right:16px">158</div><div data-line-number="159" class="react-line-number react-code-text" style="padding-right:16px">159</div><div data-line-number="160" class="react-line-number react-code-text" style="padding-right:16px">160</div><div data-line-number="161" class="react-line-number react-code-text" style="padding-right:16px">161<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="162" class="child-of-line-160  react-line-number react-code-text" style="padding-right:16px">162</div><div data-line-number="163" class="child-of-line-160  react-line-number react-code-text" style="padding-right:16px">163</div><div data-line-number="164" class="child-of-line-160  react-line-number react-code-text" style="padding-right:16px">164</div><div data-line-number="165" class="react-line-number react-code-text" style="padding-right:16px">165</div><div data-line-number="166" class="react-line-number react-code-text" style="padding-right:16px">166</div><div data-line-number="167" class="react-line-number react-code-text" style="padding-right:16px">167</div><div data-line-number="168" class="react-line-number react-code-text" style="padding-right:16px">168<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="169" class="child-of-line-167  react-line-number react-code-text" style="padding-right:16px">169</div><div data-line-number="170" class="child-of-line-167  react-line-number react-code-text" style="padding-right:16px">170</div><div data-line-number="171" class="child-of-line-167  react-line-number react-code-text" style="padding-right:16px">171</div><div data-line-number="172" class="react-line-number react-code-text" style="padding-right:16px">172</div><div data-line-number="173" class="react-line-number react-code-text" style="padding-right:16px">173</div><div data-line-number="174" class="react-line-number react-code-text" style="padding-right:16px">174</div><div data-line-number="175" class="react-line-number react-code-text" style="padding-right:16px">175</div><div data-line-number="176" class="react-line-number react-code-text" style="padding-right:16px">176</div><div data-line-number="177" class="react-line-number react-code-text" style="padding-right:16px">177</div><div data-line-number="178" class="react-line-number react-code-text" style="padding-right:16px">178</div><div data-line-number="179" class="react-line-number react-code-text" style="padding-right:16px">179</div><div data-line-number="180" class="react-line-number react-code-text" style="padding-right:16px">180</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="181" class="react-line-number react-code-text" style="padding-right:16px">181</div><div data-line-number="182" class="react-line-number react-code-text" style="padding-right:16px">182</div><div data-line-number="183" class="react-line-number react-code-text" style="padding-right:16px">183<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="184" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">184</div><div data-line-number="185" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">185</div><div data-line-number="186" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">186</div><div data-line-number="187" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">187</div><div data-line-number="188" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">188</div><div data-line-number="189" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">189</div><div data-line-number="190" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">190</div><div data-line-number="191" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">191</div><div data-line-number="192" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">192</div><div data-line-number="193" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">193</div><div data-line-number="194" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">194</div><div data-line-number="195" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">195</div><div data-line-number="196" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">196</div><div data-line-number="197" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">197</div><div data-line-number="198" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">198</div><div data-line-number="199" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">199</div><div data-line-number="200" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">200</div><div data-line-number="201" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">201</div><div data-line-number="202" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">202</div><div data-line-number="203" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">203</div><div data-line-number="204" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">204</div><div data-line-number="205" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">205</div><div data-line-number="206" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">206</div><div data-line-number="207" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">207</div><div data-line-number="208" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">208</div><div data-line-number="209" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">209</div><div data-line-number="210" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">210</div><div data-line-number="211" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">211</div><div data-line-number="212" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">212</div><div data-line-number="213" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">213</div><div data-line-number="214" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">214</div><div data-line-number="215" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">215</div><div data-line-number="216" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">216</div><div data-line-number="217" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">217</div><div data-line-number="218" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">218</div><div data-line-number="219" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">219</div><div data-line-number="220" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">220</div><div data-line-number="221" class="child-of-line-182  react-line-number react-code-text" style="padding-right:16px">221</div><div data-line-number="222" class="react-line-number react-code-text" style="padding-right:16px">222</div><div data-line-number="223" class="react-line-number react-code-text" style="padding-right:16px">223</div><div data-line-number="224" class="react-line-number react-code-text" style="padding-right:16px">224</div><div data-line-number="225" class="react-line-number react-code-text" style="padding-right:16px">225<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="226" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">226</div><div data-line-number="227" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">227</div><div data-line-number="228" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">228</div><div data-line-number="229" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">229</div><div data-line-number="230" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">230</div><div data-line-number="231" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">231</div><div data-line-number="232" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">232</div><div data-line-number="233" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">233</div><div data-line-number="234" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">234</div><div data-line-number="235" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">235</div><div data-line-number="236" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">236</div><div data-line-number="237" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">237</div><div data-line-number="238" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">238</div><div data-line-number="239" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">239</div><div data-line-number="240" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">240</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="241" class="child-of-line-224  react-line-number react-code-text" style="padding-right:16px">241</div><div data-line-number="242" class="react-line-number react-code-text" style="padding-right:16px">242</div><div data-line-number="243" class="react-line-number react-code-text" style="padding-right:16px">243</div><div data-line-number="244" class="react-line-number react-code-text" style="padding-right:16px">244</div><div data-line-number="245" class="react-line-number react-code-text" style="padding-right:16px">245<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="246" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">246</div><div data-line-number="247" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">247</div><div data-line-number="248" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">248</div><div data-line-number="249" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">249</div><div data-line-number="250" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">250</div><div data-line-number="251" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">251</div><div data-line-number="252" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">252</div><div data-line-number="253" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">253</div><div data-line-number="254" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">254</div><div data-line-number="255" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">255</div><div data-line-number="256" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">256</div><div data-line-number="257" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">257</div><div data-line-number="258" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">258</div><div data-line-number="259" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">259</div><div data-line-number="260" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">260</div><div data-line-number="261" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">261</div><div data-line-number="262" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">262</div><div data-line-number="263" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">263</div><div data-line-number="264" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">264</div><div data-line-number="265" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">265</div><div data-line-number="266" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">266</div><div data-line-number="267" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">267</div><div data-line-number="268" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">268</div><div data-line-number="269" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">269</div><div data-line-number="270" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">270</div><div data-line-number="271" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">271</div><div data-line-number="272" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">272</div><div data-line-number="273" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">273</div><div data-line-number="274" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">274</div><div data-line-number="275" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">275</div><div data-line-number="276" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">276</div><div data-line-number="277" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">277</div><div data-line-number="278" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">278</div><div data-line-number="279" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">279</div><div data-line-number="280" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">280</div><div data-line-number="281" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">281</div><div data-line-number="282" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">282</div><div data-line-number="283" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">283</div><div data-line-number="284" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">284</div><div data-line-number="285" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">285</div><div data-line-number="286" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">286</div><div data-line-number="287" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">287</div><div data-line-number="288" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">288</div><div data-line-number="289" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">289</div><div data-line-number="290" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">290</div><div data-line-number="291" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">291</div><div data-line-number="292" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">292</div><div data-line-number="293" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">293</div><div data-line-number="294" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">294</div><div data-line-number="295" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">295</div><div data-line-number="296" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">296</div><div data-line-number="297" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">297</div><div data-line-number="298" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">298</div><div data-line-number="299" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">299</div><div data-line-number="300" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">300</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="301" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">301</div><div data-line-number="302" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">302</div><div data-line-number="303" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">303</div><div data-line-number="304" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">304</div><div data-line-number="305" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">305</div><div data-line-number="306" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">306</div><div data-line-number="307" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">307</div><div data-line-number="308" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">308</div><div data-line-number="309" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">309</div><div data-line-number="310" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">310</div><div data-line-number="311" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">311</div><div data-line-number="312" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">312</div><div data-line-number="313" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">313</div><div data-line-number="314" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">314</div><div data-line-number="315" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">315</div><div data-line-number="316" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">316</div><div data-line-number="317" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">317</div><div data-line-number="318" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">318</div><div data-line-number="319" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">319</div><div data-line-number="320" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">320</div><div data-line-number="321" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">321</div><div data-line-number="322" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">322</div><div data-line-number="323" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">323</div><div data-line-number="324" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">324</div><div data-line-number="325" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">325</div><div data-line-number="326" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">326</div><div data-line-number="327" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">327</div><div data-line-number="328" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">328</div><div data-line-number="329" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">329</div><div data-line-number="330" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">330</div><div data-line-number="331" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">331</div><div data-line-number="332" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">332</div><div data-line-number="333" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">333</div><div data-line-number="334" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">334</div><div data-line-number="335" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">335</div><div data-line-number="336" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">336</div><div data-line-number="337" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">337</div><div data-line-number="338" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">338</div><div data-line-number="339" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">339</div><div data-line-number="340" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">340</div><div data-line-number="341" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">341</div><div data-line-number="342" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">342</div><div data-line-number="343" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">343</div><div data-line-number="344" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">344</div><div data-line-number="345" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">345</div><div data-line-number="346" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">346</div><div data-line-number="347" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">347</div><div data-line-number="348" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">348</div><div data-line-number="349" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">349</div><div data-line-number="350" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">350</div><div data-line-number="351" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">351</div><div data-line-number="352" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">352</div><div data-line-number="353" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">353</div><div data-line-number="354" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">354</div><div data-line-number="355" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">355</div><div data-line-number="356" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">356</div><div data-line-number="357" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">357</div><div data-line-number="358" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">358</div><div data-line-number="359" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">359</div><div data-line-number="360" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">360</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="361" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">361</div><div data-line-number="362" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">362</div><div data-line-number="363" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">363</div><div data-line-number="364" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">364</div><div data-line-number="365" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">365</div><div data-line-number="366" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">366</div><div data-line-number="367" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">367</div><div data-line-number="368" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">368</div><div data-line-number="369" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">369</div><div data-line-number="370" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">370</div><div data-line-number="371" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">371</div><div data-line-number="372" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">372</div><div data-line-number="373" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">373</div><div data-line-number="374" class="child-of-line-244  react-line-number react-code-text" style="padding-right:16px">374</div><div data-line-number="375" class="react-line-number react-code-text" style="padding-right:16px">375</div><div data-line-number="376" class="react-line-number react-code-text" style="padding-right:16px">376</div><div data-line-number="377" class="react-line-number react-code-text" style="padding-right:16px">377</div><div data-line-number="378" class="react-line-number react-code-text" style="padding-right:16px">378<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="379" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">379</div><div data-line-number="380" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">380</div><div data-line-number="381" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">381</div><div data-line-number="382" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">382</div><div data-line-number="383" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">383</div><div data-line-number="384" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">384</div><div data-line-number="385" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">385</div><div data-line-number="386" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">386</div><div data-line-number="387" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">387</div><div data-line-number="388" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">388</div><div data-line-number="389" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">389</div><div data-line-number="390" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">390</div><div data-line-number="391" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">391</div><div data-line-number="392" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">392</div><div data-line-number="393" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">393</div><div data-line-number="394" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">394</div><div data-line-number="395" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">395</div><div data-line-number="396" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">396</div><div data-line-number="397" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">397</div><div data-line-number="398" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">398</div><div data-line-number="399" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">399</div><div data-line-number="400" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">400</div><div data-line-number="401" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">401</div><div data-line-number="402" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">402</div><div data-line-number="403" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">403</div><div data-line-number="404" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">404</div><div data-line-number="405" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">405</div><div data-line-number="406" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">406</div><div data-line-number="407" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">407</div><div data-line-number="408" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">408</div><div data-line-number="409" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">409</div><div data-line-number="410" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">410</div><div data-line-number="411" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">411</div><div data-line-number="412" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">412</div><div data-line-number="413" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">413</div><div data-line-number="414" class="child-of-line-377  react-line-number react-code-text" style="padding-right:16px">414</div><div data-line-number="415" class="react-line-number react-code-text" style="padding-right:16px">415</div><div data-line-number="416" class="react-line-number react-code-text" style="padding-right:16px">416</div><div data-line-number="417" class="react-line-number react-code-text" style="padding-right:16px">417</div><div data-line-number="418" class="react-line-number react-code-text" style="padding-right:16px">418<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="419" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">419</div><div data-line-number="420" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">420</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="421" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">421</div><div data-line-number="422" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">422</div><div data-line-number="423" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">423</div><div data-line-number="424" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">424</div><div data-line-number="425" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">425</div><div data-line-number="426" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">426</div><div data-line-number="427" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">427</div><div data-line-number="428" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">428</div><div data-line-number="429" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">429</div><div data-line-number="430" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">430</div><div data-line-number="431" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">431</div><div data-line-number="432" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">432</div><div data-line-number="433" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">433</div><div data-line-number="434" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">434</div><div data-line-number="435" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">435</div><div data-line-number="436" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">436</div><div data-line-number="437" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">437</div><div data-line-number="438" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">438</div><div data-line-number="439" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">439</div><div data-line-number="440" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">440</div><div data-line-number="441" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">441</div><div data-line-number="442" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">442</div><div data-line-number="443" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">443</div><div data-line-number="444" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">444</div><div data-line-number="445" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">445</div><div data-line-number="446" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">446</div><div data-line-number="447" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">447</div><div data-line-number="448" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">448</div><div data-line-number="449" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">449</div><div data-line-number="450" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">450</div><div data-line-number="451" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">451</div><div data-line-number="452" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">452</div><div data-line-number="453" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">453</div><div data-line-number="454" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">454</div><div data-line-number="455" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">455</div><div data-line-number="456" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">456</div><div data-line-number="457" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">457</div><div data-line-number="458" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">458</div><div data-line-number="459" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">459</div><div data-line-number="460" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">460</div><div data-line-number="461" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">461</div><div data-line-number="462" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">462</div><div data-line-number="463" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">463</div><div data-line-number="464" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">464</div><div data-line-number="465" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">465</div><div data-line-number="466" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">466</div><div data-line-number="467" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">467</div><div data-line-number="468" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">468</div><div data-line-number="469" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">469</div><div data-line-number="470" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">470</div><div data-line-number="471" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">471</div><div data-line-number="472" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">472</div><div data-line-number="473" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">473</div><div data-line-number="474" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">474</div><div data-line-number="475" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">475</div><div data-line-number="476" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">476</div><div data-line-number="477" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">477</div><div data-line-number="478" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">478</div><div data-line-number="479" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">479</div><div data-line-number="480" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">480</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="481" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">481</div><div data-line-number="482" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">482</div><div data-line-number="483" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">483</div><div data-line-number="484" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">484</div><div data-line-number="485" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">485</div><div data-line-number="486" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">486</div><div data-line-number="487" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">487</div><div data-line-number="488" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">488</div><div data-line-number="489" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">489</div><div data-line-number="490" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">490</div><div data-line-number="491" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">491</div><div data-line-number="492" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">492</div><div data-line-number="493" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">493</div><div data-line-number="494" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">494</div><div data-line-number="495" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">495</div><div data-line-number="496" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">496</div><div data-line-number="497" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">497</div><div data-line-number="498" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">498</div><div data-line-number="499" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">499</div><div data-line-number="500" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">500</div><div data-line-number="501" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">501</div><div data-line-number="502" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">502</div><div data-line-number="503" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">503</div><div data-line-number="504" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">504</div><div data-line-number="505" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">505</div><div data-line-number="506" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">506</div><div data-line-number="507" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">507</div><div data-line-number="508" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">508</div><div data-line-number="509" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">509</div><div data-line-number="510" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">510</div><div data-line-number="511" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">511</div><div data-line-number="512" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">512</div><div data-line-number="513" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">513</div><div data-line-number="514" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">514</div><div data-line-number="515" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">515</div><div data-line-number="516" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">516</div><div data-line-number="517" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">517</div><div data-line-number="518" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">518</div><div data-line-number="519" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">519</div><div data-line-number="520" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">520</div><div data-line-number="521" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">521</div><div data-line-number="522" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">522</div><div data-line-number="523" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">523</div><div data-line-number="524" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">524</div><div data-line-number="525" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">525</div><div data-line-number="526" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">526</div><div data-line-number="527" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">527</div><div data-line-number="528" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">528</div><div data-line-number="529" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">529</div><div data-line-number="530" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">530</div><div data-line-number="531" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">531</div><div data-line-number="532" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">532</div><div data-line-number="533" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">533</div><div data-line-number="534" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">534</div><div data-line-number="535" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">535</div><div data-line-number="536" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">536</div><div data-line-number="537" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">537</div><div data-line-number="538" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">538</div><div data-line-number="539" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">539</div><div data-line-number="540" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">540</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="541" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">541</div><div data-line-number="542" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">542</div><div data-line-number="543" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">543</div><div data-line-number="544" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">544</div><div data-line-number="545" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">545</div><div data-line-number="546" class="child-of-line-417  react-line-number react-code-text" style="padding-right:16px">546</div><div data-line-number="547" class="react-line-number react-code-text" style="padding-right:16px">547</div><div data-line-number="548" class="react-line-number react-code-text" style="padding-right:16px">548</div><div data-line-number="549" class="react-line-number react-code-text" style="padding-right:16px">549</div><div data-line-number="550" class="react-line-number react-code-text" style="padding-right:16px">550<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="551" class="child-of-line-549  react-line-number react-code-text" style="padding-right:16px">551</div><div data-line-number="552" class="child-of-line-549  react-line-number react-code-text" style="padding-right:16px">552</div><div data-line-number="553" class="child-of-line-549  react-line-number react-code-text" style="padding-right:16px">553</div><div data-line-number="554" class="react-line-number react-code-text" style="padding-right:16px">554</div><div data-line-number="555" class="react-line-number react-code-text" style="padding-right:16px">555</div><div data-line-number="556" class="react-line-number react-code-text" style="padding-right:16px">556</div><div data-line-number="557" class="react-line-number react-code-text" style="padding-right:16px">557<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="558" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">558</div><div data-line-number="559" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">559</div><div data-line-number="560" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">560</div><div data-line-number="561" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">561</div><div data-line-number="562" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">562</div><div data-line-number="563" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">563</div><div data-line-number="564" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">564</div><div data-line-number="565" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">565</div><div data-line-number="566" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">566</div><div data-line-number="567" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">567</div><div data-line-number="568" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">568</div><div data-line-number="569" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">569</div><div data-line-number="570" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">570</div><div data-line-number="571" class="child-of-line-556  react-line-number react-code-text" style="padding-right:16px">571</div><div data-line-number="572" class="react-line-number react-code-text" style="padding-right:16px">572</div><div data-line-number="573" class="react-line-number react-code-text" style="padding-right:16px">573</div><div data-line-number="574" class="react-line-number react-code-text" style="padding-right:16px">574</div><div data-line-number="575" class="react-line-number react-code-text" style="padding-right:16px">575<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="576" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">576</div><div data-line-number="577" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">577</div><div data-line-number="578" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">578</div><div data-line-number="579" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">579</div><div data-line-number="580" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">580</div><div data-line-number="581" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">581</div><div data-line-number="582" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">582</div><div data-line-number="583" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">583</div><div data-line-number="584" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">584</div><div data-line-number="585" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">585</div><div data-line-number="586" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">586</div><div data-line-number="587" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">587</div><div data-line-number="588" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">588</div><div data-line-number="589" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">589</div><div data-line-number="590" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">590</div><div data-line-number="591" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">591</div><div data-line-number="592" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">592</div><div data-line-number="593" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">593</div><div data-line-number="594" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">594</div><div data-line-number="595" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">595</div><div data-line-number="596" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">596</div><div data-line-number="597" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">597</div><div data-line-number="598" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">598</div><div data-line-number="599" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">599</div><div data-line-number="600" class="child-of-line-574  react-line-number react-code-text" style="padding-right:16px">600</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="601" class="react-line-number react-code-text" style="padding-right:16px">601</div><div data-line-number="602" class="react-line-number react-code-text" style="padding-right:16px">602</div><div data-line-number="603" class="react-line-number react-code-text" style="padding-right:16px">603</div><div data-line-number="604" class="react-line-number react-code-text" style="padding-right:16px">604<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="605" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">605</div><div data-line-number="606" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">606</div><div data-line-number="607" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">607</div><div data-line-number="608" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">608</div><div data-line-number="609" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">609</div><div data-line-number="610" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">610</div><div data-line-number="611" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">611</div><div data-line-number="612" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">612</div><div data-line-number="613" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">613</div><div data-line-number="614" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">614</div><div data-line-number="615" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">615</div><div data-line-number="616" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">616</div><div data-line-number="617" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">617</div><div data-line-number="618" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">618</div><div data-line-number="619" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">619</div><div data-line-number="620" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">620</div><div data-line-number="621" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">621</div><div data-line-number="622" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">622</div><div data-line-number="623" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">623</div><div data-line-number="624" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">624</div><div data-line-number="625" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">625</div><div data-line-number="626" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">626</div><div data-line-number="627" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">627</div><div data-line-number="628" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">628</div><div data-line-number="629" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">629</div><div data-line-number="630" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">630</div><div data-line-number="631" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">631</div><div data-line-number="632" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">632</div><div data-line-number="633" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">633</div><div data-line-number="634" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">634</div><div data-line-number="635" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">635</div><div data-line-number="636" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">636</div><div data-line-number="637" class="child-of-line-603  react-line-number react-code-text" style="padding-right:16px">637</div><div data-line-number="638" class="react-line-number react-code-text" style="padding-right:16px">638</div><div data-line-number="639" class="react-line-number react-code-text" style="padding-right:16px">639</div><div data-line-number="640" class="react-line-number react-code-text" style="padding-right:16px">640</div><div data-line-number="641" class="react-line-number react-code-text" style="padding-right:16px">641<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="642" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">642</div><div data-line-number="643" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">643</div><div data-line-number="644" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">644</div><div data-line-number="645" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">645</div><div data-line-number="646" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">646</div><div data-line-number="647" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">647</div><div data-line-number="648" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">648</div><div data-line-number="649" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">649</div><div data-line-number="650" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">650</div><div data-line-number="651" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">651</div><div data-line-number="652" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">652</div><div data-line-number="653" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">653</div><div data-line-number="654" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">654</div><div data-line-number="655" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">655</div><div data-line-number="656" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">656</div><div data-line-number="657" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">657</div><div data-line-number="658" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">658</div><div data-line-number="659" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">659</div><div data-line-number="660" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">660</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="661" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">661</div><div data-line-number="662" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">662</div><div data-line-number="663" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">663</div><div data-line-number="664" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">664</div><div data-line-number="665" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">665</div><div data-line-number="666" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">666</div><div data-line-number="667" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">667</div><div data-line-number="668" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">668</div><div data-line-number="669" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">669</div><div data-line-number="670" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">670</div><div data-line-number="671" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">671</div><div data-line-number="672" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">672</div><div data-line-number="673" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">673</div><div data-line-number="674" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">674</div><div data-line-number="675" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">675</div><div data-line-number="676" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">676</div><div data-line-number="677" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">677</div><div data-line-number="678" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">678</div><div data-line-number="679" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">679</div><div data-line-number="680" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">680</div><div data-line-number="681" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">681</div><div data-line-number="682" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">682</div><div data-line-number="683" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">683</div><div data-line-number="684" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">684</div><div data-line-number="685" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">685</div><div data-line-number="686" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">686</div><div data-line-number="687" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">687</div><div data-line-number="688" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">688</div><div data-line-number="689" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">689</div><div data-line-number="690" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">690</div><div data-line-number="691" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">691</div><div data-line-number="692" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">692</div><div data-line-number="693" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">693</div><div data-line-number="694" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">694</div><div data-line-number="695" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">695</div><div data-line-number="696" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">696</div><div data-line-number="697" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">697</div><div data-line-number="698" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">698</div><div data-line-number="699" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">699</div><div data-line-number="700" class="child-of-line-640  react-line-number react-code-text" style="padding-right:16px">700</div><div data-line-number="701" class="react-line-number react-code-text" style="padding-right:16px">701</div><div data-line-number="702" class="react-line-number react-code-text" style="padding-right:16px">702</div><div data-line-number="703" class="react-line-number react-code-text" style="padding-right:16px">703<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="704" class="child-of-line-702  react-line-number react-code-text" style="padding-right:16px">704</div><div data-line-number="705" class="child-of-line-702  react-line-number react-code-text" style="padding-right:16px">705</div><div data-line-number="706" class="child-of-line-702  react-line-number react-code-text" style="padding-right:16px">706</div><div data-line-number="707" class="child-of-line-702  react-line-number react-code-text" style="padding-right:16px">707</div><div data-line-number="708" class="child-of-line-702  react-line-number react-code-text" style="padding-right:16px">708</div><div data-line-number="709" class="react-line-number react-code-text" style="padding-right:16px">709</div><div data-line-number="710" class="react-line-number react-code-text" style="padding-right:16px">710</div><div data-line-number="711" class="react-line-number react-code-text" style="padding-right:16px">711</div><div data-line-number="712" class="react-line-number react-code-text" style="padding-right:16px">712<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="713" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">713</div><div data-line-number="714" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">714</div><div data-line-number="715" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">715</div><div data-line-number="716" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">716</div><div data-line-number="717" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">717</div><div data-line-number="718" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">718</div><div data-line-number="719" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">719</div><div data-line-number="720" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">720</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="721" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">721</div><div data-line-number="722" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">722</div><div data-line-number="723" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">723</div><div data-line-number="724" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">724</div><div data-line-number="725" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">725</div><div data-line-number="726" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">726</div><div data-line-number="727" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">727</div><div data-line-number="728" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">728</div><div data-line-number="729" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">729</div><div data-line-number="730" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">730</div><div data-line-number="731" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">731</div><div data-line-number="732" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">732</div><div data-line-number="733" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">733</div><div data-line-number="734" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">734</div><div data-line-number="735" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">735</div><div data-line-number="736" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">736</div><div data-line-number="737" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">737</div><div data-line-number="738" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">738</div><div data-line-number="739" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">739</div><div data-line-number="740" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">740</div><div data-line-number="741" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">741</div><div data-line-number="742" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">742</div><div data-line-number="743" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">743</div><div data-line-number="744" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">744</div><div data-line-number="745" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">745</div><div data-line-number="746" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">746</div><div data-line-number="747" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">747</div><div data-line-number="748" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">748</div><div data-line-number="749" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">749</div><div data-line-number="750" class="child-of-line-711  react-line-number react-code-text" style="padding-right:16px">750</div><div data-line-number="751" class="react-line-number react-code-text" style="padding-right:16px">751</div><div data-line-number="752" class="react-line-number react-code-text" style="padding-right:16px">752</div><div data-line-number="753" class="react-line-number react-code-text" style="padding-right:16px">753</div><div data-line-number="754" class="react-line-number react-code-text" style="padding-right:16px">754<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="755" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">755</div><div data-line-number="756" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">756</div><div data-line-number="757" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">757</div><div data-line-number="758" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">758</div><div data-line-number="759" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">759</div><div data-line-number="760" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">760</div><div data-line-number="761" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">761</div><div data-line-number="762" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">762</div><div data-line-number="763" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">763</div><div data-line-number="764" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">764</div><div data-line-number="765" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">765</div><div data-line-number="766" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">766</div><div data-line-number="767" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">767</div><div data-line-number="768" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">768</div><div data-line-number="769" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">769</div><div data-line-number="770" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">770</div><div data-line-number="771" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">771</div><div data-line-number="772" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">772</div><div data-line-number="773" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">773</div><div data-line-number="774" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">774</div><div data-line-number="775" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">775</div><div data-line-number="776" class="child-of-line-753  react-line-number react-code-text" style="padding-right:16px">776</div><div data-line-number="777" class="react-line-number react-code-text" style="padding-right:16px">777</div><div data-line-number="778" class="react-line-number react-code-text" style="padding-right:16px">778</div><div data-line-number="779" class="react-line-number react-code-text" style="padding-right:16px">779</div><div data-line-number="780" class="react-line-number react-code-text" style="padding-right:16px">780<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="781" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">781</div><div data-line-number="782" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">782</div><div data-line-number="783" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">783</div><div data-line-number="784" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">784</div><div data-line-number="785" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">785</div><div data-line-number="786" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">786</div><div data-line-number="787" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">787</div><div data-line-number="788" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">788</div><div data-line-number="789" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">789</div><div data-line-number="790" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">790</div><div data-line-number="791" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">791</div><div data-line-number="792" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">792</div><div data-line-number="793" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">793</div><div data-line-number="794" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">794</div><div data-line-number="795" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">795</div><div data-line-number="796" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">796</div><div data-line-number="797" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">797</div><div data-line-number="798" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">798</div><div data-line-number="799" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">799</div><div data-line-number="800" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">800</div><div data-line-number="801" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">801</div><div data-line-number="802" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">802</div><div data-line-number="803" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">803</div><div data-line-number="804" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">804</div><div data-line-number="805" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">805</div><div data-line-number="806" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">806</div><div data-line-number="807" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">807</div><div data-line-number="808" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">808</div><div data-line-number="809" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">809</div><div data-line-number="810" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">810</div><div data-line-number="811" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">811</div><div data-line-number="812" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">812</div><div data-line-number="813" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">813</div><div data-line-number="814" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">814</div><div data-line-number="815" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">815</div><div data-line-number="816" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">816</div><div data-line-number="817" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">817</div><div data-line-number="818" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">818</div><div data-line-number="819" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">819</div><div data-line-number="820" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">820</div><div data-line-number="821" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">821</div><div data-line-number="822" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">822</div><div data-line-number="823" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">823</div><div data-line-number="824" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">824</div><div data-line-number="825" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">825</div><div data-line-number="826" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">826</div><div data-line-number="827" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">827</div><div data-line-number="828" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">828</div><div data-line-number="829" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">829</div><div data-line-number="830" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">830</div><div data-line-number="831" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">831</div><div data-line-number="832" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">832</div><div data-line-number="833" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">833</div><div data-line-number="834" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">834</div><div data-line-number="835" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">835</div><div data-line-number="836" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">836</div><div data-line-number="837" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">837</div><div data-line-number="838" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">838</div><div data-line-number="839" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">839</div><div data-line-number="840" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">840</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="841" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">841</div><div data-line-number="842" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">842</div><div data-line-number="843" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">843</div><div data-line-number="844" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">844</div><div data-line-number="845" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">845</div><div data-line-number="846" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">846</div><div data-line-number="847" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">847</div><div data-line-number="848" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">848</div><div data-line-number="849" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">849</div><div data-line-number="850" class="child-of-line-779  react-line-number react-code-text" style="padding-right:16px">850</div><div data-line-number="851" class="react-line-number react-code-text" style="padding-right:16px">851</div><div data-line-number="852" class="react-line-number react-code-text" style="padding-right:16px">852</div><div data-line-number="853" class="react-line-number react-code-text" style="padding-right:16px">853</div><div data-line-number="854" class="react-line-number react-code-text" style="padding-right:16px">854</div><div data-line-number="855" class="react-line-number react-code-text" style="padding-right:16px">855</div><div data-line-number="856" class="react-line-number react-code-text" style="padding-right:16px">856</div><div data-line-number="857" class="react-line-number react-code-text" style="padding-right:16px">857</div><div data-line-number="858" class="react-line-number react-code-text" style="padding-right:16px">858<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="859" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">859</div><div data-line-number="860" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">860</div><div data-line-number="861" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">861</div><div data-line-number="862" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">862</div><div data-line-number="863" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">863</div><div data-line-number="864" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">864</div><div data-line-number="865" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">865</div><div data-line-number="866" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">866</div><div data-line-number="867" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">867</div><div data-line-number="868" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">868</div><div data-line-number="869" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">869</div><div data-line-number="870" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">870</div><div data-line-number="871" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">871</div><div data-line-number="872" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">872</div><div data-line-number="873" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">873</div><div data-line-number="874" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">874</div><div data-line-number="875" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">875</div><div data-line-number="876" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">876</div><div data-line-number="877" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">877</div><div data-line-number="878" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">878</div><div data-line-number="879" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">879</div><div data-line-number="880" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">880</div><div data-line-number="881" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">881</div><div data-line-number="882" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">882</div><div data-line-number="883" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">883</div><div data-line-number="884" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">884</div><div data-line-number="885" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">885</div><div data-line-number="886" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">886</div><div data-line-number="887" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">887</div><div data-line-number="888" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">888</div><div data-line-number="889" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">889</div><div data-line-number="890" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">890</div><div data-line-number="891" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">891</div><div data-line-number="892" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">892</div><div data-line-number="893" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">893</div><div data-line-number="894" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">894</div><div data-line-number="895" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">895</div><div data-line-number="896" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">896</div><div data-line-number="897" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">897</div><div data-line-number="898" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">898</div><div data-line-number="899" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">899</div><div data-line-number="900" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">900</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="901" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">901</div><div data-line-number="902" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">902</div><div data-line-number="903" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">903</div><div data-line-number="904" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">904</div><div data-line-number="905" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">905</div><div data-line-number="906" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">906</div><div data-line-number="907" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">907</div><div data-line-number="908" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">908</div><div data-line-number="909" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">909</div><div data-line-number="910" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">910</div><div data-line-number="911" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">911</div><div data-line-number="912" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">912</div><div data-line-number="913" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">913</div><div data-line-number="914" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">914</div><div data-line-number="915" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">915</div><div data-line-number="916" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">916</div><div data-line-number="917" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">917</div><div data-line-number="918" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">918</div><div data-line-number="919" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">919</div><div data-line-number="920" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">920</div><div data-line-number="921" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">921</div><div data-line-number="922" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">922</div><div data-line-number="923" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">923</div><div data-line-number="924" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">924</div><div data-line-number="925" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">925</div><div data-line-number="926" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">926</div><div data-line-number="927" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">927</div><div data-line-number="928" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">928</div><div data-line-number="929" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">929</div><div data-line-number="930" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">930</div><div data-line-number="931" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">931</div><div data-line-number="932" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">932</div><div data-line-number="933" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">933</div><div data-line-number="934" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">934</div><div data-line-number="935" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">935</div><div data-line-number="936" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">936</div><div data-line-number="937" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">937</div><div data-line-number="938" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">938</div><div data-line-number="939" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">939</div><div data-line-number="940" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">940</div><div data-line-number="941" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">941</div><div data-line-number="942" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">942</div><div data-line-number="943" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">943</div><div data-line-number="944" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">944</div><div data-line-number="945" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">945</div><div data-line-number="946" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">946</div><div data-line-number="947" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">947</div><div data-line-number="948" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">948</div><div data-line-number="949" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">949</div><div data-line-number="950" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">950</div><div data-line-number="951" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">951</div><div data-line-number="952" class="child-of-line-857  react-line-number react-code-text" style="padding-right:16px">952</div><div data-line-number="953" class="react-line-number react-code-text" style="padding-right:16px">953</div><div data-line-number="954" class="react-line-number react-code-text" style="padding-right:16px">954</div><div data-line-number="955" class="react-line-number react-code-text" style="padding-right:16px">955</div><div data-line-number="956" class="react-line-number react-code-text" style="padding-right:16px">956<span class="Box-sc-g0xbh4-0 cJGaMs"><div aria-label="Collapse code section" role="button" class="Box-sc-g0xbh4-0 iGLarr"><svg aria-hidden="true" focusable="false" class="octicon octicon-chevron-down Octicon-sc-9kayk9-0" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path></svg></div></span></div><div data-line-number="957" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">957</div><div data-line-number="958" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">958</div><div data-line-number="959" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">959</div><div data-line-number="960" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">960</div></div><div class="react-no-virtualization-wrapper-lines-ssr"><div data-line-number="961" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">961</div><div data-line-number="962" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">962</div><div data-line-number="963" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">963</div><div data-line-number="964" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">964</div><div data-line-number="965" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">965</div><div data-line-number="966" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">966</div><div data-line-number="967" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">967</div><div data-line-number="968" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">968</div><div data-line-number="969" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">969</div><div data-line-number="970" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">970</div><div data-line-number="971" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">971</div><div data-line-number="972" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">972</div><div data-line-number="973" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">973</div><div data-line-number="974" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">974</div><div data-line-number="975" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">975</div><div data-line-number="976" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">976</div><div data-line-number="977" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">977</div><div data-line-number="978" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">978</div><div data-line-number="979" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">979</div><div data-line-number="980" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">980</div><div data-line-number="981" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">981</div><div data-line-number="982" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">982</div><div data-line-number="983" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">983</div><div data-line-number="984" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">984</div><div data-line-number="985" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">985</div><div data-line-number="986" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">986</div><div data-line-number="987" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">987</div><div data-line-number="988" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">988</div><div data-line-number="989" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">989</div><div data-line-number="990" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">990</div><div data-line-number="991" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">991</div><div data-line-number="992" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">992</div><div data-line-number="993" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">993</div><div data-line-number="994" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">994</div><div data-line-number="995" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">995</div><div data-line-number="996" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">996</div><div data-line-number="997" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">997</div><div data-line-number="998" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">998</div><div data-line-number="999" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">999</div><div data-line-number="1000" class="child-of-line-955  react-line-number react-code-text" style="padding-right:16px">1000</div></div></div><div class="react-code-lines"><div><div id="LC1" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#!</span>/bin/bash</span></div>
<div id="LC2" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC3" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> tested: centOS7, centOS8, centOS9, debian10, debian11,</span></div>
<div id="LC4" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> debian12, Ubuntu 20.04, Ubuntu 22.04, AstraLinux 1.74,</span></div>
<div id="LC5" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> RedOS 7.3.2, AltLinux 8.2, AltLinux 9.0, AltLinux 10.1</span></div>
<div id="LC6" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC7" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span>#########################</span></div>
<div id="LC8" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> общее описание скрипта #</span></div>
<div id="LC9" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span>#########################</span></div>
<div id="LC10" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> скрипт устанавливает pve (python virtual enviroment), набор модулей питона для работы других сервисов</span></div>
<div id="LC11" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC12" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span>###########################################</span></div>
<div id="LC13" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> критические переменные для быстрой смены #</span></div>
<div id="LC14" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span>###########################################</span></div>
<div id="LC15" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> версия питона для установки</span></div>
<div id="LC16" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> CentOS 7</span></div>
<div id="LC17" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">python_ver_centos=<span class="pl-s"><span class="pl-pds">&quot;</span>3.9.16<span class="pl-pds">&quot;</span></span></div>
<div id="LC18" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> Debian дистрибутивы</span></div>
<div id="LC19" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">python_ver_debian=<span class="pl-s"><span class="pl-pds">&quot;</span>3.9.16<span class="pl-pds">&quot;</span></span></div>
<div id="LC20" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> Red Hat дистрибутивы</span></div>
<div id="LC21" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">python_ver_rhel=<span class="pl-s"><span class="pl-pds">&quot;</span>3.9.16<span class="pl-pds">&quot;</span></span></div>
<div id="LC22" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> AltLinux</span></div>
<div id="LC23" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">python_ver_altlinux=<span class="pl-s"><span class="pl-pds">&quot;</span>3.9.16<span class="pl-pds">&quot;</span></span></div>
<div id="LC24" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> адрес pip репозитория DevPI</span></div>
<div id="LC25" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">python_devpi=<span class="pl-s"><span class="pl-pds">&quot;</span>repo.connect2ai.net<span class="pl-pds">&quot;</span></span></div>
<div id="LC26" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> заголовок установщика, хеш врутреннего архива, версия и релиз, меняются при сборки пакета</span></div>
<div id="LC27" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">int_service_name=<span class="pl-s"><span class="pl-pds">&quot;</span>pve<span class="pl-pds">&quot;</span></span></div>
<div id="LC28" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">int_pve_install_dir=<span class="pl-s"><span class="pl-pds">&quot;</span>/opt/pve<span class="pl-pds">&quot;</span></span></div>
<div id="LC29" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">int_ups_install_dir=<span class="pl-s"><span class="pl-pds">&quot;</span>/opt/ups/pve<span class="pl-pds">&quot;</span></span></div>
<div id="LC30" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">int_urs_install_dir=<span class="pl-s"><span class="pl-pds">&quot;</span>/opt/urs/pve<span class="pl-pds">&quot;</span></span></div>
<div id="LC31" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">int_ses_install_dir=<span class="pl-s"><span class="pl-pds">&quot;</span>/opt/ses/pve<span class="pl-pds">&quot;</span></span></div>
<div id="LC32" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">int_repo_url=<span class="pl-s"><span class="pl-pds">&quot;</span>https://repo.connect2ai.net/api<span class="pl-pds">&quot;</span></span></div>
<div id="LC33" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> каталог куда распакуется внутренний архив</span></div>
<div id="LC34" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">int_arch_dir=<span class="pl-s"><span class="pl-pds">&quot;</span>/tmp/archive<span class="pl-pds">&quot;</span></span></div>
<div id="LC35" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> каталог системных пакетов созданных через --build</span></div>
<div id="LC36" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">int_arch_pack_dir=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_dir</span>/packages<span class="pl-pds">&quot;</span></span></div>
<div id="LC37" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC38" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span>#############</span></div>
<div id="LC39" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> переменные #</span></div>
<div id="LC40" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span>#############</span></div>
<div id="LC41" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC42" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> статус доступа в интернет</span></div>
<div id="LC43" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">internetstatus=0</div>
<div id="LC44" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> тип установки, для оффлайн установки</span></div>
<div id="LC45" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">build_type=<span class="pl-s"><span class="pl-pds">&quot;</span>install<span class="pl-pds">&quot;</span></span></div>
<div id="LC46" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> расположение скрипта</span></div>
<div id="LC47" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">actual_path=<span class="pl-s"><span class="pl-pds">$(</span>readlink -f <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">${BASH_SOURCE[0]}</span><span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span></div>
<div id="LC48" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">script_dir=<span class="pl-s"><span class="pl-pds">$(</span>dirname <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$actual_path</span><span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span></div>
<div id="LC49" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">script_name=<span class="pl-s"><span class="pl-pds">$(</span>basename <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$actual_path</span><span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span></div>
<div id="LC50" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> временная папка</span></div>
<div id="LC51" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">temp_dir=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$script_dir</span>/temp<span class="pl-pds">&quot;</span></span></div>
<div id="LC52" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> внешний файл списка модулей pip3</span></div>
<div id="LC53" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">list_pip3_modules_ext=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$script_dir</span>/freeze.txt<span class="pl-pds">&quot;</span></span></div>
<div id="LC54" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> NVIDIA CUDA Toolkit</span></div>
<div id="LC55" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">install_nvcc=()</div>
<div id="LC56" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC57" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC58" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> список пакетов для скачивания</span></div>
<div id="LC59" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> CentOS 7</span></div>
<div id="LC60" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> минимально необходимый набор системных пакетов</span></div>
<div id="LC61" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">packages_system_centos7=(<span class="pl-s"><span class="pl-pds">&quot;</span>python3<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>cmake<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>gcc<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>gcc-c++<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>curl<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>wget<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>ca-certificates<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>git<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>patch<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>lsyncd<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>bzip2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>unzip<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>dmidecode<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC62" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC63" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> остальные пакеты</span></div>
<div id="LC64" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">packages_main_centos7=(<span class="pl-s"><span class="pl-pds">&quot;</span>python3-pip<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libsndfile<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-wheel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-virtualenv<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC65" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                      <span class="pl-s"><span class="pl-pds">&quot;</span>mariadb-devel.x86_64<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3*-mysql.x86_64<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>rustc<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>cargo<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>openssl<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>openssl11<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>openssl-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>openssl11-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libffi<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC66" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                      <span class="pl-s"><span class="pl-pds">&quot;</span>libffi-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>zlib<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>zlib-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>bzip2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>bzip2-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libxml2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libxml2-devel<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC67" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                      <span class="pl-s"><span class="pl-pds">&quot;</span>xmlsec1-openssl<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>xmlsec1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>readline<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>readline-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>sqlite<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>sqlite-devel<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC68" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                      <span class="pl-s"><span class="pl-pds">&quot;</span>xz<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>xz-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>ffmpeg<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>ffmpeg-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>sox<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>jq<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>checkpolicy<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>policycoreutils-python<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC69" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC70" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> Debian дистрибутивы</span></div>
<div id="LC71" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> минимально необходимый набор системных пакетов</span></div>
<div id="LC72" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">packages_system_debian=(<span class="pl-s"><span class="pl-pds">&quot;</span>curl<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>wget<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>ca-certificates<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>git<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>patch<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>cmake<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>build-essential<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>apt-transport-https<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>gnupg2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>lsyncd<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>unzip<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>dmidecode<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC73" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> остальные пакеты</span></div>
<div id="LC74" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">packages_main_debian=(<span class="pl-s"><span class="pl-pds">&quot;</span>python3-pip<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-dev<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libsndfile1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-wheel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-venv<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC75" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                      <span class="pl-s"><span class="pl-pds">&quot;</span>libmariadb-dev<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-mysqldb<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>rustc<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>cargo<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>openssl<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libssl-dev<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libncurses-dev<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC76" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                      <span class="pl-s"><span class="pl-pds">&quot;</span>libffi-dev<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>zlib1g<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>zlib1g-dev<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>bzip2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libbz2-dev<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libxml2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libxml2-dev<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC77" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                      <span class="pl-s"><span class="pl-pds">&quot;</span>xmlsec1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libxmlsec1-dev<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libreadline-dev<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>sqlite3<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC78" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                      <span class="pl-s"><span class="pl-pds">&quot;</span>libsqlite3-dev<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>xz-utils<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>lzma<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>liblzma-dev<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>ffmpeg<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>sox<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>jq<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC79" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC80" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> Red Hat дистрибутивы</span></div>
<div id="LC81" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> минимально необходимый набор системных пакетов</span></div>
<div id="LC82" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">packages_system_rhel=(<span class="pl-s"><span class="pl-pds">&quot;</span>python3<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>cmake<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>gcc<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>gcc-c++<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>curl<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>wget<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>ca-certificates<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>git<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>patch<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>lsyncd<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>unzip<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>dmidecode<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC83" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC84" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> остальные пакеты</span></div>
<div id="LC85" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">packages_main_rhel=(<span class="pl-s"><span class="pl-pds">&quot;</span>python3-pip<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libsndfile<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-wheel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-virtualenv<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC86" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                    <span class="pl-s"><span class="pl-pds">&quot;</span>mariadb-devel.x86_64<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3*-mysql.x86_64<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>rustc<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>cargo<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>openssl<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>openssl-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libffi<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC87" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                    <span class="pl-s"><span class="pl-pds">&quot;</span>libffi-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>zlib<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>zlib-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>bzip2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>bzip2-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libxml2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libxml2-devel<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC88" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                    <span class="pl-s"><span class="pl-pds">&quot;</span>xmlsec1-openssl<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>xmlsec1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>readline<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>readline-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>sqlite<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>sqlite-devel<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC89" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                    <span class="pl-s"><span class="pl-pds">&quot;</span>xz<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>xz-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>ffmpeg<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>ffmpeg-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>sox<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>jq<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC90" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC91" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> Altlinux</span></div>
<div id="LC92" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> минимально необходимый набор системных пакетов</span></div>
<div id="LC93" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">packages_system_altlinux=(<span class="pl-s"><span class="pl-pds">&quot;</span>python3<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>openssl<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>curl<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>wget<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>ca-certificates<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>git<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>patch<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>cmake<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>boost-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>apt-https<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>gnupg2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>lsyncd<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>unzip<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>dmidecode<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC94" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC95" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> остальные пакеты</span></div>
<div id="LC96" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">packages_main_altlinux=(<span class="pl-s"><span class="pl-pds">&quot;</span>rpm-build-python3<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-module-pip<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-dev<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libsndfile<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-module-wheel<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC97" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                        <span class="pl-s"><span class="pl-pds">&quot;</span>libmariadb-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python3-module-mysql<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>rust<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>rust-cargo<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>openssl<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libssl-devel<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC98" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                        <span class="pl-s"><span class="pl-pds">&quot;</span>libffi-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>zlib<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>zlib-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>bzip2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>bzip2-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libxml2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libxml2-devel<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC99" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                        <span class="pl-s"><span class="pl-pds">&quot;</span>libxmlsec1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libxmlsec1-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>libreadline-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>sqlite3<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC100" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                        <span class="pl-s"><span class="pl-pds">&quot;</span>libsqlite3-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>xz<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>liblzma<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>liblzma-devel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>glibc-devel-static<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>bzip2-devel<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC101" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                        <span class="pl-s"><span class="pl-pds">&quot;</span>ffmpeg<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>ffprobe<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>sox<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>jq<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC102" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC103" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> в массивах модулей используется |, это нужно для фиксации версий зависимостей модулей</span></div>
<div id="LC104" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> базовый набор модулей для всех установок</span></div>
<div id="LC105" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">modules_pip3_base=(<span class="pl-s"><span class="pl-pds">&quot;</span>pip<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>wheel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>scikit-build|packaging==23.2|setuptools==65.5.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>setuptools==65.5.1|setuptools_rust|ctranslate2==4.4.0|numpy==1.23.5<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>cython<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>tomli<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>gunicorn|packaging==23.2<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC106" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                   <span class="pl-s"><span class="pl-pds">&quot;</span>Flask==2.2.5|flask-restx==1.3.0|Werkzeug==2.3.3<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>pydub==0.25.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>PyJWT<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>gevent|youtokentome==1.0.3|setuptools==65.5.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>requests<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC107" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC108" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> набор модулей для всех сервисов</span></div>
<div id="LC109" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">modules_pip3_back=(<span class="pl-smi">${modules_pip3_base[@]}</span> \</div>
<div id="LC110" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                   <span class="pl-s"><span class="pl-pds">&quot;</span>librosa==0.10.0|braceexpand==0.1.7|transformers==4.38.2|faster-whisper|tokenizers==0.15.2|huggingface-hub==0.23.3|numpy==1.23.5|onnxruntime==1.18.1|ctranslate2==4.4.0|hydra-core==1.3.2|packaging==23.2|setuptools==65.5.1<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC111" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                   <span class="pl-s"><span class="pl-pds">&quot;</span>inflect==6.0.4|pydantic==1.10.2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>webdataset==0.1.62|pyannote.core==5.0.0|pyannote.database==5.1.0|pyannote.metrics==3.2.1|faiss_cpu==1.8.0|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC112" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                   <span class="pl-s"><span class="pl-pds">&quot;</span>editdistance==0.6.2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>jiwer==3.0.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>ipython==8.13.2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>seaborn|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>einops<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>wandb==0.18.7|setuptools==65.5.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>pymorphy2|natasha==1.6.0|razdel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>progressbar2<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC113" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                   <span class="pl-s"><span class="pl-pds">&quot;</span>webrtcvad<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>h5py|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>ijson<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>sacrebleu|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>rouge_score|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>opencc==1.1.5<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>pangu<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>ipadic<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>mecab-python3<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC114" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                   <span class="pl-s"><span class="pl-pds">&quot;</span>pybind11<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>fasttext==0.9.1|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>sacremoses<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>watchdog<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>deepfilternet==0.5.6|numpy==1.23.5|packaging==23.2|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>aiohttp<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python-crfsuite<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>elasticsearch<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>mysqlclient==2.1.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>vk_api<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC115" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                   <span class="pl-s"><span class="pl-pds">&quot;</span>websockets==11.0.3<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>mitmproxy<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>bcrypt==4.0.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>swig==3.0.10<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python-ESL==1.4.18<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>websocket==0.2.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>websocket-client==1.8.0<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>typing_extensions==4.4.0<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC116" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC117" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> дополненый набор модулей для сервисов под CPU</span></div>
<div id="LC118" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">modules_pip3_cpu=(<span class="pl-smi">${modules_pip3_back[@]}</span> \</div>
<div id="LC119" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                    <span class="pl-s"><span class="pl-pds">&quot;</span>torch==2.3.1+cpu|torchaudio==2.3.1+cpu|torchvision==0.18.1+cpu|torchmetrics==1.0.3|pytorch-lightning==1.9.5|nemo-toolkit==1.20.0|sentence-transformers==2.3.0|triton==2.3.1|Werkzeug==2.3.3|sentencepiece==0.1.99|transformers==4.38.2|huggingface-hub==0.23.3|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC120" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                    <span class="pl-s"><span class="pl-pds">&quot;</span>llama-cpp-python==0.3.6|numpy==1.23.5<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC121" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC122" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> дополненый набор модулей для сервисов под GPU CU11</span></div>
<div id="LC123" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">modules_pip3_cu11=(<span class="pl-smi">${modules_pip3_back[@]}</span> \</div>
<div id="LC124" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                    <span class="pl-s"><span class="pl-pds">&quot;</span>torch==2.3.1+cu118|torchaudio==2.3.1+cu118|torchvision==0.18.1+cu118|torchmetrics==1.0.3|pytorch-lightning==1.9.5|nemo-toolkit==1.20.0|sentence-transformers==2.3.0|triton==2.3.1|Werkzeug==2.3.3|sentencepiece==0.1.99|transformers==4.38.2|huggingface-hub==0.23.3|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1|onnxruntime-gpu==1.19.2<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC125" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                    <span class="pl-s"><span class="pl-pds">&quot;</span>llama-cpp-python-cu==0.3.6|numpy==1.23.5<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC126" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC127" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> дополненый набор модулей для сервисов под GPU CU12</span></div>
<div id="LC128" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">modules_pip3_cu12=(<span class="pl-smi">${modules_pip3_back[@]}</span> \</div>
<div id="LC129" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                    <span class="pl-s"><span class="pl-pds">&quot;</span>torch==2.3.1+cu121|torchaudio==2.3.1+cu121|torchvision==0.18.1+cu121|torchmetrics==1.0.3|pytorch-lightning==1.9.5|nemo-toolkit==1.20.0|sentence-transformers==2.3.0|triton==2.3.1|Werkzeug==2.3.3|sentencepiece==0.1.99|transformers==4.38.2|huggingface-hub==0.23.3|numpy==1.23.5|ctranslate2==4.4.0|packaging==23.2|setuptools==65.5.1|onnxruntime-gpu==1.19.2<span class="pl-pds">&quot;</span></span> \</div>
<div id="LC130" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">                    <span class="pl-s"><span class="pl-pds">&quot;</span>llama-cpp-python-cu==0.3.6|numpy==1.23.5<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC131" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC132" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> набор модулей индивидуально под сервис</span></div>
<div id="LC133" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> UPS и RES</span></div>
<div id="LC134" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">modules_pip3_ups=(<span class="pl-smi">${modules_pip3_base[@]}</span> <span class="pl-s"><span class="pl-pds">&quot;</span>jiwer==3.0.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>elasticsearch<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>mitmproxy<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>bcrypt==4.0.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>typing_extensions==4.4.0<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC135" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> URS</span></div>
<div id="LC136" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">modules_pip3_urs=(<span class="pl-smi">${modules_pip3_base[@]}</span> <span class="pl-s"><span class="pl-pds">&quot;</span>mysqlclient==2.1.1<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC137" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> SES</span></div>
<div id="LC138" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">modules_pip3_ses=(<span class="pl-smi">${modules_pip3_base[@]}</span> <span class="pl-s"><span class="pl-pds">&quot;</span>pymorphy2<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>vk_api<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>websockets==11.0.3<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>swig==3.0.10<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>python-ESL==1.4.18<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>websocket==0.2.1<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>websocket-client==1.8.0<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC139" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC140" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> все модули, для сборки полного оффлайн инсталятора</span></div>
<div id="LC141" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">modules_pip3_full=(<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span>)</div>
<div id="LC142" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">for</span> <span class="pl-smi">i</span> <span class="pl-k">in</span> <span class="pl-smi">${modules_pip3_cu12[*]}</span> <span class="pl-smi">${modules_pip3_cu11[*]}</span> <span class="pl-smi">${modules_pip3_cpu[*]}</span> <span class="pl-smi">${modules_pip3_ups[*]}</span> <span class="pl-smi">${modules_pip3_urs[*]}</span> <span class="pl-smi">${modules_pip3_ses[*]}</span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC143" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">  [ <span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">${modules_pip3_full[@]}</span> <span class="pl-k">|</span> grep -c <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$i</span><span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span> <span class="pl-k">-eq</span> 0 ] <span class="pl-k">&amp;&amp;</span> modules_pip3_full+=(<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$i</span><span class="pl-pds">&quot;</span></span>)</div>
<div id="LC144" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">done</span></div>
<div id="LC145" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC146" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span>#####################</span></div>
<div id="LC147" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span># функции-процедуры #</span></div>
<div id="LC148" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span>#####################</span></div>
<div id="LC149" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC150" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span>обработчик ошибок, поток ошибок</span></div>
<div id="LC151" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">echo_error</span> {</div>
<div id="LC152" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-150 ">  <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$1</span><span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC153" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-150 ">    deactivate <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC154" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-150 ">    <span class="pl-c1">echo</span> -e <span class="pl-s"><span class="pl-pds">&quot;</span>\e[31m&gt; <span class="pl-pds">&quot;</span></span><span class="pl-smi">$1</span><span class="pl-s"><span class="pl-pds">&quot;</span>\e[0m\n<span class="pl-pds">&quot;</span></span> <span class="pl-k">&gt;&amp;2</span></div>
<div id="LC155" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-150 ">    clear_temp <span class="pl-k">2&gt;</span> /dev/null<span class="pl-k">;</span> proxy_configuration <span class="pl-c1">unset</span></div>
<div id="LC156" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-150 ">    install_repo remlocal <span class="pl-k">&gt;</span> /dev/null<span class="pl-k">;</span> <span class="pl-c1">exit</span> 1</div>
<div id="LC157" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-150 ">  <span class="pl-k">fi</span></div>
<div id="LC158" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC159" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC160" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span>обработчик предупреждений, поток ошибок</span></div>
<div id="LC161" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">echo_warning</span> {</div>
<div id="LC162" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-160 ">  <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$1</span><span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC163" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-160 ">    <span class="pl-c1">echo</span> -e <span class="pl-s"><span class="pl-pds">&quot;</span>\e[33m&gt; <span class="pl-pds">&quot;</span></span><span class="pl-smi">$1</span><span class="pl-s"><span class="pl-pds">&quot;</span>\e[0m<span class="pl-pds">&quot;</span></span> <span class="pl-k">&gt;&amp;2</span></div>
<div id="LC164" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-160 ">  <span class="pl-k">fi</span></div>
<div id="LC165" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC166" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC167" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span>процесс выполнения, стандартный поток</span></div>
<div id="LC168" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">echo_info</span> {</div>
<div id="LC169" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-167 ">  <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$1</span><span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC170" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-167 ">    <span class="pl-c1">echo</span> -e <span class="pl-s"><span class="pl-pds">&quot;</span>\e[32m&gt; <span class="pl-pds">&quot;</span></span><span class="pl-smi">$1</span><span class="pl-s"><span class="pl-pds">&quot;</span>\e[0m ...<span class="pl-pds">&quot;</span></span></div>
<div id="LC171" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-167 ">  <span class="pl-k">fi</span></div>
<div id="LC172" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC173" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC174" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> определяем версию текущей OS</span></div>
<div id="LC175" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-s"><span class="pl-pds">$(</span>grep -oEi <span class="pl-s"><span class="pl-pds">&#39;</span>^(ID|ID_LIKE|VERSION_CODENAME|VERSION_ID)=[&quot;A-z0-9.]+<span class="pl-pds">&#39;</span></span> /etc/os-release <span class="pl-k">|</span> sed -e <span class="pl-s"><span class="pl-pds">&#39;</span>s/^ID_LIKE/os_like/i<span class="pl-pds">&#39;</span></span> -e <span class="pl-s"><span class="pl-pds">&#39;</span>s/^ID/os_id/i<span class="pl-pds">&#39;</span></span> -e <span class="pl-s"><span class="pl-pds">&#39;</span>s/^VERSION_CODENAME/os_codename/i<span class="pl-pds">&#39;</span></span> -e <span class="pl-s"><span class="pl-pds">&#39;</span>s/^VERSION_ID/os_version/i<span class="pl-pds">&#39;</span></span> <span class="pl-k">|</span> awk <span class="pl-s"><span class="pl-pds">&#39;</span>{gsub(&quot;\&quot;&quot;,&quot;&quot;,$0);print &quot;export &quot;tolower($0)}<span class="pl-pds">&#39;</span></span><span class="pl-pds">)</span></span></div>
<div id="LC176" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">if</span> [[ <span class="pl-smi">$os_codename</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span> ]]<span class="pl-k">;</span> <span class="pl-k">then</span> <span class="pl-s"><span class="pl-pds">$(</span>grep -oEi <span class="pl-s"><span class="pl-pds">&#39;</span>^(NAME|PRETTY_NAME)=[^$]+<span class="pl-pds">&#39;</span></span> /etc/os-release <span class="pl-k">|</span> sed -e <span class="pl-s"><span class="pl-pds">&#39;</span>s/\s/_/g<span class="pl-pds">&#39;</span></span> <span class="pl-k">|</span> awk <span class="pl-s"><span class="pl-pds">&#39;</span>{gsub(&quot;\&quot;&quot;,&quot;&quot;,$0);print &quot;export &quot;tolower($0)}<span class="pl-pds">&#39;</span></span><span class="pl-pds">)</span></span><span class="pl-k">;</span> os_codename=<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$pretty_name</span> <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&quot;</span>s/<span class="pl-smi">$name</span>//<span class="pl-pds">&quot;</span></span> <span class="pl-k">|</span> grep -oE <span class="pl-s"><span class="pl-pds">&quot;</span>[a-z]+<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span><span class="pl-k">;</span> <span class="pl-c1">unset</span> name pretty_name<span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC177" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">if</span> [[ <span class="pl-smi">$os_codename</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span> ]]<span class="pl-k">;</span> <span class="pl-k">then</span> os_codename=<span class="pl-smi">$os_version</span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC178" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">if</span> [[ <span class="pl-smi">$os_id</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&#39;</span>centos<span class="pl-pds">&#39;</span></span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">$os_version</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&#39;</span>7<span class="pl-pds">&#39;</span></span> ]]<span class="pl-k">;</span> <span class="pl-k">then</span>  os_install=<span class="pl-smi">$os_id$os_version</span><span class="pl-k">;</span> <span class="pl-k">elif</span> [[ <span class="pl-k">-z</span> <span class="pl-smi">$os_like</span> <span class="pl-k">||</span> <span class="pl-smi">$os_like</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span> ]]<span class="pl-k">;</span> <span class="pl-k">then</span> os_install=<span class="pl-smi">$os_id</span><span class="pl-k">;</span> <span class="pl-k">elif</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$os_like</span> ]]<span class="pl-k">;</span> <span class="pl-k">then</span> os_install=<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$os_like</span> <span class="pl-k">|</span> grep -oEi <span class="pl-s"><span class="pl-pds">&#39;</span>^[a-z]+<span class="pl-pds">&#39;</span></span><span class="pl-pds">)</span></span><span class="pl-k">;</span> <span class="pl-c1">unset</span> os_like<span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC179" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> если возникли проблемы с определением параметров</span></div>
<div id="LC180" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">if</span> [[ <span class="pl-smi">$os_id</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$os_codename</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$os_version</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$os_install</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span> ]]<span class="pl-k">;</span> <span class="pl-k">then</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка детектирования OS<span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC181" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC182" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> конфигурация подключения к прокси серверу, для онлайн установки</span></div>
<div id="LC183" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">proxy_configuration</span> {</div>
<div id="LC184" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">  <span class="pl-c"><span class="pl-c">#</span> установка если интернет, если не доступен</span></div>
<div id="LC185" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">  <span class="pl-k">if</span> [[ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>set<span class="pl-pds">&quot;</span></span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">$internetstatus</span> <span class="pl-k">-eq</span> 0 ]]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC186" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">    echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Проверка подключения к интернету<span class="pl-pds">&quot;</span></span></div>
<div id="LC187" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">    <span class="pl-k">if</span> [[ <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">$(</span>for i <span class="pl-k">in</span> {1..3}<span class="pl-k">;</span> <span class="pl-k">do</span> ping -i 1 -c 5 <span class="pl-smi">$python_devpi</span> <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null <span class="pl-k">||</span> curl -s -o /dev/null -m 5 --connect-timeout 5 <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_repo_url</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">2&gt;</span>/dev/null <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">echo</span> 1 <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">break</span> <span class="pl-k">||</span> sleep 0.5<span class="pl-k">;</span> done<span class="pl-pds">)</span></span> ]]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC188" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      <span class="pl-c"><span class="pl-c">#</span> подгружаем конфигурацию прокси из файла</span></div>
<div id="LC189" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      setproxy=(<span class="pl-s"><span class="pl-pds">$(</span>cat <span class="pl-smi">$int_install_dir</span>/.proxy <span class="pl-k">2&gt;</span>/dev/null<span class="pl-k">|</span>head -1<span class="pl-k">|</span>tr <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>\r\n<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span>)</div>
<div id="LC190" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      [ <span class="pl-k">-z</span> <span class="pl-smi">$setproxy</span> ] <span class="pl-k">&amp;&amp;</span> setproxy=(<span class="pl-s"><span class="pl-pds">$(</span>cat <span class="pl-smi">$int_pve_install_dir</span>/.proxy <span class="pl-k">2&gt;</span>/dev/null<span class="pl-k">|</span>head -1<span class="pl-k">|</span>tr <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>\r\n<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span>)</div>
<div id="LC191" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      <span class="pl-c"><span class="pl-c">#</span> если не удалось получить данные конфигурации</span></div>
<div id="LC192" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      <span class="pl-k">if</span> [[ <span class="pl-k">-z</span> <span class="pl-smi">$setproxy</span> <span class="pl-k">||</span> <span class="pl-smi">${<span class="pl-k">#</span>setproxy[@]}</span> <span class="pl-k">-eq</span> 2 <span class="pl-k">||</span> <span class="pl-smi">${<span class="pl-k">#</span>setproxy[@]}</span> <span class="pl-k">-gt</span> 3 ]]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC193" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">        <span class="pl-c1">echo</span> -e <span class="pl-s"><span class="pl-pds">&quot;</span>\e[32m&gt; Настройка HTTP/HTTPS/SOCKS proxy (\e[0mпример: http://example.com:3128; socks5://example.com:1080\e[32m):\e[0m\n<span class="pl-pds">&quot;</span></span></div>
<div id="LC194" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">        <span class="pl-c1">read</span> -p <span class="pl-s"><span class="pl-pds">&quot;</span>Адрес proxy: <span class="pl-pds">&quot;</span></span> -r iaddress</div>
<div id="LC195" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">        <span class="pl-c1">read</span> -p <span class="pl-s"><span class="pl-pds">&quot;</span>Пользователь: <span class="pl-pds">&quot;</span></span> -r iuser</div>
<div id="LC196" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">        <span class="pl-c1">read</span> -p <span class="pl-s"><span class="pl-pds">&quot;</span>Пароль: <span class="pl-pds">&quot;</span></span> -r ipass<span class="pl-k">;</span> <span class="pl-c1">echo</span></div>
<div id="LC197" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">        setproxy=(<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$iaddress</span> <span class="pl-smi">$iuser</span> <span class="pl-smi">$ipass</span><span class="pl-pds">&quot;</span></span>)</div>
<div id="LC198" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      <span class="pl-k">fi</span></div>
<div id="LC199" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      <span class="pl-k">if</span> [[ <span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">${setproxy[0]}</span> <span class="pl-k">|</span> grep -ciE <span class="pl-s"><span class="pl-pds">&quot;</span>^(http|https|socks[4-5]):\/\/([0-9a-zа-я-]+\.){1,}[0-9a-zа-я-]+:[0-9]{2,5}$<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span> <span class="pl-k">-ne</span> 0 ]]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC200" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">        iprotocol=<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">${setproxy[0]}</span> <span class="pl-k">|</span> grep -Eo <span class="pl-s"><span class="pl-pds">&quot;</span>(http|https|socks[4-5])<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span></div>
<div id="LC201" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">        iaddress=<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">${setproxy[0]}</span> <span class="pl-k">|</span> sed -r <span class="pl-s"><span class="pl-pds">&quot;</span>s/^[^:]+:\/\///<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span></div>
<div id="LC202" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">        iuserpass=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">${setproxy[1]}</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">${setproxy[2]}</span><span class="pl-pds">&quot;</span></span> ]] <span class="pl-k">&amp;&amp;</span> iuserpass=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">${setproxy[1]}</span>:<span class="pl-smi">${setproxy[2]}</span>@<span class="pl-pds">&quot;</span></span></div>
<div id="LC203" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">        <span class="pl-k">export</span> {http,https,ftp,all}_proxy=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">${iprotocol}</span>://<span class="pl-smi">${iuserpass}${iaddress}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC204" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">        <span class="pl-k">export</span> {HTTP,HTTPS,FTP,ALL}_PROXY=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">${iprotocol}</span>://<span class="pl-smi">${iuserpass}${iaddress}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC205" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      <span class="pl-k">else</span></div>
<div id="LC206" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">        echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Некорректный адрес прокси сервера<span class="pl-pds">&quot;</span></span></div>
<div id="LC207" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      <span class="pl-k">fi</span></div>
<div id="LC208" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      <span class="pl-c"><span class="pl-c">#</span> что не проксиреуем</span></div>
<div id="LC209" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      <span class="pl-k">export</span> no_proxy=<span class="pl-s"><span class="pl-pds">&quot;</span>localhost,*.local,127.0.0.0/8,::1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16<span class="pl-pds">&quot;</span></span></div>
<div id="LC210" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      <span class="pl-k">export</span> NO_PROXY=<span class="pl-s"><span class="pl-pds">&quot;</span>localhost,*.local,127.0.0.0/8,::1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16<span class="pl-pds">&quot;</span></span></div>
<div id="LC211" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">
</div>
<div id="LC212" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      <span class="pl-c"><span class="pl-c">#</span> проверка, подключение через прокси</span></div>
<div id="LC213" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      [[ <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">$(</span>for i <span class="pl-k">in</span> {1..3}<span class="pl-k">;</span> <span class="pl-k">do</span> curl -s -o /dev/null -m 5 --connect-timeout 5 <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_repo_url</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">2&gt;</span>/dev/null <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">echo</span> 1 <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">break</span> <span class="pl-k">||</span> sleep 0.5<span class="pl-k">;</span> done<span class="pl-pds">)</span></span> ]] <span class="pl-k">&amp;&amp;</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Не удалось подключится к интернету<span class="pl-pds">&quot;</span></span></div>
<div id="LC214" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">      internetstatus=1</div>
<div id="LC215" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">    <span class="pl-k">fi</span></div>
<div id="LC216" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">  <span class="pl-c"><span class="pl-c">#</span> удаляем proxy переменные среды</span></div>
<div id="LC217" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">  <span class="pl-k">elif</span> [ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>unset<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC218" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">    <span class="pl-c1">unset</span> {http,https,ftp,all}_proxy</div>
<div id="LC219" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">    <span class="pl-c1">unset</span> {HTTP,HTTPS,FTP,ALL}_PROXY</div>
<div id="LC220" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">    <span class="pl-c1">unset</span> no_proxy<span class="pl-k">;</span> <span class="pl-c1">unset</span> NO_PROXY</div>
<div id="LC221" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-182 ">  <span class="pl-k">fi</span></div>
<div id="LC222" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC223" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC224" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> получаем последнию версию библиотеки gcc, cpp, ... доступных в репозитории для пакетного менеджера apt-get</span></div>
<div id="LC225" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">apt_get_lib</span> {</div>
<div id="LC226" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">  <span class="pl-c"><span class="pl-c">#</span> ищем пакеты в базе apt-cache для установки</span></div>
<div id="LC227" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">  <span class="pl-k">for</span> <span class="pl-smi">p</span> <span class="pl-k">in</span> <span class="pl-s"><span class="pl-pds">&quot;</span>^gcc([-.1-9]+)*(-c\+\+)*$<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>^cpp([-.1-9]+)*$<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>^libreadline[-.1-9]+$<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>^g\+\+$<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>^libstdc\+\+[-.1-9]+(dev|devel)(-static)*$<span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC228" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">    <span class="pl-k">for</span> <span class="pl-smi">i</span> <span class="pl-k">in</span> <span class="pl-s"><span class="pl-pds">$(</span>apt-cache search <span class="pl-smi">$p</span> <span class="pl-k">|</span> grep -Eo <span class="pl-s"><span class="pl-pds">&quot;</span>^[^ ]+<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC229" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">      ver=<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$i</span> <span class="pl-k">|</span> grep -Eo <span class="pl-s"><span class="pl-pds">&quot;</span>[.0-9]+<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span></div>
<div id="LC230" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">       <span class="pl-c"><span class="pl-c">#</span> добавляем в установку пакеты без версии</span></div>
<div id="LC231" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">      [ <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$ver</span><span class="pl-pds">&quot;</span></span> ] <span class="pl-k">&amp;&amp;</span> out_nv=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$out_nv</span> <span class="pl-smi">$i</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">continue</span></div>
<div id="LC232" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">      <span class="pl-c"><span class="pl-c">#</span> вычистяем версию текущего пакета</span></div>
<div id="LC233" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">      tmp_ver=<span class="pl-smi">$ver</span><span class="pl-k">;</span> ver=<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$ver</span> <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&quot;</span>s/\.//<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span><span class="pl-k">;</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$ver</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$tmp_ver</span><span class="pl-pds">&quot;</span></span> ] <span class="pl-k">&amp;&amp;</span> ver=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">${ver}</span>0<span class="pl-pds">&quot;</span></span></div>
<div id="LC234" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">      <span class="pl-c"><span class="pl-c">#</span> если версия новее, начинаем с нуля. если версия совпадает то дописываем</span></div>
<div id="LC235" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">      <span class="pl-k">if</span> [[ <span class="pl-k">-z</span> <span class="pl-smi">$old_ver</span> <span class="pl-k">||</span> <span class="pl-smi">$ver</span> <span class="pl-k">-gt</span> <span class="pl-smi">$old_ver</span> ]]<span class="pl-k">;</span> <span class="pl-k">then</span> tmp_out=<span class="pl-smi">$i</span><span class="pl-k">;</span> <span class="pl-k">elif</span> [[ <span class="pl-smi">$ver</span> <span class="pl-k">-eq</span> <span class="pl-smi">$old_ver</span> ]]<span class="pl-k">;</span> <span class="pl-k">then</span> tmp_out=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$tmp_out</span> <span class="pl-smi">$i</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">fi</span><span class="pl-k">;</span> old_ver=<span class="pl-smi">$ver</span></div>
<div id="LC236" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">    <span class="pl-k">done</span></div>
<div id="LC237" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">	  <span class="pl-c"><span class="pl-c">#</span> дописываем пакеты по маске к выводу</span></div>
<div id="LC238" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">    <span class="pl-c1">unset</span> old_ver<span class="pl-k">;</span> out=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$out</span> <span class="pl-smi">$tmp_out</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC239" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">  <span class="pl-k">done</span></div>
<div id="LC240" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">  <span class="pl-c"><span class="pl-c">#</span> выводим список всех пакетов для установки</span></div>
<div id="LC241" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-224 ">  <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$out</span> <span class="pl-smi">$out_nv</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">|</span> sed -e <span class="pl-s"><span class="pl-pds">&quot;</span>s/  / /g<span class="pl-pds">&quot;</span></span> -e <span class="pl-s"><span class="pl-pds">&quot;</span>s/^ //<span class="pl-pds">&quot;</span></span> -e <span class="pl-s"><span class="pl-pds">&quot;</span>s/ $//<span class="pl-pds">&quot;</span></span></div>
<div id="LC242" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC243" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC244" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> установка репозиториев</span></div>
<div id="LC245" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">install_repo</span> {</div>
<div id="LC246" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">  <span class="pl-c"><span class="pl-c">#</span> онлайн режим установки</span></div>
<div id="LC247" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">  <span class="pl-k">if</span> [[ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>online<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$build_type</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>update<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> (<span class="pl-smi">$build_type</span> == <span class="pl-s"><span class="pl-pds">&quot;</span>install<span class="pl-pds">&quot;</span></span> <span class="pl-k">&amp;&amp;</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$build_os</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">!</span>= <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">${os_id}</span>-<span class="pl-smi">${os_version}</span><span class="pl-pds">&quot;</span></span>) ]]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC248" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">    proxy_configuration <span class="pl-c1">set</span></div>
<div id="LC249" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">    echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Настройка репозиториев и фиксация версий пакетов<span class="pl-pds">&quot;</span></span></div>
<div id="LC250" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">    <span class="pl-k">case</span> <span class="pl-smi">$os_install</span> <span class="pl-k">in</span></div>
<div id="LC251" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      centos7)</div>
<div id="LC252" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> решение проблемы поддержки centOS7 с 01.07.2024</span></div>
<div id="LC253" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        sed -i s/mirror.centos.org/vault.centos.org/g /etc/yum.repos.d/<span class="pl-k">*</span>.repo <span class="pl-k">2&gt;</span> /dev/null</div>
<div id="LC254" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        sed -i s/^<span class="pl-c"><span class="pl-c">#</span>.*baseurl=http/baseurl=http/g /etc/yum.repos.d/*.repo 2&gt; /dev/null</span></div>
<div id="LC255" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        sed -i s/^mirrorlist=http/<span class="pl-c"><span class="pl-c">#</span>mirrorlist=http/g /etc/yum.repos.d/*.repo</span></div>
<div id="LC256" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        yum install -y epel-release <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка подлючения repo с Epel<span class="pl-pds">&quot;</span></span></div>
<div id="LC257" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> пакет основных утилит ставится заранее перед скачиванием пакетов через repotrack</span></div>
<div id="LC258" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        yum install -y yum-utils <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки основных утилит<span class="pl-pds">&quot;</span></span></div>
<div id="LC259" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> ffmpeg репозиторий, содержащий ffmpeg 3,2 версии.</span></div>
<div id="LC260" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        yum localinstall -y --nogpgcheck https://download1.rpmfusion.org/free/el/rpmfusion-free-release-7.noarch.rpm <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка подлючения repo с FFmpeg<span class="pl-pds">&quot;</span></span></div>
<div id="LC261" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> обновление списка пакетов после добавления репы</span></div>
<div id="LC262" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        yum makecache <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC263" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      ;;</div>
<div id="LC264" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      debian)</div>
<div id="LC265" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> подключаем репозитория base и external для AstraLinux и обновления списка пакетов</span></div>
<div id="LC266" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-k">if</span> [ <span class="pl-smi">$os_id</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>astra<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC267" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">          repo=<span class="pl-s"><span class="pl-pds">&quot;</span>/etc/apt/sources.list<span class="pl-pds">&quot;</span></span></div>
<div id="LC268" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">          i=<span class="pl-s"><span class="pl-pds">$(</span>grep -iEo <span class="pl-s"><span class="pl-pds">&quot;</span>^#[ ]*deb.*astralinux.*-base.+<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$repo</span> -m1<span class="pl-pds">)</span></span><span class="pl-k">;</span> o=<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$i</span> <span class="pl-k">|</span> grep -Eo <span class="pl-s"><span class="pl-pds">&quot;</span>[^#]+<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$i</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$o</span> ]] <span class="pl-k">&amp;&amp;</span> sed -i <span class="pl-s"><span class="pl-pds">&quot;</span>s|<span class="pl-smi">$i</span>|<span class="pl-smi">$o</span>|<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$repo</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC269" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">          i=<span class="pl-s"><span class="pl-pds">$(</span>grep -iEo <span class="pl-s"><span class="pl-pds">&quot;</span>^#[ ]*deb.*astralinux.*-extended.+<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$repo</span> -m1<span class="pl-pds">)</span></span><span class="pl-k">;</span> o=<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$i</span> <span class="pl-k">|</span> grep -Eo <span class="pl-s"><span class="pl-pds">&quot;</span>[^#]+<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$i</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$o</span> ]] <span class="pl-k">&amp;&amp;</span> sed -i <span class="pl-s"><span class="pl-pds">&quot;</span>s|<span class="pl-smi">$i</span>|<span class="pl-smi">$o</span>|<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$repo</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC270" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-k">fi</span></div>
<div id="LC271" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> очищаем локальный кеш пакетов</span></div>
<div id="LC272" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        rm -rf /var/cache/apt/archives/<span class="pl-k">*</span>.deb <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC273" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> обновление списка пакетов</span></div>
<div id="LC274" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        apt-get update <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC275" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      ;;</div>
<div id="LC276" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      rhel)</div>
<div id="LC277" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> пакет основных утилит ставится заранее перед скачиванием пакетов через repotrack</span></div>
<div id="LC278" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        yum install -y yum-utils <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки основных утилит<span class="pl-pds">&quot;</span></span></div>
<div id="LC279" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> подключения репозирория ffmpeg для CentOS 8 и ContOS 9</span></div>
<div id="LC280" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-k">if</span> [ <span class="pl-smi">$os_id</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>centos<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC281" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">          yum install -y epel-release <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка подлючения repo с Epel<span class="pl-pds">&quot;</span></span></div>
<div id="LC282" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">          dnf config-manager --set-enabled powertools <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">||</span> dnf config-manager --set-enabled crb <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка подлючения repo с FFmpeg<span class="pl-pds">&quot;</span></span></div>
<div id="LC283" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">          dnf install --nogpgcheck https://mirrors.rpmfusion.org/free/el/rpmfusion-free-release-<span class="pl-smi">$os_version</span>.noarch.rpm -y <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка подлючения repo с FFmpeg<span class="pl-pds">&quot;</span></span></div>
<div id="LC284" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">          dnf install --nogpgcheck https://mirrors.rpmfusion.org/nonfree/el/rpmfusion-nonfree-release-<span class="pl-smi">$os_version</span>.noarch.rpm -y <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка подлючения repo с FFmpeg<span class="pl-pds">&quot;</span></span></div>
<div id="LC285" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-k">fi</span></div>
<div id="LC286" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> обновление списка пакетов после добавления репы</span></div>
<div id="LC287" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        yum makecache <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC288" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      ;;</div>
<div id="LC289" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      altlinux)</div>
<div id="LC290" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> очищаем локальный кеш пакетов</span></div>
<div id="LC291" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        rm -rf /var/cache/apt/archives/<span class="pl-k">*</span>.rpm <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC292" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> обновление списка пакетов</span></div>
<div id="LC293" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        apt-get update <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC294" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      ;;</div>
<div id="LC295" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">    <span class="pl-k">esac</span></div>
<div id="LC296" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">  <span class="pl-c"><span class="pl-c">#</span> оффлайн режим установки</span></div>
<div id="LC297" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">  <span class="pl-k">elif</span> [ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>offline<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC298" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">    <span class="pl-k">case</span> <span class="pl-smi">$os_install</span> <span class="pl-k">in</span></div>
<div id="LC299" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      centos7)</div>
<div id="LC300" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> отключаем все репозитории и включаем локальный</span></div>
<div id="LC301" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Отключаем все репозитории и подключаем локальный <span class="pl-smi">$int_arch_pack_dir</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC302" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        repo=<span class="pl-s"><span class="pl-pds">$(</span>grep -rliE <span class="pl-s"><span class="pl-pds">&quot;</span>^[ #]*baseurl.+<span class="pl-pds">&quot;</span></span> /etc/yum.repos.d/<span class="pl-k">*</span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$repo</span> ]] <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">o</span> <span class="pl-k">in</span> <span class="pl-smi">$repo</span><span class="pl-k">;</span> <span class="pl-k">do</span> sed -i <span class="pl-s"><span class="pl-pds">&quot;</span>s|^|###pve###|g<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$o</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">done</span></div>
<div id="LC303" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        repo=<span class="pl-s"><span class="pl-pds">$(</span>grep -rliE <span class="pl-s"><span class="pl-pds">&quot;</span>^[ #]*baseurl.+<span class="pl-pds">&quot;</span></span> /etc/distro.repos.d/<span class="pl-k">*</span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$repo</span> ]] <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">o</span> <span class="pl-k">in</span> <span class="pl-smi">$repo</span><span class="pl-k">;</span> <span class="pl-k">do</span> sed -i <span class="pl-s"><span class="pl-pds">&quot;</span>s|^|###pve###|g<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$o</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">done</span></div>
<div id="LC304" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">&quot;</span>[PVE]</span></div>
<div id="LC305" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 "><span class="pl-s">name = PVE</span></div>
<div id="LC306" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 "><span class="pl-s">baseurl = file://<span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span></span></div>
<div id="LC307" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 "><span class="pl-s">enabled = 1</span></div>
<div id="LC308" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 "><span class="pl-s">gpgcheck = 0<span class="pl-pds">&quot;</span></span> <span class="pl-k">&gt;</span> /etc/yum.repos.d/pve.repo</div>
<div id="LC309" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> обновление списка пакетов</span></div>
<div id="LC310" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        yum makecache <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC311" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      ;;</div>
<div id="LC312" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      debian)</div>
<div id="LC313" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> отключаем все репозитории и включаем локальный</span></div>
<div id="LC314" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Отключаем все репозитории и подключаем локальный <span class="pl-smi">$int_arch_pack_dir</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC315" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        repo=<span class="pl-s"><span class="pl-pds">$(</span>grep -rliE <span class="pl-s"><span class="pl-pds">&quot;</span>^[ ]*deb.+<span class="pl-pds">&quot;</span></span> /etc/apt/sources.list<span class="pl-k">*</span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$repo</span> ]] <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">o</span> <span class="pl-k">in</span> <span class="pl-smi">$repo</span><span class="pl-k">;</span> <span class="pl-k">do</span> sed -i <span class="pl-s"><span class="pl-pds">&quot;</span>s|^[ ]*deb|###pve###deb|<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$o</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">done</span></div>
<div id="LC316" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">&quot;</span>deb [arch=<span class="pl-s"><span class="pl-pds">$(</span>dpkg --print-architecture<span class="pl-pds">)</span></span> trusted=yes] file://<span class="pl-smi">$int_arch_pack_dir</span> <span class="pl-smi">$os_codename</span> pve<span class="pl-pds">&quot;</span></span> <span class="pl-k">&gt;</span> /etc/apt/sources.list.d/pve.list <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка настройки репозитория<span class="pl-pds">&quot;</span></span></div>
<div id="LC317" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> очищаем локальный кеш пакетов</span></div>
<div id="LC318" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        rm -rf /var/cache/apt/archives/<span class="pl-k">*</span>.deb <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC319" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> обновление списка пакетов</span></div>
<div id="LC320" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        apt-get update <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC321" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      ;;</div>
<div id="LC322" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      rhel)</div>
<div id="LC323" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> отключаем все репозитории и включаем локальный</span></div>
<div id="LC324" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Отключаем все репозитории и подключаем локальный <span class="pl-smi">$int_arch_pack_dir</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC325" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        repo=<span class="pl-s"><span class="pl-pds">$(</span>grep -rliE <span class="pl-s"><span class="pl-pds">&quot;</span>^[ #]*baseurl.+<span class="pl-pds">&quot;</span></span> /etc/yum.repos.d/<span class="pl-k">*</span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$repo</span> ]] <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">o</span> <span class="pl-k">in</span> <span class="pl-smi">$repo</span><span class="pl-k">;</span> <span class="pl-k">do</span> sed -i <span class="pl-s"><span class="pl-pds">&quot;</span>s|^|###pve###|g<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$o</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">done</span></div>
<div id="LC326" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        repo=<span class="pl-s"><span class="pl-pds">$(</span>grep -rliE <span class="pl-s"><span class="pl-pds">&quot;</span>^[ #]*baseurl.+<span class="pl-pds">&quot;</span></span> /etc/distro.repos.d/<span class="pl-k">*</span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$repo</span> ]] <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">o</span> <span class="pl-k">in</span> <span class="pl-smi">$repo</span><span class="pl-k">;</span> <span class="pl-k">do</span> sed -i <span class="pl-s"><span class="pl-pds">&quot;</span>s|^|###pve###|g<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$o</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">done</span></div>
<div id="LC327" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">&quot;</span>[PVE]</span></div>
<div id="LC328" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 "><span class="pl-s">name = PVE</span></div>
<div id="LC329" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 "><span class="pl-s">baseurl = file://<span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span></span></div>
<div id="LC330" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 "><span class="pl-s">enabled = 1</span></div>
<div id="LC331" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 "><span class="pl-s">gpgcheck = 0<span class="pl-pds">&quot;</span></span> <span class="pl-k">&gt;</span> /etc/yum.repos.d/pve.repo</div>
<div id="LC332" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> обновление списка пакетов</span></div>
<div id="LC333" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        yum makecache <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC334" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      ;;</div>
<div id="LC335" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      altlinux)</div>
<div id="LC336" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> отключаем все репозитории и включаем локальный</span></div>
<div id="LC337" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Отключаем все репозитории и подключаем локальный <span class="pl-smi">$int_arch_pack_dir</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC338" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        repo=<span class="pl-s"><span class="pl-pds">$(</span>grep -rliE <span class="pl-s"><span class="pl-pds">&quot;</span>^[ ]*rpm.+<span class="pl-pds">&quot;</span></span> /etc/apt/sources.list<span class="pl-k">*</span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$repo</span> ]] <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">o</span> <span class="pl-k">in</span> <span class="pl-smi">$repo</span><span class="pl-k">;</span> <span class="pl-k">do</span> sed -i <span class="pl-s"><span class="pl-pds">&quot;</span>s|^[ ]*rpm|###pve###rpm|<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$o</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">done</span></div>
<div id="LC339" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">&quot;</span>rpm file://<span class="pl-smi">$int_arch_pack_dir</span> <span class="pl-smi">$os_codename</span> pve<span class="pl-pds">&quot;</span></span> <span class="pl-k">&gt;</span> /etc/apt/sources.list.d/pve.list <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка настройки репозитория<span class="pl-pds">&quot;</span></span></div>
<div id="LC340" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> очищаем локальный кеш пакетов</span></div>
<div id="LC341" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        rm -rf /var/cache/apt/archives/<span class="pl-k">*</span>.rpm <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC342" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> обновление списка пакетов</span></div>
<div id="LC343" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        apt-get update <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC344" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      ;;</div>
<div id="LC345" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">    <span class="pl-k">esac</span></div>
<div id="LC346" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">  <span class="pl-c"><span class="pl-c">#</span> удаление локального</span></div>
<div id="LC347" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">  <span class="pl-k">elif</span> [ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>remlocal<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC348" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">    <span class="pl-k">case</span> <span class="pl-smi">$os_install</span> <span class="pl-k">in</span></div>
<div id="LC349" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      centos7)</div>
<div id="LC350" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Настройка списка репозиториев в исходное состояние<span class="pl-pds">&quot;</span></span></div>
<div id="LC351" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        repo=<span class="pl-s"><span class="pl-pds">$(</span>grep -rliE <span class="pl-s"><span class="pl-pds">&quot;</span>^###pve###$<span class="pl-pds">&quot;</span></span> /etc/yum.repos.d/<span class="pl-k">*</span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$repo</span> ]] <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">o</span> <span class="pl-k">in</span> <span class="pl-smi">$repo</span><span class="pl-k">;</span> <span class="pl-k">do</span> sed -i -r <span class="pl-s"><span class="pl-pds">&quot;</span>s|^(###pve###)+||<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$o</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">done</span></div>
<div id="LC352" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        repo=<span class="pl-s"><span class="pl-pds">$(</span>grep -rliE <span class="pl-s"><span class="pl-pds">&quot;</span>^###pve###$<span class="pl-pds">&quot;</span></span> /etc/distro.repos.d/<span class="pl-k">*</span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$repo</span> ]] <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">o</span> <span class="pl-k">in</span> <span class="pl-smi">$repo</span><span class="pl-k">;</span> <span class="pl-k">do</span> sed -i -r <span class="pl-s"><span class="pl-pds">&quot;</span>s|^(###pve###)+||<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$o</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">done</span></div>
<div id="LC353" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        rm -f /etc/yum.repos.d/pve.repo <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC354" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      ;;</div>
<div id="LC355" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      debian)</div>
<div id="LC356" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> включаем все репозитории и отключаем локальный</span></div>
<div id="LC357" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Настройка списка репозиториев в исходное состояние<span class="pl-pds">&quot;</span></span></div>
<div id="LC358" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        repo=<span class="pl-s"><span class="pl-pds">$(</span>grep -rliE <span class="pl-s"><span class="pl-pds">&quot;</span>^###pve###deb.+<span class="pl-pds">&quot;</span></span> /etc/apt/sources.list<span class="pl-k">*</span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$repo</span> ]] <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">o</span> <span class="pl-k">in</span> <span class="pl-smi">$repo</span><span class="pl-k">;</span> <span class="pl-k">do</span> sed -i <span class="pl-s"><span class="pl-pds">&quot;</span>s|^###pve###deb|deb|<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$o</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">done</span></div>
<div id="LC359" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        rm -f /etc/apt/sources.list.d/pve.list <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC360" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      ;;</div>
<div id="LC361" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      rhel)</div>
<div id="LC362" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Настройка списка репозиториев в исходное состояние<span class="pl-pds">&quot;</span></span></div>
<div id="LC363" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        repo=<span class="pl-s"><span class="pl-pds">$(</span>grep -rliE <span class="pl-s"><span class="pl-pds">&quot;</span>^###pve###$<span class="pl-pds">&quot;</span></span> /etc/yum.repos.d/<span class="pl-k">*</span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$repo</span> ]] <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">o</span> <span class="pl-k">in</span> <span class="pl-smi">$repo</span><span class="pl-k">;</span> <span class="pl-k">do</span> sed -i -r <span class="pl-s"><span class="pl-pds">&quot;</span>s|^(###pve###)+||<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$o</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">done</span></div>
<div id="LC364" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        repo=<span class="pl-s"><span class="pl-pds">$(</span>grep -rliE <span class="pl-s"><span class="pl-pds">&quot;</span>^###pve###$<span class="pl-pds">&quot;</span></span> /etc/distro.repos.d/<span class="pl-k">*</span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$repo</span> ]] <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">o</span> <span class="pl-k">in</span> <span class="pl-smi">$repo</span><span class="pl-k">;</span> <span class="pl-k">do</span> sed -i -r <span class="pl-s"><span class="pl-pds">&quot;</span>s|^(###pve###)+||<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$o</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">done</span></div>
<div id="LC365" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        rm -f /etc/yum.repos.d/pve.repo <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC366" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      ;;</div>
<div id="LC367" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      altlinux)</div>
<div id="LC368" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        <span class="pl-c"><span class="pl-c">#</span> включаем все репозитории и отключаем локальный</span></div>
<div id="LC369" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Настройка списка репозиториев в исходное состояние<span class="pl-pds">&quot;</span></span></div>
<div id="LC370" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        repo=<span class="pl-s"><span class="pl-pds">$(</span>grep -rliE <span class="pl-s"><span class="pl-pds">&quot;</span>^###pve###rpm.+<span class="pl-pds">&quot;</span></span> /etc/apt/sources.list<span class="pl-k">*</span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span><span class="pl-k">;</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$repo</span> ]] <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">o</span> <span class="pl-k">in</span> <span class="pl-smi">$repo</span><span class="pl-k">;</span> <span class="pl-k">do</span> sed -i <span class="pl-s"><span class="pl-pds">&quot;</span>s|^###pve###rpm|rpm|<span class="pl-pds">&quot;</span></span> <span class="pl-smi">$o</span> <span class="pl-k">&gt;</span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-k">;</span> <span class="pl-k">done</span></div>
<div id="LC371" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">        rm -f /etc/apt/sources.list.d/pve.list <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC372" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">      ;;</div>
<div id="LC373" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">    <span class="pl-k">esac</span></div>
<div id="LC374" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-244 ">  <span class="pl-k">fi</span></div>
<div id="LC375" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC376" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC377" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> проверка драйвера на GPU</span></div>
<div id="LC378" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">check_installed_gpu</span> {</div>
<div id="LC379" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">  <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$1</span><span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC380" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    <span class="pl-c"><span class="pl-c">#</span> проверка наличия карты в системе</span></div>
<div id="LC381" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Проверка наличия видеокарт(ы) NVIDIA в системе<span class="pl-pds">&quot;</span></span></div>
<div id="LC382" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    lGPU=<span class="pl-s"><span class="pl-pds">$(</span>lspci <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">|</span> grep -iEo <span class="pl-s"><span class="pl-pds">&quot;</span>.+(3d|vga).+controller.+nvidia.+<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span></div>
<div id="LC383" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    [[ <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$lGPU</span><span class="pl-pds">&quot;</span></span> ]] <span class="pl-k">&amp;&amp;</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Не найдено ни одной видеокарты NVIDIA в системе<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-c1">echo</span> <span class="pl-smi">$lGPU</span></div>
<div id="LC384" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    <span class="pl-c"><span class="pl-c">#</span> проверка корректности установленного драйвера</span></div>
<div id="LC385" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Проверка корректности установленного драйвера NVIDIA<span class="pl-pds">&quot;</span></span></div>
<div id="LC386" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    [[ <span class="pl-s"><span class="pl-pds">$(</span>lsmod <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">|</span> grep -ic nvidia<span class="pl-pds">)</span></span> <span class="pl-k">-eq</span> 0 ]] <span class="pl-k">&amp;&amp;</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Модуль ядра видео драйвера NVIDIA не загружен<span class="pl-pds">&quot;</span></span></div>
<div id="LC387" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    cat /proc/driver/nvidia/version <span class="pl-k">2&gt;</span>/dev/null</div>
<div id="LC388" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Проверка корректности инициализации видеокарт(ы) драйвером<span class="pl-pds">&quot;</span></span></div>
<div id="LC389" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    dGPU=<span class="pl-s"><span class="pl-pds">$(</span>ls /proc/driver/nvidia/gpus <span class="pl-k">2&gt;</span> /dev/null<span class="pl-pds">)</span></span></div>
<div id="LC390" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    [[ <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$dGPU</span><span class="pl-pds">&quot;</span></span> ]] <span class="pl-k">&amp;&amp;</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Драйвер NVIDIA не инициализировал ни одной видеокарты<span class="pl-pds">&quot;</span></span></div>
<div id="LC391" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    <span class="pl-k">for</span> <span class="pl-smi">d</span> <span class="pl-k">in</span> <span class="pl-smi">$dGPU</span><span class="pl-k">;</span> <span class="pl-k">do</span> cat <span class="pl-s"><span class="pl-pds">&quot;</span>/proc/driver/nvidia/gpus/<span class="pl-smi">$d</span>/information<span class="pl-pds">&quot;</span></span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">echo</span><span class="pl-k">;</span> <span class="pl-k">done</span></div>
<div id="LC392" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    <span class="pl-c"><span class="pl-c">#</span> проверка версии CUDA Toolkit</span></div>
<div id="LC393" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Проверка установки CUDA Toolkit<span class="pl-pds">&quot;</span></span></div>
<div id="LC394" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    iCU=<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$1</span> <span class="pl-k">|</span> tr -d cu <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span></div>
<div id="LC395" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    mapfile -t install_nvcc <span class="pl-k">&lt;</span> <span class="pl-s"><span class="pl-pds">&lt;(</span>find /usr -path <span class="pl-s"><span class="pl-pds">&#39;</span>*cuda*<span class="pl-pds">&#39;</span></span> -regex <span class="pl-s"><span class="pl-pds">&#39;</span>.*/cuda-[0-9.]*<span class="pl-pds">&#39;</span></span> -type d <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span></div>
<div id="LC396" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    <span class="pl-c"><span class="pl-c">#</span> проверка корректности установки CUDA Toolkit</span></div>
<div id="LC397" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    [[ <span class="pl-smi">${<span class="pl-k">#</span>install_nvcc[@]}</span> <span class="pl-k">-gt</span> 1 ]] <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">s</span> <span class="pl-k">in</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">${install_nvcc[@]}</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">do</span> tree -L 1 --noreport <span class="pl-k">2&gt;</span>/dev/null <span class="pl-smi">$s</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">echo</span> <span class="pl-k">||</span> <span class="pl-c1">echo</span> <span class="pl-smi">$s</span><span class="pl-k">;</span> <span class="pl-k">done</span> <span class="pl-k">&amp;&amp;</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Найдено несколько версий CUDA Toolkit. Необходимо оставить одну<span class="pl-pds">&quot;</span></span></div>
<div id="LC398" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    [[ <span class="pl-smi">${<span class="pl-k">#</span>install_nvcc[@]}</span> <span class="pl-k">-eq</span> 0 <span class="pl-k">||</span> <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-s"><span class="pl-pds">$(</span><span class="pl-smi">${install_nvcc[0]}</span>/bin/nvcc --version <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span><span class="pl-pds">&quot;</span></span> ]] <span class="pl-k">&amp;&amp;</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>CUDA Toolkit не установлен<span class="pl-pds">&quot;</span></span></div>
<div id="LC399" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    basename <span class="pl-smi">${install_nvcc[0]}</span> <span class="pl-k">2&gt;</span>/dev/null <span class="pl-k">|</span> awk -F<span class="pl-s"><span class="pl-pds">&#39;</span>-<span class="pl-pds">&#39;</span></span> <span class="pl-s"><span class="pl-pds">&#39;</span>{print &quot;CUDA Toolkit: v&quot;$NF}<span class="pl-pds">&#39;</span></span> <span class="pl-k">2&gt;</span>/dev/null</div>
<div id="LC400" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    <span class="pl-c"><span class="pl-c">#</span> определяем версию CUDA Toolkit (должен быть &lt;= версии CUDA, поддерживаемой драйвером)</span></div>
<div id="LC401" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    vCUDAt=<span class="pl-s"><span class="pl-pds">$(</span>grep -iEo <span class="pl-s"><span class="pl-pds">&quot;</span>CUDA_VERSION[ ]*[0-9.]+<span class="pl-pds">&quot;</span></span> -m1 <span class="pl-s"><span class="pl-pds">$(</span>find <span class="pl-smi">${install_nvcc[0]}</span> -iname cuda.h -type f <span class="pl-k">2&gt;</span>/dev/null <span class="pl-k">|</span> head -1 <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span> <span class="pl-k">2&gt;</span>/dev/null <span class="pl-k">|</span> sed -e <span class="pl-s"><span class="pl-pds">&#39;</span>s/CUDA_VERSION\s*//i<span class="pl-pds">&#39;</span></span> -e <span class="pl-s"><span class="pl-pds">&#39;</span>s/\.//g<span class="pl-pds">&#39;</span></span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span></div>
<div id="LC402" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    <span class="pl-c"><span class="pl-c">#</span> сравнение версии CUDA Toolkit с ключем установки</span></div>
<div id="LC403" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    [[ <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$iCU</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> (<span class="pl-k">!</span> -z <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$vCUDAt</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">$iCU</span> -ne <span class="pl-s"><span class="pl-pds">$((</span><span class="pl-smi">$vCUDAt</span> <span class="pl-k">/</span> <span class="pl-c1">1000</span><span class="pl-pds">))</span></span>) ]] <span class="pl-k">&amp;&amp;</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Версия CUDA Toolkit, в системе, не совпадает с ключом установки <span class="pl-smi">$1</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC404" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    <span class="pl-c"><span class="pl-c">#</span> сравнение версии CUDA Toolkit с версией, поддерживаемой драйвером</span></div>
<div id="LC405" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    vCUDAd=(<span class="pl-s"><span class="pl-pds">$(</span>awk <span class="pl-s"><span class="pl-pds">&#39;</span>BEGIN {IGNORECASE=1} {if (FILENAME != &quot;&quot;) {if (match($0, /release[ ]*[0-9.]+/)) {ver=substr($0, RSTART, RLENGTH); gsub(/release[ ]*/, &quot;&quot;, ver); gsub(/\./, &quot; &quot;, ver); print ver }}}<span class="pl-pds">&#39;</span></span> <span class="pl-s"><span class="pl-pds">$(</span>find /usr -iname libnvidia-ptxjitcompiler.so.<span class="pl-k">?</span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span> <span class="pl-k">2&gt;</span>/dev/null<span class="pl-pds">)</span></span>)</div>
<div id="LC406" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    <span class="pl-k">if</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$vCUDAd</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">${<span class="pl-k">#</span>vCUDAd[@]}</span> <span class="pl-k">-gt</span> 0 ]]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC407" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">      [ <span class="pl-smi">${<span class="pl-k">#</span>vCUDAd[@]}</span> <span class="pl-k">-eq</span> 1 ] <span class="pl-k">&amp;&amp;</span> vCUDAd=(<span class="pl-smi">${vCUDAd[@]}</span> 0)</div>
<div id="LC408" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">      <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">&quot;</span>CUDA Driver: v<span class="pl-pds">&quot;</span></span><span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">${vCUDAd[@]}</span> <span class="pl-k">|</span> tr <span class="pl-s"><span class="pl-pds">&#39;</span> <span class="pl-pds">&#39;</span></span> <span class="pl-s"><span class="pl-pds">&#39;</span>.<span class="pl-pds">&#39;</span></span><span class="pl-pds">)</span></span></div>
<div id="LC409" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">      [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$vCUDAt</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">$vCUDAt</span> <span class="pl-k">-gt</span> <span class="pl-s"><span class="pl-pds">$((</span>$((<span class="pl-smi">${vCUDAd[0]}</span> <span class="pl-k">*</span> <span class="pl-c1">1000</span><span class="pl-pds">))</span></span> + <span class="pl-s"><span class="pl-pds">$((</span><span class="pl-smi">${vCUDAd[1]}</span> <span class="pl-k">*</span> <span class="pl-c1">10</span><span class="pl-pds">))</span></span>)) ]] <span class="pl-k">&amp;&amp;</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Версия CUDA Toolkit должна быть меньше или равна версии, поддерживаемой драйвером<span class="pl-pds">&quot;</span></span></div>
<div id="LC410" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    <span class="pl-k">fi</span></div>
<div id="LC411" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Проверка установки CUDnn<span class="pl-pds">&quot;</span></span></div>
<div id="LC412" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    <span class="pl-c"><span class="pl-c">#</span> определяем установлен ли CUDnn</span></div>
<div id="LC413" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">    [[ <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-s"><span class="pl-pds">$(</span>find /usr -iname cudnn<span class="pl-k">*</span>.h<span class="pl-pds">)</span></span><span class="pl-pds">&quot;</span></span> ]] <span class="pl-k">&amp;&amp;</span> echo_warning <span class="pl-s"><span class="pl-pds">&quot;</span>CUDnn не установлен<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">&quot;</span>ОК<span class="pl-pds">&quot;</span></span></div>
<div id="LC414" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-377 ">  <span class="pl-k">fi</span></div>
<div id="LC415" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC416" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC417" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> установка системных пакетов</span></div>
<div id="LC418" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">install_pac</span> {</div>
<div id="LC419" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">  <span class="pl-c1">cd</span> <span class="pl-smi">$script_dir</span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$script_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC420" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">  <span class="pl-k">case</span> <span class="pl-smi">$os_install</span> <span class="pl-k">in</span></div>
<div id="LC421" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">    centos7)</div>
<div id="LC422" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> проверка на &quot;битые&quot; и прерванные установки</span></div>
<div id="LC423" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      yum-complete-transaction --cleanup-only <span class="pl-k">2&gt;</span> /dev/null</div>
<div id="LC424" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> создаем деррикторию репозитория, куда будем выгружать пакеты</span></div>
<div id="LC425" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$2</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC426" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        mkdir -p <span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC427" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        [ <span class="pl-k">!</span> <span class="pl-k">-d</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages<span class="pl-pds">&quot;</span></span> ] <span class="pl-k">&amp;&amp;</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC428" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">fi</span></div>
<div id="LC429" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> установка основных системных пакетов</span></div>
<div id="LC430" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> if [ &quot;$1&quot; == &quot;system&quot; ]; then</span></div>
<div id="LC431" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>   for (( i=0; i&lt;&quot;${#packages_system_centos7[@]}&quot;; i++ )); do</span></div>
<div id="LC432" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     echo_info &quot;Установка ${packages_system_centos7[i]}&quot;</span></div>
<div id="LC433" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     if [ ! -z $2 ]; then yumdownloader --downloadonly --resolve --downloaddir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; --destdir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; ${packages_system_centos7[i]} || yum install -y --downloadonly --downloaddir=&quot;$int_arch_pack_dir/$os_codename/Packages/&quot; ${packages_system_centos7[i]} || echo_error &quot;Ошибка загрузки  ${packages_system_centos7[i]}&quot;; fi</span></div>
<div id="LC434" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     if [ ! -z $2 ]; then for p in $(repoquery --suggests ${packages_system_centos7[i]} |xargs -r); do yumdownloader --downloaddir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; --destdir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; $p || echo_error &quot;Ошибка загрузки ${packages_system_centos7[i]}&quot;; done; fi</span></div>
<div id="LC435" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     yum install -y ${packages_system_centos7[i]} || yum update -y ${packages_system_centos7[i]} || echo_error &quot;Ошибка установки ${packages_system_centos7[i]}&quot;</span></div>
<div id="LC436" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>   done</span></div>
<div id="LC437" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$1</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC438" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">for</span> <span class="pl-s"><span class="pl-pds">((</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>; i<span class="pl-k">&lt;</span>&quot;<span class="pl-smi">${<span class="pl-k">#</span>packages_system_centos7[@]}</span>&quot;; i<span class="pl-k">++</span> <span class="pl-pds">))</span></span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC439" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка <span class="pl-smi">${packages_system_centos7[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC440" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$2</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span> yumdownloader --downloadonly --resolve --alldeps --downloaddir <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages/<span class="pl-pds">&quot;</span></span> <span class="pl-smi">${packages_system_centos7[i]}</span> <span class="pl-k">||</span> yum install -y --downloadonly --downloaddir=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages/<span class="pl-pds">&quot;</span></span> <span class="pl-smi">${packages_system_centos7[i]}</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки <span class="pl-smi">${packages_system_centos7[i]}</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC441" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          yum install -y <span class="pl-smi">${packages_system_centos7[i]}</span> <span class="pl-k">||</span> yum reinstall -y <span class="pl-smi">${packages_system_centos7[i]}</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки <span class="pl-smi">${packages_system_centos7[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC442" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">done</span></div>
<div id="LC443" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> установка остальных пакетов</span></div>
<div id="LC444" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> elif [ &quot;$1&quot; == &quot;main&quot; ]; then</span></div>
<div id="LC445" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>   for (( i=0; i&lt;&quot;${#packages_main_centos7[@]}&quot;; i++ )); do</span></div>
<div id="LC446" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     echo_info &quot;Установка ${packages_main_centos7[i]}&quot;</span></div>
<div id="LC447" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     if [ ! -z $2 ]; then yumdownloader --downloadonly --resolve --downloaddir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; --destdir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; ${packages_main_centos7[i]} || yum install -y --downloadonly --downloaddir=&quot;$int_arch_pack_dir/$os_codename/Packages/&quot; ${packages_main_centos7[i]} || echo_error &quot;Ошибка загрузки  ${packages_main_centos7[i]}&quot;; fi</span></div>
<div id="LC448" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     if [ ! -z $2 ]; then for p in $(repoquery --suggests ${packages_main_centos7[i]} |xargs -r); do yumdownloader --downloaddir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; --destdir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; $p || echo_error &quot;Ошибка загрузки ${packages_main_centos7[i]}&quot;; done; fi</span></div>
<div id="LC449" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     yum install -y ${packages_main_centos7[i]} || yum update -y ${packages_main_centos7[i]} || echo_error &quot;Ошибка установки ${packages_main_centos7[i]}&quot;</span></div>
<div id="LC450" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>   done</span></div>
<div id="LC451" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> fi</span></div>
<div id="LC452" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">elif</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$1</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>main<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC453" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">for</span> <span class="pl-s"><span class="pl-pds">((</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>; i<span class="pl-k">&lt;</span>&quot;<span class="pl-smi">${<span class="pl-k">#</span>packages_main_centos7[@]}</span>&quot;; i<span class="pl-k">++</span> <span class="pl-pds">))</span></span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC454" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка <span class="pl-smi">${packages_main_centos7[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC455" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$2</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span> yumdownloader --downloadonly --resolve --alldeps --downloaddir <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages/<span class="pl-pds">&quot;</span></span> <span class="pl-smi">${packages_main_centos7[i]}</span> <span class="pl-k">||</span> yum install -y --downloadonly --downloaddir=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages/<span class="pl-pds">&quot;</span></span> <span class="pl-smi">${packages_system_centos7[i]}</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки <span class="pl-smi">${packages_main_centos7[i]}</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC456" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          yum install -y <span class="pl-smi">${packages_main_centos7[i]}</span> <span class="pl-k">||</span> yum reinstall -y <span class="pl-smi">${packages_main_centos7[i]}</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки <span class="pl-smi">${packages_main_centos7[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC457" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">done</span></div>
<div id="LC458" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">fi</span></div>
<div id="LC459" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">    ;;</div>
<div id="LC460" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">    debian)</div>
<div id="LC461" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> установка основных системных пакетов</span></div>
<div id="LC462" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$1</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC463" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-c"><span class="pl-c">#</span> ставим последнию версию c/c++ компилятора</span></div>
<div id="LC464" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        app_get_lib_tmp=<span class="pl-s"><span class="pl-pds">$(</span>apt_get_lib<span class="pl-pds">)</span></span></div>
<div id="LC465" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка последней версии c/c++ компилятора<span class="pl-pds">&quot;</span></span></div>
<div id="LC466" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$2</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span> DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef --reinstall -d -y <span class="pl-smi">$app_get_lib_tmp</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки <span class="pl-smi">$app_get_lib_tmp</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC467" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y <span class="pl-smi">$app_get_lib_tmp</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки <span class="pl-smi">$app_get_lib_tmp</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC468" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">for</span> <span class="pl-s"><span class="pl-pds">((</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>; i<span class="pl-k">&lt;</span>&quot;<span class="pl-smi">${<span class="pl-k">#</span>packages_system_debian[@]}</span>&quot;; i<span class="pl-k">++</span> <span class="pl-pds">))</span></span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC469" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка <span class="pl-smi">${packages_system_debian[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC470" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$2</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span> DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef --reinstall -d -y <span class="pl-smi">${packages_system_debian[i]}</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки <span class="pl-smi">${packages_system_debian[i]}</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC471" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y <span class="pl-smi">${packages_system_debian[i]}</span> <span class="pl-k">||</span> \</div>
<div id="LC472" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y <span class="pl-smi">${packages_system_debian[i]}</span> --reinstall <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки <span class="pl-smi">${packages_system_debian[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC473" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">done</span></div>
<div id="LC474" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> установка остальных пакетов</span></div>
<div id="LC475" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">elif</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$1</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>main<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC476" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">for</span> <span class="pl-s"><span class="pl-pds">((</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>; i<span class="pl-k">&lt;</span>&quot;<span class="pl-smi">${<span class="pl-k">#</span>packages_main_debian[@]}</span>&quot;; i<span class="pl-k">++</span> <span class="pl-pds">))</span></span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC477" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка <span class="pl-smi">${packages_main_debian[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC478" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$2</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span> DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef --reinstall -d -y <span class="pl-smi">${packages_main_debian[i]}</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки <span class="pl-smi">${packages_main_debian[i]}</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC479" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y <span class="pl-smi">${packages_main_debian[i]}</span> <span class="pl-k">||</span> \</div>
<div id="LC480" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          DEBIAN_FRONTEND=noninteractive apt-get install -o DPkg::Options::=--force-confdef -y <span class="pl-smi">${packages_main_debian[i]}</span> --reinstall <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки <span class="pl-smi">${packages_main_debian[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC481" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">done</span></div>
<div id="LC482" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">fi</span></div>
<div id="LC483" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">    ;;</div>
<div id="LC484" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">    rhel)</div>
<div id="LC485" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> проверка на &quot;битые&quot; и прерванные установки</span></div>
<div id="LC486" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      yum-complete-transaction --cleanup-only <span class="pl-k">2&gt;</span> /dev/null</div>
<div id="LC487" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> создаем деррикторию репозитория, куда будем выгружать пакеты</span></div>
<div id="LC488" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$2</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC489" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        mkdir -p <span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC490" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        [ <span class="pl-k">!</span> <span class="pl-k">-d</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages<span class="pl-pds">&quot;</span></span> ] <span class="pl-k">&amp;&amp;</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC491" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">fi</span></div>
<div id="LC492" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> установка основных системных пакетов</span></div>
<div id="LC493" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> if [ &quot;$1&quot; == &quot;system&quot; ]; then</span></div>
<div id="LC494" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>   for (( i=0; i&lt;&quot;${#packages_system_rhel[@]}&quot;; i++ )); do</span></div>
<div id="LC495" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     echo_info &quot;Установка ${packages_system_rhel[i]}&quot;</span></div>
<div id="LC496" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     if [ ! -z $2 ]; then yumdownloader --downloadonly --downloaddir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; --destdir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; ${packages_system_rhel[i]} || yum install -y --downloadonly --downloaddir=&quot;$int_arch_pack_dir/$os_codename/Packages/&quot; ${packages_system_rhel[i]} || echo_error &quot;Ошибка загрузки ${packages_system_rhel[i]}&quot;; fi</span></div>
<div id="LC497" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     if [ ! -z $2 ]; then for p in $(repoquery -R ${packages_system_rhel[i]} |xargs -r); do yumdownloader --downloaddir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; --destdir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; $p || echo_error &quot;Ошибка загрузки ${packages_system_rhel[i]}&quot;; done; fi</span></div>
<div id="LC498" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     yum install -y ${packages_system_rhel[i]} || yum update -y ${packages_system_rhel[i]} || echo_error &quot;Ошибка установки ${packages_system_rhel[i]}&quot;</span></div>
<div id="LC499" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>   done</span></div>
<div id="LC500" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$1</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC501" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">for</span> <span class="pl-s"><span class="pl-pds">((</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>; i<span class="pl-k">&lt;</span>&quot;<span class="pl-smi">${<span class="pl-k">#</span>packages_system_rhel[@]}</span>&quot;; i<span class="pl-k">++</span> <span class="pl-pds">))</span></span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC502" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка <span class="pl-smi">${packages_system_rhel[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC503" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$2</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span> yumdownloader --downloadonly --resolve --alldeps --downloaddir <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages/<span class="pl-pds">&quot;</span></span> <span class="pl-smi">${packages_system_rhel[i]}</span> <span class="pl-k">||</span> yum install -y --downloadonly --downloaddir=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages/<span class="pl-pds">&quot;</span></span> <span class="pl-smi">${packages_system_rhel[i]}</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки <span class="pl-smi">${packages_system_rhel[i]}</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC504" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          yum install --allowerasing -y <span class="pl-smi">${packages_system_rhel[i]}</span> <span class="pl-k">||</span> yum reinstall --allowerasing -y <span class="pl-smi">${packages_system_rhel[i]}</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки <span class="pl-smi">${packages_system_rhel[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC505" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">done</span></div>
<div id="LC506" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> установка остальных пакетов</span></div>
<div id="LC507" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> elif [ &quot;$1&quot; == &quot;main&quot; ]; then</span></div>
<div id="LC508" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>   for (( i=0; i&lt;&quot;${#packages_main_rhel[@]}&quot;; i++ )); do</span></div>
<div id="LC509" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     echo_info &quot;Установка ${packages_main_rhel[i]}&quot;</span></div>
<div id="LC510" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     if [ ! -z $2 ]; then yumdownloader --downloadonly --downloaddir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; --destdir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; ${packages_main_rhel[i]} || yum install -y --downloadonly --downloaddir=&quot;$int_arch_pack_dir/$os_codename/Packages/&quot; ${packages_main_rhel[i]} || echo_error &quot;Ошибка загрузки ${packages_main_rhel[i]}&quot;; fi</span></div>
<div id="LC511" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     if [ ! -z $2 ]; then for p in $(repoquery -R ${packages_main_rhel[i]} |xargs -r); do yumdownloader --downloaddir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; --destdir &quot;$int_arch_pack_dir/$os_codename/Packages/&quot; $p || echo_error &quot;Ошибка загрузки ${packages_main_rhel[i]}&quot;; done; fi</span></div>
<div id="LC512" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     # --allowerasing</span></div>
<div id="LC513" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>     yum install -y ${packages_main_rhel[i]} || yum update -y ${packages_main_rhel[i]} || echo_error &quot;Ошибка установки  ${packages_main_rhel[i]}&quot;</span></div>
<div id="LC514" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span>   done</span></div>
<div id="LC515" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> fi</span></div>
<div id="LC516" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">elif</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$1</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>main<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC517" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">for</span> <span class="pl-s"><span class="pl-pds">((</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>; i<span class="pl-k">&lt;</span>&quot;<span class="pl-smi">${<span class="pl-k">#</span>packages_main_rhel[@]}</span>&quot;; i<span class="pl-k">++</span> <span class="pl-pds">))</span></span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC518" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка <span class="pl-smi">${packages_main_rhel[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC519" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$2</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span> yumdownloader --downloadonly --resolve --alldeps --downloaddir <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages/<span class="pl-pds">&quot;</span></span> <span class="pl-smi">${packages_main_rhel[i]}</span> <span class="pl-k">||</span> yum install -y --downloadonly --downloaddir=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_pack_dir</span>/<span class="pl-smi">$os_codename</span>/Packages/<span class="pl-pds">&quot;</span></span> <span class="pl-smi">${packages_main_rhel[i]}</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки <span class="pl-smi">${packages_main_rhel[i]}</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC520" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          yum install --allowerasing -y <span class="pl-smi">${packages_main_rhel[i]}</span> <span class="pl-k">||</span> yum reinstall --allowerasing -y <span class="pl-smi">${packages_main_rhel[i]}</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки  <span class="pl-smi">${packages_main_rhel[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC521" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">done</span></div>
<div id="LC522" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">fi</span></div>
<div id="LC523" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">    ;;</div>
<div id="LC524" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">    altlinux)</div>
<div id="LC525" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> установка основных системных пакетов</span></div>
<div id="LC526" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$1</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>system<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC527" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-c"><span class="pl-c">#</span> ставим последнию версию c/c++ компилятора</span></div>
<div id="LC528" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        app_get_lib_tmp=<span class="pl-s"><span class="pl-pds">$(</span>apt_get_lib<span class="pl-pds">)</span></span></div>
<div id="LC529" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка последней версии c/c++ компилятора<span class="pl-pds">&quot;</span></span></div>
<div id="LC530" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$2</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span> apt-get install --reinstall -d -y <span class="pl-smi">$app_get_lib_tmp</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки <span class="pl-smi">$app_get_lib_tmp</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC531" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        apt-get install -y <span class="pl-smi">$app_get_lib_tmp</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки <span class="pl-smi">$app_get_lib_tmp</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC532" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">for</span> <span class="pl-s"><span class="pl-pds">((</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>; i<span class="pl-k">&lt;</span>&quot;<span class="pl-smi">${<span class="pl-k">#</span>packages_system_altlinux[@]}</span>&quot;; i<span class="pl-k">++</span> <span class="pl-pds">))</span></span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC533" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка <span class="pl-smi">${packages_system_altlinux[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC534" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$2</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span> apt-get install --reinstall -d -y <span class="pl-smi">${packages_system_altlinux[i]}</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки <span class="pl-smi">${packages_system_altlinux[i]}</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC535" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          apt-get install -y <span class="pl-smi">${packages_system_altlinux[i]}</span> <span class="pl-k">||</span> apt-get install -y <span class="pl-smi">${packages_system_altlinux[i]}</span> --reinstall <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки <span class="pl-smi">${packages_system_altlinux[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC536" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">done</span></div>
<div id="LC537" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-c"><span class="pl-c">#</span> установка остальных пакетов</span></div>
<div id="LC538" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">elif</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$1</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>main<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC539" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">for</span> <span class="pl-s"><span class="pl-pds">((</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>; i<span class="pl-k">&lt;</span>&quot;<span class="pl-smi">${<span class="pl-k">#</span>packages_main_altlinux[@]}</span>&quot;; i<span class="pl-k">++</span> <span class="pl-pds">))</span></span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC540" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка <span class="pl-smi">${packages_main_altlinux[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC541" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$2</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span> apt-get install --reinstall -d -y <span class="pl-smi">${packages_main_altlinux[i]}</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки <span class="pl-smi">${packages_main_altlinux[i]}</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC542" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">          apt-get install -y <span class="pl-smi">${packages_main_altlinux[i]}</span> <span class="pl-k">||</span> apt-get install -y <span class="pl-smi">${packages_main_altlinux[i]}</span> --reinstall <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки <span class="pl-smi">${packages_main_altlinux[i]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC543" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">        <span class="pl-k">done</span></div>
<div id="LC544" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">      <span class="pl-k">fi</span></div>
<div id="LC545" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">    ;;</div>
<div id="LC546" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-417 ">  <span class="pl-k">esac</span></div>
<div id="LC547" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC548" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC549" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> создание временных директорий</span></div>
<div id="LC550" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">create_temp_dirs</span> {</div>
<div id="LC551" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-549 ">  <span class="pl-c1">cd</span> <span class="pl-smi">$script_dir</span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$script_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC552" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-549 ">  <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-d</span> <span class="pl-smi">$int_arch_dir</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span> mkdir <span class="pl-smi">$int_arch_dir</span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC553" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-549 ">  <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-d</span> <span class="pl-smi">$int_arch_dir</span>/packages ]<span class="pl-k">;</span> <span class="pl-k">then</span> mkdir <span class="pl-smi">$int_arch_dir</span>/packages<span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC554" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC555" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC556" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> работа с файлом переменных для офлайн установки</span></div>
<div id="LC557" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">offline_env</span> {</div>
<div id="LC558" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">  <span class="pl-c1">cd</span> <span class="pl-smi">$int_arch_dir</span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC559" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">  <span class="pl-c"><span class="pl-c">#</span> если файл с переменными не сущетвует</span></div>
<div id="LC560" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">  <span class="pl-c"><span class="pl-c">#</span> сохраняем</span></div>
<div id="LC561" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">  <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-f</span> <span class="pl-smi">$int_arch_dir</span>/env ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC562" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">    echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Создание внешнего файла конфигурации установки<span class="pl-pds">&quot;</span></span></div>
<div id="LC563" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">    <span class="pl-k">for</span> <span class="pl-smi">i</span> <span class="pl-k">in</span> <span class="pl-smi">$@</span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC564" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">      <span class="pl-c1">echo</span> <span class="pl-smi">$i</span> <span class="pl-k">&gt;&gt;</span> <span class="pl-smi">$int_arch_dir</span>/env <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка создания внешнего файла конфигурации установки<span class="pl-pds">&quot;</span></span></div>
<div id="LC565" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">    <span class="pl-k">done</span></div>
<div id="LC566" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">  <span class="pl-c"><span class="pl-c">#</span> иначе подгружаем</span></div>
<div id="LC567" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">  <span class="pl-k">else</span></div>
<div id="LC568" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">    echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Подключение внешнего файла конфигурации установки<span class="pl-pds">&quot;</span></span></div>
<div id="LC569" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">    <span class="pl-c1">.</span> <span class="pl-smi">$int_arch_dir</span>/env <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка подключения внешнего файла конфигурации установки<span class="pl-pds">&quot;</span></span></div>
<div id="LC570" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">    [[ <span class="pl-k">-z</span> <span class="pl-smi">$int_pve_install_dir</span> <span class="pl-k">||</span> <span class="pl-k">-z</span> <span class="pl-smi">$build_modules</span> <span class="pl-k">||</span> <span class="pl-k">-z</span> <span class="pl-smi">$build_type</span> ]] <span class="pl-k">&amp;&amp;</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка конфигурации установки<span class="pl-pds">&quot;</span></span></div>
<div id="LC571" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-556 ">  <span class="pl-k">fi</span></div>
<div id="LC572" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC573" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC574" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> загрузка ffmpeg 5.1 для установки поверх 3.2. Актуально только для центос7</span></div>
<div id="LC575" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">download_ffmpeg</span> {</div>
<div id="LC576" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">  <span class="pl-k">if</span> [ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>online<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC577" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">    <span class="pl-c"><span class="pl-c">#</span> в онлайн режиме загружаем архив просто рядом со скриптом</span></div>
<div id="LC578" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">    <span class="pl-c1">cd</span> <span class="pl-smi">$script_dir</span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$script_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC579" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">    <span class="pl-k">case</span> <span class="pl-smi">$os_install</span> <span class="pl-k">in</span></div>
<div id="LC580" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">      centos7)</div>
<div id="LC581" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Загрузка bin FFmpeg 5.1.2<span class="pl-pds">&quot;</span></span></div>
<div id="LC582" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">        <span class="pl-k">if</span> <span class="pl-k">!</span> <span class="pl-s"><span class="pl-pds">$(</span>for i <span class="pl-k">in</span> {1..5}<span class="pl-k">;</span> <span class="pl-k">do</span> curl -C - -L --connect-timeout 15 -# --output <span class="pl-smi">$script_dir</span>/ffmpeg-5.1.2.tar.bz2 https://github.com/q3aql/ffmpeg-builds/releases/download/v5.1.2/ffmpeg-5.1.2-linux-gnu-64bit-build.tar.bz2 <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">echo</span> <span class="pl-c1">true</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">break</span> <span class="pl-k">||</span> <span class="pl-c1">echo</span> <span class="pl-c1">false</span><span class="pl-k">;</span> <span class="pl-k">done</span> <span class="pl-k">|</span> tail -1<span class="pl-pds">)</span></span><span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC583" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">          echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки bin FFmpeg 5.1.2<span class="pl-pds">&quot;</span></span></div>
<div id="LC584" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">        <span class="pl-k">fi</span></div>
<div id="LC585" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">      ;;</div>
<div id="LC586" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">      debian)</div>
<div id="LC587" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">      ;;</div>
<div id="LC588" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">      rhel)</div>
<div id="LC589" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">      ;;</div>
<div id="LC590" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">      altlinux)</div>
<div id="LC591" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">      ;;</div>
<div id="LC592" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">    <span class="pl-k">esac</span></div>
<div id="LC593" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">  <span class="pl-k">elif</span> [ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>offline<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC594" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">    <span class="pl-c"><span class="pl-c">#</span> для сборки оффлайн инсталлера загружаем архив в папку archive</span></div>
<div id="LC595" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">    <span class="pl-c1">cd</span> <span class="pl-smi">$int_arch_dir</span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC596" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">    echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Загрузка bin FFmpeg 5.1.2<span class="pl-pds">&quot;</span></span></div>
<div id="LC597" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">    <span class="pl-k">if</span> <span class="pl-k">!</span> <span class="pl-s"><span class="pl-pds">$(</span>for i <span class="pl-k">in</span> {1..5}<span class="pl-k">;</span> <span class="pl-k">do</span> curl -C - -L --connect-timeout 15 -# --output <span class="pl-smi">$int_arch_dir</span>/ffmpeg-5.1.2.tar.bz2 https://github.com/q3aql/ffmpeg-builds/releases/download/v5.1.2/ffmpeg-5.1.2-linux-gnu-64bit-build.tar.bz2 <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">echo</span> <span class="pl-c1">true</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">break</span> <span class="pl-k">||</span> <span class="pl-c1">echo</span> <span class="pl-c1">false</span><span class="pl-k">;</span> <span class="pl-k">done</span> <span class="pl-k">|</span> tail -1<span class="pl-pds">)</span></span><span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC598" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">      echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки bin FFmpeg 5.1.2<span class="pl-pds">&quot;</span></span></div>
<div id="LC599" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">    <span class="pl-k">fi</span></div>
<div id="LC600" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-574 ">  <span class="pl-k">fi</span></div>
<div id="LC601" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC602" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC603" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> установка ffmpeg 5.1</span></div>
<div id="LC604" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">install_ffmpeg</span> {</div>
<div id="LC605" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">  <span class="pl-k">if</span> [ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>online<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC606" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">    <span class="pl-c"><span class="pl-c">#</span> в онлайн режиме устанавливает из директории скрипта</span></div>
<div id="LC607" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">    <span class="pl-c1">cd</span> <span class="pl-smi">$script_dir</span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$script_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC608" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">    <span class="pl-k">case</span> <span class="pl-smi">$os_install</span> <span class="pl-k">in</span></div>
<div id="LC609" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      centos7)</div>
<div id="LC610" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">        <span class="pl-c"><span class="pl-c">#</span> установка происходит просто рахорхивированием архива в корень</span></div>
<div id="LC611" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Копирование bin FFmpeg 5.1.2 из архива<span class="pl-pds">&quot;</span></span></div>
<div id="LC612" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">        tar jxvf <span class="pl-smi">$script_dir</span>/ffmpeg-5.1.2.tar.bz2 -C / <span class="pl-k">2&gt;</span>/dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка копирования bin FFmpeg 5.1.2 из архива<span class="pl-pds">&quot;</span></span></div>
<div id="LC613" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      ;;</div>
<div id="LC614" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      debian)</div>
<div id="LC615" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      ;;</div>
<div id="LC616" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      rhel)</div>
<div id="LC617" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      ;;</div>
<div id="LC618" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      altlinux)</div>
<div id="LC619" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      ;;</div>
<div id="LC620" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">    <span class="pl-k">esac</span></div>
<div id="LC621" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">  <span class="pl-k">elif</span> [ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>offline<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC622" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">    <span class="pl-c"><span class="pl-c">#</span> в оффлайн ставим из папки archive</span></div>
<div id="LC623" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">    <span class="pl-c1">cd</span> <span class="pl-smi">$int_arch_dir</span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$int_arch_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC624" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">    <span class="pl-k">case</span> <span class="pl-smi">$os_install</span> <span class="pl-k">in</span></div>
<div id="LC625" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      centos7)</div>
<div id="LC626" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">        <span class="pl-c"><span class="pl-c">#</span> установка происходит просто рахорхивированием архива в корень</span></div>
<div id="LC627" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Копирование bin FFmpeg 5.1.2 из архива<span class="pl-pds">&quot;</span></span></div>
<div id="LC628" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">        tar jxvf <span class="pl-smi">$int_arch_dir</span>/ffmpeg-5.1.2.tar.bz2 -C / <span class="pl-k">2&gt;</span>/dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка копирования bin FFmpeg 5.1.2 из архива<span class="pl-pds">&quot;</span></span></div>
<div id="LC629" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      ;;</div>
<div id="LC630" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      debian)</div>
<div id="LC631" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      ;;</div>
<div id="LC632" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      rhel)</div>
<div id="LC633" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      ;;</div>
<div id="LC634" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      altlinux)</div>
<div id="LC635" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">      ;;</div>
<div id="LC636" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">    <span class="pl-k">esac</span></div>
<div id="LC637" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-603 ">  <span class="pl-k">fi</span></div>
<div id="LC638" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC639" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC640" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> скачать пакеты</span></div>
<div id="LC641" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">download_pac</span> {</div>
<div id="LC642" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">  <span class="pl-c"><span class="pl-c">#</span> ставим пакеты, с выгрузкой бинарных файлов</span></div>
<div id="LC643" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">  install_pac system d<span class="pl-k">;</span> install_pac main d<span class="pl-k">;</span></div>
<div id="LC644" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">  <span class="pl-c1">cd</span> <span class="pl-smi">$int_arch_pack_dir</span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$script_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC645" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">  <span class="pl-k">case</span> <span class="pl-smi">$os_install</span> <span class="pl-k">in</span></div>
<div id="LC646" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">    centos7)</div>
<div id="LC647" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      <span class="pl-c"><span class="pl-c">#</span> ставим пакеты для работы с репозиторием</span></div>
<div id="LC648" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка createrepo<span class="pl-pds">&quot;</span></span></div>
<div id="LC649" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      yum install -y createrepo <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки createrepo<span class="pl-pds">&quot;</span></span></div>
<div id="LC650" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      <span class="pl-c"><span class="pl-c">#</span> обновляем метаинформации о пакетах</span></div>
<div id="LC651" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Обновление метаинформации о пакетах<span class="pl-pds">&quot;</span></span></div>
<div id="LC652" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      createrepo -v <span class="pl-smi">$PWD</span>/<span class="pl-smi">$os_codename</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка обновления метаинформации о пакетах<span class="pl-pds">&quot;</span></span></div>
<div id="LC653" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">    ;;</div>
<div id="LC654" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">    debian)</div>
<div id="LC655" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      <span class="pl-c"><span class="pl-c">#</span> создаем структуру каталогов репозитория и перемещаем пакеты</span></div>
<div id="LC656" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      architecture=<span class="pl-s"><span class="pl-pds">$(</span>dpkg --print-architecture<span class="pl-pds">)</span></span></div>
<div id="LC657" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      mkdir -p <span class="pl-smi">$PWD</span>/dists/<span class="pl-smi">$os_codename</span>/pve <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC658" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      mkdir -p <span class="pl-smi">$PWD</span>/dists/<span class="pl-smi">$os_codename</span>/pve/binary-<span class="pl-smi">$architecture</span> <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC659" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      cp -p /var/cache/apt/archives/<span class="pl-k">*</span>.deb <span class="pl-smi">$PWD</span>/dists/<span class="pl-smi">$os_codename</span>/pve <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка копирование cache(а) пакетов apt-get<span class="pl-pds">&quot;</span></span></div>
<div id="LC660" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      <span class="pl-c"><span class="pl-c">#</span> ставим пакеты для работы с репозиторием</span></div>
<div id="LC661" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка dpkg-dev apt-utils<span class="pl-pds">&quot;</span></span></div>
<div id="LC662" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      apt-get install -y dpkg-dev apt-utils <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки dpkg-dev apt-utils<span class="pl-pds">&quot;</span></span></div>
<div id="LC663" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      <span class="pl-c"><span class="pl-c">#</span> обновляем метаинформации о пакетах</span></div>
<div id="LC664" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Обновление метаинформации о пакетах<span class="pl-pds">&quot;</span></span></div>
<div id="LC665" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      <span class="pl-c"><span class="pl-c">#</span>dpkg-scanpackages -t deb $PWD/dists/$os_codename/pve | gzip -c9 &gt; $PWD/dists/$os_codename/pve/Packages.gz || echo_error &quot;Ошибка обновления метаинформации о пакетах&quot;</span></div>
<div id="LC666" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      dpkg-scanpackages -a <span class="pl-smi">$architecture</span> dists/<span class="pl-smi">$os_codename</span>/pve <span class="pl-k">&gt;</span> <span class="pl-smi">$PWD</span>/dists/<span class="pl-smi">$os_codename</span>/pve/binary-<span class="pl-smi">$architecture</span>/Packages <span class="pl-k">2&gt;</span>/dev/null <span class="pl-k">&amp;&amp;</span> \</div>
<div id="LC667" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      dpkg-scanpackages -a <span class="pl-smi">$architecture</span> dists/<span class="pl-smi">$os_codename</span>/pve <span class="pl-k">|</span> gzip -c9 <span class="pl-k">&gt;</span> <span class="pl-smi">$PWD</span>/dists/<span class="pl-smi">$os_codename</span>/pve/binary-<span class="pl-smi">$architecture</span>/Packages.gz <span class="pl-k">2&gt;</span>/dev/null <span class="pl-k">&amp;&amp;</span> \</div>
<div id="LC668" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      dpkg-scanpackages -a <span class="pl-smi">$architecture</span> dists/<span class="pl-smi">$os_codename</span>/pve <span class="pl-k">|</span> bzip2 -c9 <span class="pl-k">&gt;</span> <span class="pl-smi">$PWD</span>/dists/<span class="pl-smi">$os_codename</span>/pve/binary-<span class="pl-smi">$architecture</span>/Packages.bz2 <span class="pl-k">2&gt;</span>/dev/null <span class="pl-k">||</span> \</div>
<div id="LC669" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка обновления метаинформации о пакетах<span class="pl-pds">&quot;</span></span></div>
<div id="LC670" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Генерации файла Release<span class="pl-pds">&quot;</span></span></div>
<div id="LC671" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      <span class="pl-c1">echo</span> -n <span class="pl-s"><span class="pl-pds">&quot;</span>Origin: Unknown</span></div>
<div id="LC672" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 "><span class="pl-s">Label: Unknown</span></div>
<div id="LC673" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 "><span class="pl-s">Suite: Unknown</span></div>
<div id="LC674" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 "><span class="pl-s">Codename: <span class="pl-smi">$os_codename</span></span></div>
<div id="LC675" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 "><span class="pl-s">Architectures: <span class="pl-smi">$architecture</span></span></div>
<div id="LC676" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 "><span class="pl-s">Components: pve</span></div>
<div id="LC677" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 "><span class="pl-s">Description: Not Available</span></div>
<div id="LC678" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 "><span class="pl-s"><span class="pl-pds">&quot;</span></span> <span class="pl-k">&gt;</span> <span class="pl-smi">$PWD</span>/dists/<span class="pl-smi">$os_codename</span>/Release <span class="pl-k">&amp;&amp;</span> apt-ftparchive release <span class="pl-smi">$PWD</span>/dists/<span class="pl-smi">$os_codename</span> <span class="pl-k">&gt;&gt;</span> <span class="pl-smi">$PWD</span>/dists/<span class="pl-smi">$os_codename</span>/Release <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка генерации файла Release<span class="pl-pds">&quot;</span></span></div>
<div id="LC679" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">    ;;</div>
<div id="LC680" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">    rhel)</div>
<div id="LC681" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      <span class="pl-c"><span class="pl-c">#</span> ставим пакеты для работы с репозиторием</span></div>
<div id="LC682" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка createrepo<span class="pl-pds">&quot;</span></span></div>
<div id="LC683" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      yum install -y createrepo <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки createrepo<span class="pl-pds">&quot;</span></span></div>
<div id="LC684" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      <span class="pl-c"><span class="pl-c">#</span> обновляем метаинформации о пакетах</span></div>
<div id="LC685" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Обновление метаинформации о пакетах<span class="pl-pds">&quot;</span></span></div>
<div id="LC686" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      createrepo -v <span class="pl-smi">$PWD</span>/<span class="pl-smi">$os_codename</span> <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка обновления метаинформации о пакетах<span class="pl-pds">&quot;</span></span></div>
<div id="LC687" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">    ;;</div>
<div id="LC688" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">    altlinux)</div>
<div id="LC689" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      <span class="pl-c"><span class="pl-c">#</span> создаем структуру каталогов репозитория и перемещаем пакеты</span></div>
<div id="LC690" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      mkdir -p <span class="pl-smi">$PWD</span>/<span class="pl-smi">$os_codename</span>/base <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC691" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      mkdir -p <span class="pl-smi">$PWD</span>/<span class="pl-smi">$os_codename</span>/RPMS.pve <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC692" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      cp -p /var/cache/apt/archives/<span class="pl-k">*</span>.rpm <span class="pl-smi">$PWD</span>/<span class="pl-smi">$os_codename</span>/RPMS.pve <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка копирование cache(а) пакетов apt-get<span class="pl-pds">&quot;</span></span></div>
<div id="LC693" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      <span class="pl-c"><span class="pl-c">#</span> ставим пакеты для работы с репозиторием</span></div>
<div id="LC694" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка apt-repo-tools<span class="pl-pds">&quot;</span></span></div>
<div id="LC695" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      apt-get install -y apt-repo-tools <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установки apt-repo-tools<span class="pl-pds">&quot;</span></span></div>
<div id="LC696" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      <span class="pl-c"><span class="pl-c">#</span> обновляем метаинформации о пакетах</span></div>
<div id="LC697" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Обновление метаинформации о пакетах<span class="pl-pds">&quot;</span></span></div>
<div id="LC698" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">      genbasedir --bloat --progress --topdir=<span class="pl-smi">$PWD</span> <span class="pl-smi">$os_codename</span> pve <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка обновления метаинформации о пакетах<span class="pl-pds">&quot;</span></span></div>
<div id="LC699" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">    ;;</div>
<div id="LC700" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-640 ">  <span class="pl-k">esac</span></div>
<div id="LC701" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC702" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC703" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">set_devpi_repo</span> {</div>
<div id="LC704" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-702 ">  <span class="pl-c"><span class="pl-c">#</span> если доступен локальный репозиторий pip, подключаем его</span></div>
<div id="LC705" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-702 ">  echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Подключение <span class="pl-cce">\&quot;</span><span class="pl-smi">$python_devpi</span><span class="pl-cce">\&quot;</span> репозитория DevPI<span class="pl-pds">&quot;</span></span></div>
<div id="LC706" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-702 ">  python_pip_repo=https://pypi.org/simple/</div>
<div id="LC707" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-702 ">  [[ <span class="pl-s"><span class="pl-pds">$(</span>for i <span class="pl-k">in</span> {1..3}<span class="pl-k">;</span> <span class="pl-k">do</span> curl -s -o /dev/null -m 5 --connect-timeout 5 -w <span class="pl-s"><span class="pl-pds">&quot;</span>%{http_code}<span class="pl-pds">&quot;</span></span> https://<span class="pl-smi">$python_devpi</span>/devpi/root/pypi/+simple/ <span class="pl-k">2&gt;</span>/dev/null <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">break</span> <span class="pl-k">||</span> sleep 0.5<span class="pl-k">;</span> <span class="pl-k">done</span> <span class="pl-k">|</span> tail -1 <span class="pl-k">|</span> rev <span class="pl-k">|</span> cut -c 1-3 <span class="pl-k">|</span> rev<span class="pl-pds">)</span></span> <span class="pl-k">-eq</span> 200 ]] <span class="pl-k">&amp;&amp;</span> python_pip_repo=<span class="pl-s"><span class="pl-pds">&quot;</span>--index-url https://<span class="pl-smi">$python_devpi</span>/devpi/root/pypi/+simple/ --trusted-host <span class="pl-smi">$python_devpi</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> \</div>
<div id="LC708" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-702 ">  echo_warning <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка подключения, репозиторий <span class="pl-smi">$python_devpi</span> недоступен<span class="pl-pds">&quot;</span></span></div>
<div id="LC709" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC710" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC711" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> определяем набор модулей python для установки</span></div>
<div id="LC712" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">list_pip3_modules</span> {</div>
<div id="LC713" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">  <span class="pl-k">if</span> [ <span class="pl-k">-z</span> <span class="pl-smi">$1</span> ]<span class="pl-k">;</span> <span class="pl-k">then</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка определения набора модулей Python<span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">fi</span></div>
<div id="LC714" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">  <span class="pl-c"><span class="pl-c">#</span> установка модулей питона из списка в массиве или из внешнего файла модулей</span></div>
<div id="LC715" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">  <span class="pl-k">if</span> [[ <span class="pl-k">-f</span> <span class="pl-smi">$list_pip3_modules_ext</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$build_modules</span><span class="pl-pds">&quot;</span></span> ]]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC716" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">    echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Существует внешний файл списока модулей pip3<span class="pl-pds">&quot;</span></span></div>
<div id="LC717" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">    mapfile -t not_install <span class="pl-k">&lt;</span> <span class="pl-smi">$list_pip3_modules_ext</span></div>
<div id="LC718" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">  <span class="pl-k">elif</span> [[ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>full<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>cpu<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>cu11<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>cu12<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>ups<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>urs<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>ses<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>online<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>offline<span class="pl-pds">&quot;</span></span> ]]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC719" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">    <span class="pl-c"><span class="pl-c">#</span> набор модулей</span></div>
<div id="LC720" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">    <span class="pl-c1">eval</span> not_install=(<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-cce">\$</span>{modules_pip3_<span class="pl-smi">$1</span>[@]}<span class="pl-pds">&quot;</span></span>)</div>
<div id="LC721" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">    <span class="pl-c"><span class="pl-c">#</span> проверка версии компилятора, исключаем</span></div>
<div id="LC722" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">    <span class="pl-k">if</span> [[ <span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">${not_install[@]}</span><span class="pl-pds">)</span></span> <span class="pl-k">==</span> <span class="pl-k">*</span><span class="pl-s"><span class="pl-pds">&quot;</span>llama-cpp-python<span class="pl-pds">&quot;</span></span><span class="pl-k">*</span> <span class="pl-k">&amp;&amp;</span> (<span class="pl-s"><span class="pl-pds">$(</span>g++ -std=<span class="pl-s"><span class="pl-pds">&quot;</span>c++17<span class="pl-pds">&quot;</span></span> /dev/null <span class="pl-k">2&gt;&amp;1</span><span class="pl-pds">)</span></span> <span class="pl-k">!</span>= <span class="pl-k">*</span><span class="pl-s"><span class="pl-pds">&quot;</span>collect2<span class="pl-pds">&quot;</span></span><span class="pl-k">*</span> <span class="pl-k">||</span> <span class="pl-s"><span class="pl-pds">$(</span>g++ -dumpversion <span class="pl-k">2&gt;</span>/dev/null<span class="pl-k">|</span> cut -c1<span class="pl-pds">)</span></span> -le 8) ]]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC723" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      [ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>qas<span class="pl-pds">&quot;</span></span> ] <span class="pl-k">&amp;&amp;</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ваш C++ компилятор устарел. Можорная версия должна быть &gt;=9 с поддержкой стандарта &gt;=C++17. Окружение для OAS не поддерживается<span class="pl-pds">&quot;</span></span></div>
<div id="LC724" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      echo_warning <span class="pl-s"><span class="pl-pds">&quot;</span>Ваш C++ компилятор устарел. Можорная версия должна быть &gt;=9 с поддержкой стандарта &gt;=C++17. Окружение без поддержки QAS<span class="pl-pds">&quot;</span></span></div>
<div id="LC725" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      not_install=(<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">${not_install[@]}</span> <span class="pl-k">|</span> sed -r <span class="pl-s"><span class="pl-pds">&#39;</span>s#(^| )llama-cpp-python[^ ]*##g<span class="pl-pds">&#39;</span></span><span class="pl-pds">)</span></span>)</div>
<div id="LC726" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">    <span class="pl-k">fi</span></div>
<div id="LC727" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">    <span class="pl-c"><span class="pl-c">#</span> 2 набора модулей</span></div>
<div id="LC728" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">    <span class="pl-k">if</span> [[ <span class="pl-smi">$2</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>full<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$2</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>cpu<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$2</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>cu11<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$2</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>cu12<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$2</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>ups<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$2</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>urs<span class="pl-pds">&quot;</span></span> <span class="pl-k">||</span> <span class="pl-smi">$2</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>ses<span class="pl-pds">&quot;</span></span> ]]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC729" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Определение типа установки<span class="pl-pds">&quot;</span></span></div>
<div id="LC730" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      <span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Установка: <span class="pl-smi">$1</span>; собрано: <span class="pl-smi">$2</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC731" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      modules_pip3_offline=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">${not_install[@]}</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> modules_pip3_online=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span><span class="pl-k">;</span></div>
<div id="LC732" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      <span class="pl-c1">eval</span> not_install_tmp=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-cce">\$</span>{modules_pip3_<span class="pl-smi">$2</span>[@]}<span class="pl-pds">&quot;</span></span></div>
<div id="LC733" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      <span class="pl-k">for</span> <span class="pl-smi">c</span> <span class="pl-k">in</span> <span class="pl-smi">${not_install[@]}</span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC734" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">        <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$not_install_tmp</span> <span class="pl-k">|</span> grep -c <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$c</span><span class="pl-pds">&quot;</span></span> -m1<span class="pl-pds">)</span></span> <span class="pl-k">-eq</span> 0 ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC735" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">          modules_pip3_offline=<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$modules_pip3_offline</span> <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&quot;</span>s/<span class="pl-smi">$c</span>//<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span></div>
<div id="LC736" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">          modules_pip3_online=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$modules_pip3_online</span> <span class="pl-smi">$c</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC737" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">        <span class="pl-k">fi</span></div>
<div id="LC738" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      <span class="pl-k">done</span></div>
<div id="LC739" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      <span class="pl-c1">unset</span> not_install</div>
<div id="LC740" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      <span class="pl-c1">unset</span> not_install_tmp</div>
<div id="LC741" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      <span class="pl-c"><span class="pl-c">#</span> настраиваем прокси</span></div>
<div id="LC742" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      <span class="pl-k">if</span> [ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$modules_pip3_online</span><span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC743" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">        echo_warning <span class="pl-s"><span class="pl-pds">&quot;</span>Требуется загрузить недостающие модули<span class="pl-pds">&quot;</span></span></div>
<div id="LC744" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">        <span class="pl-c1">echo</span> <span class="pl-smi">$modules_pip3_online</span></div>
<div id="LC745" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">        proxy_configuration <span class="pl-c1">set</span></div>
<div id="LC746" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      <span class="pl-k">fi</span></div>
<div id="LC747" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      modules_pip3_offline=(<span class="pl-smi">$modules_pip3_offline</span>)</div>
<div id="LC748" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">      modules_pip3_online=(<span class="pl-smi">$modules_pip3_online</span>)</div>
<div id="LC749" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">    <span class="pl-k">fi</span></div>
<div id="LC750" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-711 ">  <span class="pl-k">fi</span></div>
<div id="LC751" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC752" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC753" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> перенос pyenv из root директории</span></div>
<div id="LC754" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">download_pyenv</span> {</div>
<div id="LC755" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 "> <span class="pl-c1">cd</span> <span class="pl-smi">$script_dir</span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$script_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC756" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 "> <span class="pl-c"><span class="pl-c">#</span> удаление всех версий питона из папки pyenv</span></div>
<div id="LC757" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 "> rm -rf <span class="pl-smi">$HOME</span>/.pyenv/versions/<span class="pl-k">*</span></div>
<div id="LC758" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 "> <span class="pl-c"><span class="pl-c">#</span> перенос системного pyenv в папку формируемого архива</span></div>
<div id="LC759" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 "> cp -rp <span class="pl-smi">$HOME</span>/.pyenv <span class="pl-smi">$int_arch_dir</span>/ <span class="pl-k">&amp;&amp;</span> rm -rf <span class="pl-smi">$HOME</span>/.pyenv</div>
<div id="LC760" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 "> <span class="pl-c"><span class="pl-c">#</span> создание папки кэш куда будет скачан архив для оффлайн установки версии питона</span></div>
<div id="LC761" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 "> mkdir <span class="pl-smi">$int_arch_dir</span>/.pyenv/cache</div>
<div id="LC762" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 "> <span class="pl-c"><span class="pl-c">#</span> перенос архива установки питона в папку кэш(установщик там ищет архив)</span></div>
<div id="LC763" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 "> <span class="pl-k">case</span> <span class="pl-smi">$os_install</span> <span class="pl-k">in</span></div>
<div id="LC764" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 ">  centos7)</div>
<div id="LC765" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 ">    mv <span class="pl-smi">$int_arch_dir</span>/.pyenv/sources/<span class="pl-smi">$python_ver_centos</span>/Python-<span class="pl-smi">$python_ver_centos</span>.tar.xz <span class="pl-smi">$int_arch_dir</span>/.pyenv/cache</div>
<div id="LC766" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 ">    ;;</div>
<div id="LC767" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 ">  debian)</div>
<div id="LC768" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 ">    mv <span class="pl-smi">$int_arch_dir</span>/.pyenv/sources/<span class="pl-smi">$python_ver_debian</span>/Python-<span class="pl-smi">$python_ver_debian</span>.tar.xz <span class="pl-smi">$int_arch_dir</span>/.pyenv/cache</div>
<div id="LC769" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 ">    ;;</div>
<div id="LC770" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 ">  rhel)</div>
<div id="LC771" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 ">    mv <span class="pl-smi">$int_arch_dir</span>/.pyenv/sources/<span class="pl-smi">$python_ver_rhel</span>/Python-<span class="pl-smi">$python_ver_rhel</span>.tar.xz <span class="pl-smi">$int_arch_dir</span>/.pyenv/cache</div>
<div id="LC772" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 ">    ;;</div>
<div id="LC773" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 ">  altlinux)</div>
<div id="LC774" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 ">    mv <span class="pl-smi">$int_arch_dir</span>/.pyenv/sources/<span class="pl-smi">$python_ver_altlinux</span>/Python-<span class="pl-smi">$python_ver_altlinux</span>.tar.xz <span class="pl-smi">$int_arch_dir</span>/.pyenv/cache</div>
<div id="LC775" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 ">    ;;</div>
<div id="LC776" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-753 "> <span class="pl-k">esac</span></div>
<div id="LC777" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC778" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC779" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> скачивание модулей python</span></div>
<div id="LC780" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">download_modules</span> {</div>
<div id="LC781" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  <span class="pl-c1">cd</span> <span class="pl-smi">$script_dir</span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$script_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC782" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  <span class="pl-c"><span class="pl-c">#</span> подключаем локальный pip репозиторий</span></div>
<div id="LC783" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  set_devpi_repo</div>
<div id="LC784" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  <span class="pl-c"><span class="pl-c">#</span> переход локально на $python_ver_дистрибутив</span></div>
<div id="LC785" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  <span class="pl-k">case</span> <span class="pl-smi">$os_install</span> <span class="pl-k">in</span></div>
<div id="LC786" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    centos7)</div>
<div id="LC787" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">      pyenv <span class="pl-k">local</span> <span class="pl-smi">$python_ver_centos</span></div>
<div id="LC788" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    ;;</div>
<div id="LC789" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    debian)</div>
<div id="LC790" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">      pyenv <span class="pl-k">local</span> <span class="pl-smi">$python_ver_debian</span></div>
<div id="LC791" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    ;;</div>
<div id="LC792" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    rhel)</div>
<div id="LC793" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">      pyenv <span class="pl-k">local</span> <span class="pl-smi">$python_ver_rhel</span></div>
<div id="LC794" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    ;;</div>
<div id="LC795" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    altlinux)</div>
<div id="LC796" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">      pyenv <span class="pl-k">local</span> <span class="pl-smi">$python_ver_altlinux</span></div>
<div id="LC797" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    ;;</div>
<div id="LC798" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  <span class="pl-k">esac</span></div>
<div id="LC799" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  <span class="pl-c"><span class="pl-c">#</span> удаляем старый кеш pip</span></div>
<div id="LC800" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  rm -rf <span class="pl-smi">$HOME</span>/.cache/pip <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC801" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  <span class="pl-c"><span class="pl-c">#</span> временные папки</span></div>
<div id="LC802" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Создание временной дерриктории <span class="pl-smi">$temp_dir</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC803" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  mkdir <span class="pl-smi">$temp_dir</span> <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">&gt;</span>/dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка создание временной дерриктории <span class="pl-smi">$temp_dir</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC804" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Создание временной дерриктории <span class="pl-smi">$temp_dir</span>/modules<span class="pl-pds">&quot;</span></span></div>
<div id="LC805" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  mkdir <span class="pl-smi">$temp_dir</span>/modules <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">&gt;</span>/dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка создание временной дерриктории <span class="pl-smi">$temp_dir</span>/modules<span class="pl-pds">&quot;</span></span></div>
<div id="LC806" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  <span class="pl-c"><span class="pl-c">#</span> создание окружения на базе питона</span></div>
<div id="LC807" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Создание временного PVE окружения в <span class="pl-smi">$temp_dir</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC808" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  TMPDIR=/var/tmp python3 -m venv <span class="pl-smi">$temp_dir</span></div>
<div id="LC809" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  <span class="pl-c"><span class="pl-c">#</span> установка всех модулей</span></div>
<div id="LC810" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">   <span class="pl-k">if</span> <span class="pl-s"><span class="pl-pds">$(</span>source <span class="pl-smi">$temp_dir</span>/bin/activate <span class="pl-k">&gt;</span>/dev/null <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">&amp;&amp;</span> deactivate <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">echo</span> <span class="pl-c1">false</span> <span class="pl-k">||</span> <span class="pl-c1">echo</span> true<span class="pl-pds">)</span></span><span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC811" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка создания временного PVE окружения<span class="pl-pds">&quot;</span></span></div>
<div id="LC812" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">   <span class="pl-k">fi</span></div>
<div id="LC813" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">   <span class="pl-c1">source</span> <span class="pl-smi">$temp_dir</span>/bin/activate</div>
<div id="LC814" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    <span class="pl-c"><span class="pl-c">#</span> обновление pip3 и других модулей, без их установки не загрузятся модули</span></div>
<div id="LC815" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    <span class="pl-k">for</span> <span class="pl-smi">i</span> <span class="pl-k">in</span> <span class="pl-s"><span class="pl-pds">&quot;</span>pip<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>wheel<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>scikit-build<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>setuptools_rust<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>setuptools<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>cython<span class="pl-pds">&quot;</span></span> <span class="pl-s"><span class="pl-pds">&quot;</span>tomli<span class="pl-pds">&quot;</span></span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC816" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">      TMPDIR=/var/tmp python3 -m pip install --no-cache-dir <span class="pl-smi">$python_pip_repo</span> --upgrade <span class="pl-smi">$i</span> --retries 60 --timeout 60 <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">&gt;</span>/dev/null</div>
<div id="LC817" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    <span class="pl-k">done</span></div>
<div id="LC818" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    <span class="pl-c"><span class="pl-c">#</span> создаем файл типа устаноки, для детектирования офлайн установки</span></div>
<div id="LC819" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    list_pip3_modules <span class="pl-smi">$1</span><span class="pl-k">;</span></div>
<div id="LC820" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    <span class="pl-c1">cd</span> <span class="pl-smi">$temp_dir</span>/modules<span class="pl-k">;</span> f_done=0</div>
<div id="LC821" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    <span class="pl-c"><span class="pl-c">#</span> предпринемаем 3 попытки на установку модулей</span></div>
<div id="LC822" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    <span class="pl-k">while</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$not_install</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">$f_done</span> <span class="pl-k">-lt</span> 3 ]]<span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC823" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">      <span class="pl-k">for</span> <span class="pl-s"><span class="pl-pds">((</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>; i<span class="pl-k">&lt;</span>&quot;<span class="pl-smi">${<span class="pl-k">#</span>not_install[@]}</span>&quot;; i<span class="pl-k">++</span> <span class="pl-pds">))</span></span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC824" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">        pip_modules=<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">${not_install[i]}</span> <span class="pl-k">|</span> tr <span class="pl-s"><span class="pl-pds">&#39;</span>|<span class="pl-pds">&#39;</span></span> <span class="pl-s"><span class="pl-pds">&#39;</span> <span class="pl-pds">&#39;</span></span><span class="pl-pds">)</span></span></div>
<div id="LC825" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Загрузка модуля(ей) Python <span class="pl-smi">$pip_modules</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC826" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">        <span class="pl-c"><span class="pl-c">#</span> загрузка torch</span></div>
<div id="LC827" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">        <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$pip_modules</span> <span class="pl-k">|</span> grep -cE <span class="pl-s"><span class="pl-pds">&quot;</span>(^| )torch.*\+(cpu|cu[0-9]+)<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span> <span class="pl-k">-ne</span> 0 ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC828" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">          TMPDIR=/var/tmp python3 -m pip download --index-url https://download.pytorch.org/whl/<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$pip_modules</span> <span class="pl-k">|</span> grep -Eo <span class="pl-s"><span class="pl-pds">&quot;</span>(cpu|cu[0-9]+) -m1<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span> \</div>
<div id="LC829" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">          <span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$python_pip_repo</span> <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&quot;</span>s#--index-url#--extra-index-url#<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span> <span class="pl-smi">$pip_modules</span> --timeout 60 <span class="pl-k">||</span> \</div>
<div id="LC830" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">          (echo_warning <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки модуля(ей) Python <span class="pl-smi">$pip_modules</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">&amp;&amp;</span> not_install_tmp=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$not_install_tmp</span> <span class="pl-smi">${not_install[i]}</span><span class="pl-pds">&quot;</span></span>)</div>
<div id="LC831" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">        <span class="pl-k">elif</span> [ <span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$pip_modules</span> <span class="pl-k">|</span> grep -cE <span class="pl-s"><span class="pl-pds">&quot;</span>(^| )llama-cpp-python-cu<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span> <span class="pl-k">-ne</span> 0 ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC832" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">            not_install[i]=<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">${not_install[i]}</span> <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&#39;</span>s/llama-cpp-python-cu/llama-cpp-python/<span class="pl-pds">&#39;</span></span><span class="pl-pds">)</span></span></div>
<div id="LC833" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">            TMPDIR=/var/tmp python3 -m pip download <span class="pl-smi">$python_pip_repo</span> <span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$pip_modules</span> <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&#39;</span>s/llama-cpp-python-cu/llama-cpp-python/<span class="pl-pds">&#39;</span></span><span class="pl-pds">)</span></span> --timeout 60 <span class="pl-k">||</span> (echo_warning <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки модуля(ей) Python <span class="pl-smi">$pip_modules</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">&amp;&amp;</span> not_install_tmp=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$not_install_tmp</span> <span class="pl-smi">${not_install[i]}</span><span class="pl-pds">&quot;</span></span>)</div>
<div id="LC834" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">        <span class="pl-k">else</span></div>
<div id="LC835" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">          TMPDIR=/var/tmp python3 -m pip download <span class="pl-smi">$python_pip_repo</span> <span class="pl-smi">$pip_modules</span> --timeout 60 <span class="pl-k">||</span> (echo_warning <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки модуля(ей) Python <span class="pl-smi">$pip_modules</span><span class="pl-pds">&quot;</span></span> <span class="pl-k">&amp;&amp;</span> not_install_tmp=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$not_install_tmp</span> <span class="pl-smi">${not_install[i]}</span><span class="pl-pds">&quot;</span></span>)</div>
<div id="LC836" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">        <span class="pl-k">fi</span></div>
<div id="LC837" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">      <span class="pl-k">done</span></div>
<div id="LC838" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">      not_install=(<span class="pl-smi">$not_install_tmp</span>)<span class="pl-k">;</span> f_done=<span class="pl-s"><span class="pl-pds">$((</span><span class="pl-smi">$f_done</span> <span class="pl-k">+</span> <span class="pl-c1">1</span><span class="pl-pds">))</span></span><span class="pl-k">;</span> <span class="pl-c1">unset</span> not_install_tmp</div>
<div id="LC839" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    <span class="pl-k">done</span></div>
<div id="LC840" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    <span class="pl-c"><span class="pl-c">#</span> если за 3 попытки не удалось загрузить нужные модули</span></div>
<div id="LC841" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">    [[ <span class="pl-k">-z</span> <span class="pl-smi">$not_install</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">$f_done</span> <span class="pl-k">-ge</span> 3 ]] <span class="pl-k">&amp;&amp;</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки модуля(ей) Python <span class="pl-smi">${not_install[@]}</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC842" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  deactivate</div>
<div id="LC843" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  <span class="pl-c"><span class="pl-c">#</span> переход локально на системную версию чтобы не сломать то что уже работает на системной</span></div>
<div id="LC844" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  pyenv <span class="pl-k">local</span> system</div>
<div id="LC845" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  rm -rf .python-version</div>
<div id="LC846" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  <span class="pl-c1">cd</span> <span class="pl-smi">$script_dir</span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$script_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC847" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  <span class="pl-c"><span class="pl-c">#</span> перемещение с временной папки в основную папку архива</span></div>
<div id="LC848" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  cp -rp <span class="pl-smi">$temp_dir</span>/modules <span class="pl-smi">$int_arch_dir</span>/</div>
<div id="LC849" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  <span class="pl-c"><span class="pl-c">#</span> удаление временной папки</span></div>
<div id="LC850" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-779 ">  rm -rf <span class="pl-smi">$temp_dir</span></div>
<div id="LC851" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC852" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC853" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">export_pyenv_enviroment</span> {</div>
<div id="LC854" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">  <span class="pl-k">export</span> PYENV_ROOT=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$HOME</span>/.pyenv<span class="pl-pds">&quot;</span></span> <span class="pl-k">&amp;&amp;</span>  <span class="pl-k">export</span> PATH=<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$PYENV_ROOT</span>/bin:<span class="pl-smi">$PATH</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC855" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">  <span class="pl-c1">eval</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-s"><span class="pl-pds">$(</span>pyenv init -<span class="pl-pds">)</span></span><span class="pl-pds">&quot;</span></span></div>
<div id="LC856" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC857" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC858" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">install_pyenv</span> {</div>
<div id="LC859" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">  <span class="pl-c1">cd</span> <span class="pl-smi">$script_dir</span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$script_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC860" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">  <span class="pl-c"><span class="pl-c">#</span> удаляем старый кеш pip</span></div>
<div id="LC861" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">  rm -rf <span class="pl-smi">$HOME</span>/.cache/pip <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC862" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">  <span class="pl-c"><span class="pl-c">#</span> онлайн установка</span></div>
<div id="LC863" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">  <span class="pl-k">if</span> [ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>online<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC864" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">    echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Загрузка и установка Pyenv<span class="pl-pds">&quot;</span></span></div>
<div id="LC865" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">    rm -rf <span class="pl-smi">$HOME</span>/.pyenv <span class="pl-k">&amp;&amp;</span> export_pyenv_enviroment <span class="pl-k">&gt;</span>/dev/null <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-k">for</span> <span class="pl-smi">i</span> <span class="pl-k">in</span> {1..3}<span class="pl-k">;</span> <span class="pl-k">do</span> curl --connect-timeout 15 https://pyenv.run <span class="pl-k">2&gt;</span>/dev/null <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">break</span> <span class="pl-k">||</span> sleep 0.5<span class="pl-k">;</span> <span class="pl-k">done</span> <span class="pl-k">|</span> bash <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">&amp;&amp;</span> export_pyenv_enviroment <span class="pl-k">&gt;</span>/dev/null <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">&amp;&amp;</span> sleep 0.5 <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка загрузки и установки Pyenv<span class="pl-pds">&quot;</span></span></div>
<div id="LC866" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">    <span class="pl-c"><span class="pl-c">#</span> установка питона с сохранением исходников ключ -k</span></div>
<div id="LC867" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">    <span class="pl-k">case</span> <span class="pl-smi">$os_install</span> <span class="pl-k">in</span></div>
<div id="LC868" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      centos7)</div>
<div id="LC869" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        <span class="pl-c"><span class="pl-c">#</span> создание дерриктории</span></div>
<div id="LC870" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        mkdir -p <span class="pl-s"><span class="pl-pds">&quot;</span>/root/.pyenv/versions/<span class="pl-smi">$python_ver_centos</span>/bin<span class="pl-pds">&quot;</span></span></div>
<div id="LC871" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: загрузка и установка версии Python<span class="pl-smi">$python_ver_centos</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC872" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        <span class="pl-c"><span class="pl-c">#</span> проверка наличия нужной версии питона в репозитории pyenv</span></div>
<div id="LC873" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-s"><span class="pl-pds">`</span>pyenv install --list <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&#39;</span>s/^ *//g<span class="pl-pds">&#39;</span></span> <span class="pl-k">|</span> grep ^<span class="pl-smi">$python_ver_centos</span><span class="pl-pds">`</span></span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$python_ver_centos</span><span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC874" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          CPPFLAGS=<span class="pl-s"><span class="pl-pds">&quot;</span>-I/usr/include/openssl11<span class="pl-pds">&quot;</span></span> LDFLAGS=<span class="pl-s"><span class="pl-pds">&quot;</span>-L/usr/lib64/openssl11 -lssl -lcrypto<span class="pl-pds">&quot;</span></span> pyenv install -k -f <span class="pl-smi">$python_ver_centos</span> <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC875" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">         <span class="pl-k">else</span></div>
<div id="LC876" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: нет такой версии Python<span class="pl-smi">$python_ver_centos</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC877" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        <span class="pl-k">fi</span></div>
<div id="LC878" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      ;;</div>
<div id="LC879" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      debian)</div>
<div id="LC880" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        <span class="pl-c"><span class="pl-c">#</span> создание дерриктории</span></div>
<div id="LC881" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        mkdir -p <span class="pl-s"><span class="pl-pds">&quot;</span>/root/.pyenv/versions/<span class="pl-smi">$python_ver_debian</span>/bin<span class="pl-pds">&quot;</span></span></div>
<div id="LC882" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: загрузка и установка версии Python<span class="pl-smi">$python_ver_debian</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC883" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-s"><span class="pl-pds">`</span>pyenv install --list <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&#39;</span>s/^ *//g<span class="pl-pds">&#39;</span></span> <span class="pl-k">|</span> grep ^<span class="pl-smi">$python_ver_debian</span><span class="pl-pds">`</span></span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$python_ver_debian</span><span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC884" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          pyenv install -k -f <span class="pl-smi">$python_ver_debian</span> <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC885" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">         <span class="pl-k">else</span></div>
<div id="LC886" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: нет такой версии Python<span class="pl-smi">$python_ver_debian</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC887" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        <span class="pl-k">fi</span></div>
<div id="LC888" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      ;;</div>
<div id="LC889" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      rhel)</div>
<div id="LC890" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        <span class="pl-c"><span class="pl-c">#</span> создание дерриктории</span></div>
<div id="LC891" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        mkdir -p <span class="pl-s"><span class="pl-pds">&quot;</span>/root/.pyenv/versions/<span class="pl-smi">$python_ver_rhel</span>/bin<span class="pl-pds">&quot;</span></span></div>
<div id="LC892" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: загрузка и установка версии Python<span class="pl-smi">$python_ver_rhel</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC893" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-s"><span class="pl-pds">`</span>pyenv install --list <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&#39;</span>s/^ *//g<span class="pl-pds">&#39;</span></span> <span class="pl-k">|</span> grep ^<span class="pl-smi">$python_ver_rhel</span><span class="pl-pds">`</span></span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$python_ver_rhel</span><span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC894" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          pyenv install -k -f <span class="pl-smi">$python_ver_rhel</span> <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC895" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">         <span class="pl-k">else</span></div>
<div id="LC896" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: нет такой версии Python<span class="pl-smi">$python_ver_rhel</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC897" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        <span class="pl-k">fi</span></div>
<div id="LC898" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      ;;</div>
<div id="LC899" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      altlinux)</div>
<div id="LC900" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        <span class="pl-c"><span class="pl-c">#</span> создание дерриктории</span></div>
<div id="LC901" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        mkdir -p <span class="pl-s"><span class="pl-pds">&quot;</span>/root/.pyenv/versions/<span class="pl-smi">$python_ver_altlinux</span>/bin<span class="pl-pds">&quot;</span></span></div>
<div id="LC902" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: загрузка и установка версии Python<span class="pl-smi">$python_ver_altlinux</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC903" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-s"><span class="pl-pds">`</span>pyenv install --list <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&#39;</span>s/^ *//g<span class="pl-pds">&#39;</span></span> <span class="pl-k">|</span> grep ^<span class="pl-smi">$python_ver_altlinux</span><span class="pl-pds">`</span></span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$python_ver_altlinux</span><span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC904" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          pyenv install -k -f <span class="pl-smi">$python_ver_altlinux</span> <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC905" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">         <span class="pl-k">else</span></div>
<div id="LC906" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: нет такой версии Python<span class="pl-smi">$python_ver_altlinux</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC907" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        <span class="pl-k">fi</span></div>
<div id="LC908" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      ;;</div>
<div id="LC909" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">    <span class="pl-k">esac</span></div>
<div id="LC910" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">    <span class="pl-c"><span class="pl-c">#</span> оффлайн установка</span></div>
<div id="LC911" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">    <span class="pl-k">elif</span> [ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>offline<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC912" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      <span class="pl-c"><span class="pl-c">#</span> перенести установленную версию pyenv в хом рута</span></div>
<div id="LC913" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      cp -rp <span class="pl-smi">$int_arch_dir</span>/.pyenv /root <span class="pl-k">&amp;&amp;</span> rm -rf <span class="pl-smi">$int_arch_dir</span>/.pyenv</div>
<div id="LC914" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      <span class="pl-c"><span class="pl-c">#</span> прописывание pyenv окружения (действует до первой перезагрузки)</span></div>
<div id="LC915" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      export_pyenv_enviroment</div>
<div id="LC916" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      <span class="pl-c"><span class="pl-c">#</span> установка питона</span></div>
<div id="LC917" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      <span class="pl-k">case</span> <span class="pl-smi">$os_install</span> <span class="pl-k">in</span></div>
<div id="LC918" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        centos7)</div>
<div id="LC919" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: установка версии Python<span class="pl-smi">$python_ver_centos</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC920" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          <span class="pl-c"><span class="pl-c">#</span> проверка наличия нужной версии питона в репозитории pyenv</span></div>
<div id="LC921" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-s"><span class="pl-pds">`</span>pyenv install --list <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&#39;</span>s/^ *//g<span class="pl-pds">&#39;</span></span> <span class="pl-k">|</span> grep ^<span class="pl-smi">$python_ver_centos</span><span class="pl-pds">`</span></span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$python_ver_centos</span><span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC922" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">            CPPFLAGS=<span class="pl-s"><span class="pl-pds">&quot;</span>-I/usr/include/openssl11<span class="pl-pds">&quot;</span></span> LDFLAGS=<span class="pl-s"><span class="pl-pds">&quot;</span>-L/usr/lib64/openssl11 -lssl -lcrypto<span class="pl-pds">&quot;</span></span> pyenv install -s -f <span class="pl-smi">$python_ver_centos</span> <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC923" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          <span class="pl-k">else</span></div>
<div id="LC924" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">            echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: нет такой версии Python<span class="pl-smi">$python_ver_centos</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC925" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          <span class="pl-k">fi</span></div>
<div id="LC926" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        ;;</div>
<div id="LC927" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        debian)</div>
<div id="LC928" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: установка версии Python<span class="pl-smi">$python_ver_debian</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC929" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-s"><span class="pl-pds">`</span>pyenv install --list <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&#39;</span>s/^ *//g<span class="pl-pds">&#39;</span></span> <span class="pl-k">|</span> grep ^<span class="pl-smi">$python_ver_debian</span><span class="pl-pds">`</span></span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$python_ver_debian</span><span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC930" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">            pyenv install -s -f <span class="pl-smi">$python_ver_debian</span> <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC931" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          <span class="pl-k">else</span></div>
<div id="LC932" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">            echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: нет такой версии Python<span class="pl-smi">$python_ver_debian</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC933" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          <span class="pl-k">fi</span></div>
<div id="LC934" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        ;;</div>
<div id="LC935" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        rhel)</div>
<div id="LC936" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: установка версии Python<span class="pl-smi">$python_ver_rhel</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC937" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-s"><span class="pl-pds">`</span>pyenv install --list <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&#39;</span>s/^ *//g<span class="pl-pds">&#39;</span></span> <span class="pl-k">|</span> grep ^<span class="pl-smi">$python_ver_rhel</span><span class="pl-pds">`</span></span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$python_ver_rhel</span><span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC938" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">            pyenv install -s -f <span class="pl-smi">$python_ver_rhel</span> <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC939" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          <span class="pl-k">else</span></div>
<div id="LC940" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">            echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: нет такой версии Python<span class="pl-smi">$python_ver_rhel</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC941" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          <span class="pl-k">fi</span></div>
<div id="LC942" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        ;;</div>
<div id="LC943" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        altlinux)</div>
<div id="LC944" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: установка версии Python<span class="pl-smi">$python_ver_altlinux</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC945" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-s"><span class="pl-pds">`</span>pyenv install --list <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&#39;</span>s/^ *//g<span class="pl-pds">&#39;</span></span> <span class="pl-k">|</span> grep ^<span class="pl-smi">$python_ver_altlinux</span><span class="pl-pds">`</span></span><span class="pl-pds">&quot;</span></span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$python_ver_altlinux</span><span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC946" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">            pyenv install -s -f <span class="pl-smi">$python_ver_altlinux</span> <span class="pl-k">2&gt;&amp;1</span></div>
<div id="LC947" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          <span class="pl-k">else</span></div>
<div id="LC948" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">            echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Pyenv: нет такой версии Python<span class="pl-smi">$python_ver_altlinux</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC949" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">          <span class="pl-k">fi</span></div>
<div id="LC950" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">        ;;</div>
<div id="LC951" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">      <span class="pl-k">esac</span></div>
<div id="LC952" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-857 ">  <span class="pl-k">fi</span></div>
<div id="LC953" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">}</div>
<div id="LC954" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div ">
</div>
<div id="LC955" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-c"><span class="pl-c">#</span> установка pve окружения</span></div>
<div id="LC956" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div "><span class="pl-k">function</span> <span class="pl-en">install_pve</span> {</div>
<div id="LC957" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">  <span class="pl-c1">cd</span> <span class="pl-smi">$script_dir</span> <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$script_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC958" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">  <span class="pl-c"><span class="pl-c">#</span> удаляем старый кеш pip</span></div>
<div id="LC959" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">  rm -rf <span class="pl-smi">$HOME</span>/.cache/pip <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null</div>
<div id="LC960" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">  list_pip3_modules <span class="pl-smi">$3</span><span class="pl-k">;</span></div>
<div id="LC961" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">  <span class="pl-c"><span class="pl-c">#</span> оффлайн установка</span></div>
<div id="LC962" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">  <span class="pl-k">if</span> [ <span class="pl-smi">$1</span> <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">&quot;</span>offline<span class="pl-pds">&quot;</span></span> ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC963" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">    <span class="pl-c"><span class="pl-c">#</span> переход локально</span></div>
<div id="LC964" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">    <span class="pl-k">case</span> <span class="pl-smi">$os_install</span> <span class="pl-k">in</span></div>
<div id="LC965" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      centos7)</div>
<div id="LC966" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">        pyenv <span class="pl-k">local</span> <span class="pl-smi">$python_ver_centos</span></div>
<div id="LC967" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      ;;</div>
<div id="LC968" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      debian)</div>
<div id="LC969" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">        pyenv <span class="pl-k">local</span> <span class="pl-smi">$python_ver_debian</span></div>
<div id="LC970" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      ;;</div>
<div id="LC971" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      rhel)</div>
<div id="LC972" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">        pyenv <span class="pl-k">local</span> <span class="pl-smi">$python_ver_rhel</span></div>
<div id="LC973" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      ;;</div>
<div id="LC974" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      altlinux)</div>
<div id="LC975" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">        pyenv <span class="pl-k">local</span> <span class="pl-smi">$python_ver_altlinux</span></div>
<div id="LC976" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      ;;</div>
<div id="LC977" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">        <span class="pl-k">esac</span></div>
<div id="LC978" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">    <span class="pl-c"><span class="pl-c">#</span> создание окружения на базе питона</span></div>
<div id="LC979" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">    <span class="pl-k">if</span> <span class="pl-s"><span class="pl-pds">$(</span>source <span class="pl-smi">$2</span>/bin/activate <span class="pl-k">&gt;</span>/dev/null <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">&amp;&amp;</span> deactivate <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">echo</span> <span class="pl-c1">false</span> <span class="pl-k">||</span> <span class="pl-c1">echo</span> true<span class="pl-pds">)</span></span><span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC980" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Создание виртуального PVE окружения в <span class="pl-smi">$2</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC981" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      TMPDIR=/var/tmp python3 -m venv <span class="pl-smi">$2</span> <span class="pl-k">&amp;&amp;</span> sleep 0.5</div>
<div id="LC982" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      <span class="pl-c"><span class="pl-c">#</span> установка модулей</span></div>
<div id="LC983" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      <span class="pl-k">if</span> <span class="pl-s"><span class="pl-pds">$(</span>source <span class="pl-smi">$2</span>/bin/activate <span class="pl-k">&gt;</span>/dev/null <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">&amp;&amp;</span> deactivate <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">echo</span> <span class="pl-c1">false</span> <span class="pl-k">||</span> <span class="pl-c1">echo</span> true<span class="pl-pds">)</span></span><span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC984" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">        echo_error <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка создания виртуального PVE окружения<span class="pl-pds">&quot;</span></span></div>
<div id="LC985" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      <span class="pl-k">fi</span></div>
<div id="LC986" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">    <span class="pl-k">fi</span></div>
<div id="LC987" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">    <span class="pl-c1">source</span> <span class="pl-smi">$2</span>/bin/activate</div>
<div id="LC988" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      f_done=0</div>
<div id="LC989" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      <span class="pl-c1">cd</span> <span class="pl-smi">$int_arch_dir</span>/modules <span class="pl-k">2&gt;</span> /dev/null <span class="pl-k">||</span> echo_error <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-smi">$script_dir</span> нет такой директории<span class="pl-pds">&quot;</span></span></div>
<div id="LC990" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      <span class="pl-c"><span class="pl-c">#</span> обновление pip3</span></div>
<div id="LC991" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      TMPDIR=/var/tmp python3 -m pip install --no-cache-dir --upgrade pip --no-index --find-links <span class="pl-s"><span class="pl-pds">&#39;</span>.<span class="pl-pds">&#39;</span></span> --retries 60 --timeout 60 <span class="pl-k">2&gt;&amp;1</span> <span class="pl-k">&gt;</span>/dev/null</div>
<div id="LC992" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      <span class="pl-c"><span class="pl-c">#</span> предпринемаем 3 попытки на установку модулей</span></div>
<div id="LC993" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">      <span class="pl-k">while</span> [[ <span class="pl-k">!</span> <span class="pl-k">-z</span> <span class="pl-smi">$not_install</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">$f_done</span> <span class="pl-k">-lt</span> 3 ]]<span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC994" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">        <span class="pl-k">for</span> <span class="pl-s"><span class="pl-pds">((</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>; i<span class="pl-k">&lt;</span>&quot;<span class="pl-smi">${<span class="pl-k">#</span>not_install[@]}</span>&quot;; i<span class="pl-k">++</span> <span class="pl-pds">))</span></span><span class="pl-k">;</span> <span class="pl-k">do</span></div>
<div id="LC995" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">          pip_modules=<span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">${not_install[i]}</span> <span class="pl-k">|</span> tr <span class="pl-s"><span class="pl-pds">&#39;</span>|<span class="pl-pds">&#39;</span></span> <span class="pl-s"><span class="pl-pds">&#39;</span> <span class="pl-pds">&#39;</span></span><span class="pl-pds">)</span></span></div>
<div id="LC996" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">          echo_info <span class="pl-s"><span class="pl-pds">&quot;</span>Установка модуля(ей) Python <span class="pl-smi">$pip_modules</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC997" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">          <span class="pl-k">if</span> [ <span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$pip_modules</span> <span class="pl-k">|</span> grep -cE <span class="pl-s"><span class="pl-pds">&quot;</span>(^| )llama-cpp-python-cu<span class="pl-pds">&quot;</span></span><span class="pl-pds">)</span></span> <span class="pl-k">-ne</span> 0 ]<span class="pl-k">;</span> <span class="pl-k">then</span></div>
<div id="LC998" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">            TMPDIR=/var/tmp CUDACXX=<span class="pl-smi">${install_nvcc[0]}</span> CMAKE_ARGS=<span class="pl-s"><span class="pl-pds">&quot;</span>-DGGML_CUDA=on<span class="pl-pds">&quot;</span></span> FORCE_CMAKE=1 python3 -m pip install --no-cache-dir <span class="pl-s"><span class="pl-pds">$(</span>echo <span class="pl-smi">$pip_modules</span> <span class="pl-k">|</span> sed <span class="pl-s"><span class="pl-pds">&#39;</span>s/llama-cpp-python-cu/llama-cpp-python/<span class="pl-pds">&#39;</span></span><span class="pl-pds">)</span></span> --no-index --find-links <span class="pl-s"><span class="pl-pds">&#39;</span>.<span class="pl-pds">&#39;</span></span> --retries 60 --timeout 60 <span class="pl-k">||</span> echo_warning <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установкимодуля(ей) Python <span class="pl-smi">$pip_modules</span><span class="pl-pds">&quot;</span></span></div>
<div id="LC999" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">          <span class="pl-k">else</span></div>
<div id="LC1000" class="react-code-text react-code-line-contents-no-virtualization react-file-line html-div child-of-line-955 ">            TMPDIR=/var/tmp python3 -m pip install --no-cache-dir <span class="pl-smi">$pip_modules</span> --no-index --find-links <span class="pl-s"><span class="pl-pds">&#39;</span>.<span class="pl-pds">&#39;</span></span> --retries 60 --timeout 60 <span class="pl-k">||</span> echo_warning <span class="pl-s"><span class="pl-pds">&quot;</span>Ошибка установкимодуля(ей) Python <span class="pl-smi">$pip_modules</span><span class="pl-pds">&quot;</span></span></div>




































































































































































































































































































































































































































































































































































































































































































</div><div class="Box-sc-g0xbh4-0 gkZUDI"><a class="prc-Link-Link-85e08" href="https://github.com/kashapovalov/red-builder/raw/refs/heads/main/pve_installer/pve-1.089.sh">View remainder of file in raw view</a></div></div></div></div><div id="copilot-button-container"></div></div><div id="highlighted-line-menu-container"></div></div></div><button hidden="" data-testid="hotkey-button" data-hotkey-scope="read-only-cursor-text-area"></button><button hidden=""></button></section></div></div></div> <!-- --> <!-- --> </div></div></div></div></div></div></div><div id="find-result-marks-container" class="Box-sc-g0xbh4-0 cCoXib"></div><button hidden="" data-testid="" data-hotkey-scope="read-only-cursor-text-area"></button><button hidden=""></button></div> <!-- --> <!-- --> <script type="application/json" id="__PRIMER_DATA_:R0:__">{"resolvedServerColorMode":"night"}</script></div>
</react-app>
</turbo-frame>



  </div>

</turbo-frame>

    </main>
  </div>

  </div>

          <footer class="footer pt-8 pb-6 f6 color-fg-muted p-responsive" role="contentinfo" >
  <h2 class='sr-only'>Footer</h2>

  


  <div class="d-flex flex-justify-center flex-items-center flex-column-reverse flex-lg-row flex-wrap flex-lg-nowrap">
    <div class="d-flex flex-items-center flex-shrink-0 mx-2">
      <a aria-label="GitHub Homepage" class="footer-octicon mr-2" href="https://github.com">
        <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-mark-github">
    <path d="M12 1C5.9225 1 1 5.9225 1 12C1 16.8675 4.14875 20.9787 8.52125 22.4362C9.07125 22.5325 9.2775 22.2025 9.2775 21.9137C9.2775 21.6525 9.26375 20.7862 9.26375 19.865C6.5 20.3737 5.785 19.1912 5.565 18.5725C5.44125 18.2562 4.905 17.28 4.4375 17.0187C4.0525 16.8125 3.5025 16.3037 4.42375 16.29C5.29 16.2762 5.90875 17.0875 6.115 17.4175C7.105 19.0812 8.68625 18.6137 9.31875 18.325C9.415 17.61 9.70375 17.1287 10.02 16.8537C7.5725 16.5787 5.015 15.63 5.015 11.4225C5.015 10.2262 5.44125 9.23625 6.1425 8.46625C6.0325 8.19125 5.6475 7.06375 6.2525 5.55125C6.2525 5.55125 7.17375 5.2625 9.2775 6.67875C10.1575 6.43125 11.0925 6.3075 12.0275 6.3075C12.9625 6.3075 13.8975 6.43125 14.7775 6.67875C16.8813 5.24875 17.8025 5.55125 17.8025 5.55125C18.4075 7.06375 18.0225 8.19125 17.9125 8.46625C18.6138 9.23625 19.04 10.2125 19.04 11.4225C19.04 15.6437 16.4688 16.5787 14.0213 16.8537C14.42 17.1975 14.7638 17.8575 14.7638 18.8887C14.7638 20.36 14.75 21.5425 14.75 21.9137C14.75 22.2025 14.9563 22.5462 15.5063 22.4362C19.8513 20.9787 23 16.8537 23 12C23 5.9225 18.0775 1 12 1Z"></path>
</svg>
</a>
      <span>
        &copy; 2025 GitHub,&nbsp;Inc.
      </span>
    </div>

    <nav aria-label="Footer">
      <h3 class="sr-only" id="sr-footer-heading">Footer navigation</h3>

      <ul class="list-style-none d-flex flex-justify-center flex-wrap mb-2 mb-lg-0" aria-labelledby="sr-footer-heading">

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to Terms&quot;,&quot;label&quot;:&quot;text:terms&quot;}" href="https://docs.github.com/site-policy/github-terms/github-terms-of-service" data-view-component="true" class="Link--secondary Link">Terms</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to privacy&quot;,&quot;label&quot;:&quot;text:privacy&quot;}" href="https://docs.github.com/site-policy/privacy-policies/github-privacy-statement" data-view-component="true" class="Link--secondary Link">Privacy</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to security&quot;,&quot;label&quot;:&quot;text:security&quot;}" href="https://github.com/security" data-view-component="true" class="Link--secondary Link">Security</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to status&quot;,&quot;label&quot;:&quot;text:status&quot;}" href="https://www.githubstatus.com/" data-view-component="true" class="Link--secondary Link">Status</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to docs&quot;,&quot;label&quot;:&quot;text:docs&quot;}" href="https://docs.github.com/" data-view-component="true" class="Link--secondary Link">Docs</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to contact&quot;,&quot;label&quot;:&quot;text:contact&quot;}" href="https://support.github.com?tags=dotcom-footer" data-view-component="true" class="Link--secondary Link">Contact</a>
          </li>

          <li class="mx-2" >
  <cookie-consent-link>
    <button
      type="button"
      class="Link--secondary underline-on-hover border-0 p-0 color-bg-transparent"
      data-action="click:cookie-consent-link#showConsentManagement"
      data-analytics-event="{&quot;location&quot;:&quot;footer&quot;,&quot;action&quot;:&quot;cookies&quot;,&quot;context&quot;:&quot;subfooter&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;cookies_link_subfooter_footer&quot;}"
    >
       Manage cookies
    </button>
  </cookie-consent-link>
</li>

<li class="mx-2">
  <cookie-consent-link>
    <button
      type="button"
      class="Link--secondary underline-on-hover border-0 p-0 color-bg-transparent"
      data-action="click:cookie-consent-link#showConsentManagement"
      data-analytics-event="{&quot;location&quot;:&quot;footer&quot;,&quot;action&quot;:&quot;dont_share_info&quot;,&quot;context&quot;:&quot;subfooter&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;dont_share_info_link_subfooter_footer&quot;}"
    >
      Do not share my personal information
    </button>
  </cookie-consent-link>
</li>

      </ul>
    </nav>
  </div>
</footer>



    <ghcc-consent id="ghcc" class="position-fixed bottom-0 left-0" style="z-index: 999999"
      data-locale="en"
      data-initial-cookie-consent-allowed=""
      data-cookie-consent-required="false"
    ></ghcc-consent>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error" hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
    </button>
    You can’t perform that action at this time.
  </div>

    <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm" open>
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

    <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large" style="width:360px;">
  </div>
</div>

    <template id="snippet-clipboard-copy-button">
  <div class="zeroclipboard-container position-absolute right-0 top-0">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none m-2">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>
<template id="snippet-clipboard-copy-button-unpositioned">
  <div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>


    <style>
      .user-mention[href$="/korolcov"] {
        color: var(--color-user-mention-fg);
        background-color: var(--bgColor-attention-muted, var(--color-attention-subtle));
        border-radius: 2px;
        margin-left: -2px;
        margin-right: -2px;
      }
      .user-mention[href$="/korolcov"]:before,
      .user-mention[href$="/korolcov"]:after {
        content: '';
        display: inline-block;
        width: 2px;
      }
    </style>


    </div>

    <div id="js-global-screen-reader-notice" class="sr-only mt-n1" aria-live="polite" aria-atomic="true" ></div>
    <div id="js-global-screen-reader-notice-assertive" class="sr-only mt-n1" aria-live="assertive" aria-atomic="true"></div>
  </body>
</html>

